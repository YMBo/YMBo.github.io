---
title: 前端知识点
date: 2019-09-17 14:42:40 
tags: [javascript,css,http,react,vue] 
---
## 一、JavaScript
### 一、['1', '2', '3'].map(parseInt) ？ 
> [1,NaN,NaN] 

 **parseInt(string, radix)，字符串转十进制整数**


`string`：<span style='font-size:13px'>必需。要被解析的字符串。</span>
`radix` : <span style='font-size:13px'>可选。表示要解析的数字的基数。该值介于 2 ~ 36 之间。如果省略该参数或其值为 0，则数字将以 10 为基础来解析。如果它以 “0x” 或 “0X” 开头，将以 16 为基数。如果该参数小于 2 或者大于 36，则 parseInt() 将返回 NaN。</span>

<span style='font-size:13px;color:#0b807d'>
解析的时候，parseInt会认为 `string` 参数是 `radix` 进制的，比如：
`parseInt(3,4)` ,这里会认为“3”是 4进制的，所以当遇到这种情况:
`parseInt(3,2)`, 会认为这里的“3”是二进制的，那么3的二进制是3吗？不是啊，是 "11"啊 ，所以会返回NaN
</span>

### 二、防抖和节流
`下面我都用的 函数属性timer作为记录定时器的变量，其实也可以在函数内声明一个变量`
**防抖实现** 
<span style='font-size:13px;color:#0b807d'>
    触发高频事件后n秒内函数只会执行一次，如果n秒内高频事件再次被触发，则重新计算时间,
    比如窗口缩放事件 window.resize
</span>
``` javascript
function debounce(fn,time){
    return function(){
        clearTimeout(fn.timer)
        fn.timer=setTimeout(()=>{
            fn.apply(this, arguments)
        },time)
    }
}
```
<span style='font-size:13px;color:#0b807d'>
问：`为啥用apply?`
答：改变函数this指向
问：为啥要改变fn的this指向？如果不apply这个this又指向谁？要是不改有啥影响？
卒~

`解析：`首先要明白一件事情，**this**的指向问题，
**this的指向只是与如何调用这个方法有关**，看几个例子
``` javascript
a={
    m:function(){
        console.log(this)
    }
}
----------------------------------------------
1. 
a.m()       // a{} 对象

----------------------------------------------
2. 
var b=a.m;
    m()         //  指向全局对象，这里是window
----------------------------------------------
3. 
a.s=function(){
    setTimeout(function(){
        console.log(this)
    })
}
// 注意这里setTimeout我用的是 普通函数，this指向全局对象，这里指向window

4. 
a.s=function(){
    setTimeout(()=>{
        console.log(this)
    })
}
//  因为用了箭头函数，这里的this指向上一层this，即a对象

3、4 注意对比
----------------------------------------------
5. 
在函数里面执行a.m
function c(){
    a.m()
}
// a对象

6.
function m(){
    console.log(this)
}
a.c=function(){
    m()
}
a.c()         // window

5、6 
注意对比，这俩都是函数里面的函数执行。
因为里面函数里面的函数并不是作为一个方法所调用，
所以指向的是window，注意与 5 做对比
----------------------------------------------
```
<span style='font-size:13px;color:#0b807d'>
看完上面例子，你就知道了setTimeout里如果用箭头函数，那么this是当前作用于，但是 `fn()` 这样执行的时候，里面的this指向全局，所以要给这个fn绑定当前执行环境的this，以避免一些因为作用域问题引起bug
</span>

**节流实现** 
<span style='font-size:13px;color:#0b807d'>
高频事件触发，但在n秒内只会执行一次
</span>
``` javascript
function debounce(fn,time){
    return function(){
        if(fn.timer)return
        fn.timer=setTimeout(()=>{
            fn.apply(this, arguments)
            clearTimeout(fn.timer)
        },time)
    }
}
```
</span>

### 三、介绍下 Set、Map、WeakSet 和 WeakMap 的区别？
[阮一峰es6](http://es6.ruanyifeng.com/#docs/set-map)
