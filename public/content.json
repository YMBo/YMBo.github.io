{"meta":{"title":"DHYANA","subtitle":null,"description":"YMBoçš„åšå®¢ï¼Œblogï¼ŒYMBo","author":"YMBo","url":"http://yoursite.com"},"pages":[{"title":"categories","date":"2017-08-13T13:51:41.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2017-08-14T08:24:32.000Z","updated":"2021-01-25T10:48:26.563Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"cocos/webglæˆªå›¾","slug":"cocos-createræˆªå›¾","date":"2021-03-05T07:55:06.000Z","updated":"2021-04-08T09:56:34.152Z","comments":true,"path":"2021/03/05/cocos-createræˆªå›¾/","link":"","permalink":"http://yoursite.com/2021/03/05/cocos-createræˆªå›¾/","excerpt":"","text":"ï¼ˆå¾…è¡¥å……ï¼‰ èƒŒæ™¯æœ¬æ–‡æ˜¯ä»‹ç» cocos-creator æˆªå›¾é‡åˆ°çš„é—®é¢˜ã€åŸç†å’Œè§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆç¬¬ä¸€ç§æ–¹æ¡ˆå› ä¸º cocos-creater æœ¬è´¨å°±æ˜¯ä¸€ä¸ª canvasï¼Œæ‰€ä»¥ç›´æ¥ç”¨ canvas.toDataUrl()è·å– base64 å³å¯é—®é¢˜å¦‚æœå®é™…æ“ä½œä¸€ä¸‹å°±ä¼šå‘ç°ï¼Œé€šè¿‡ canvas.toDataUrl()è·å–çš„ base64 æ•°æ®æ˜¯é€æ˜çš„ï¼Œæ²¡æœ‰ä»»ä½•å†…å®¹é—®é¢˜åˆ†æåŠåŸç†å…³äº canvas å’Œ webgl çš„å·¥ä½œåŸç†äº†ï¼Œè·Ÿç»˜å›¾ç¼“å†²åŒºæœ‰å…³ï¼Œè¿˜ä¸å¤ªæ‡‚ ç•™å‘canvas ç¬¬äºŒç§æ–¹æ¡ˆé€šè¿‡æŸ¥æ‰¾æ–‡æ¡£å¾—çŸ¥ cocos creator æœ‰ä¸ªè¿™ä¸ªæ–¹æ³• readPixelsï¼Œä» render texture è¯»å–åƒç´ æ•°æ®ï¼Œæ•°æ®ç±»å‹ä¸º RGBA æ ¼å¼çš„ Uint8Array æ•°ç»„ã€‚ é»˜è®¤æ¯æ¬¡è°ƒç”¨æ­¤å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªå¤§å°ä¸º ï¼ˆé•¿ x é«˜ x 4ï¼‰ çš„ Uint8Arrayã€‚ ä½ å¯ä»¥é€šè¿‡ä¼ å…¥ data æ¥æ¥æ”¶åƒç´ æ•°æ®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¼ å‚æ¥æŒ‡å®šéœ€è¦è¯»å–çš„åŒºåŸŸçš„åƒç´ ã€‚ å…¶å®ä¸ºå•¥ä¸Šé¢æ ‡ç­¾æ‰“ä¸Š webgl å‘¢ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•æˆ‘çœ‹ cocos çš„å®ç°ï¼Œæ˜¯åœ¨ webgl çš„åŸºç¡€ä¸Šå°è£…äº†ä¸€ä¸‹ï¼Œcocos ä¹Ÿæ˜¯åŸºäº webgl çš„ï¼Œæ‰€ä»¥å®ƒä¿©çš„æˆªå›¾å¤„ç†åº”è¯¥ä¹Ÿä¸€è‡´ ç°åœ¨èƒ½è·å–äº†å›¾åƒçš„åƒç´ æ•°æ®äº†ï¼ åƒç´ æ•°æ®çš„å¤„ç†çŸ¥è¯†å›å½’ç”±ä¹‹å‰å†™çš„è¿™ä¸ªå¾—çŸ¥ï¼ŒreadPixels å¾—åˆ°çš„æ•°æ®ä¸èƒ½ç›´æ¥è½¬ blob ç„¶å createrObjectUrlï¼Œå› ä¸ºæ˜¯åƒç´ ç‚¹æ•°æ® æ‰€ä»¥æ€è·¯åº”è¯¥æ˜¯ å…ˆå°†è¿™äº›åƒç´ ç‚¹åœ¨ canvas ç»˜åˆ¶å‡ºæ¥ï¼Œç„¶åå†è°ƒç”¨ toDataUrl()è½¬æˆå›¾ç‰‡","categories":[],"tags":[{"name":"cocos-creater","slug":"cocos-creater","permalink":"http://yoursite.com/tags/cocos-creater/"},{"name":"canvas","slug":"canvas","permalink":"http://yoursite.com/tags/canvas/"},{"name":"webgl","slug":"webgl","permalink":"http://yoursite.com/tags/webgl/"}]},{"title":"Blob","slug":"Blob","date":"2021-03-01T02:53:51.000Z","updated":"2021-03-04T06:45:16.765Z","comments":true,"path":"2021/03/01/Blob/","link":"","permalink":"http://yoursite.com/2021/03/01/Blob/","excerpt":"","text":"å‰æƒ…æè¦arrayBuffer Blob ä¸€ã€æ¦‚å¿µè¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡æ–‡ä»¶å¯¹è±¡ File ç»§æ‰¿äº†æ‰€æœ‰ Blob çš„å±æ€§ äºŒã€ç”¨é€” Blob tips:window.URL.createObjectUR è½¬æ¢çš„ Url ç›¸å½“äºä¸€ä¸ªå¼•ç”¨ï¼Œåªèƒ½åœ¨å½“å‰é¡µé¢æœ‰æ•ˆ æå‡ºé—®é¢˜ï¼šä»€ä¹ˆæ ·çš„æ•°æ® createObjectURL åæ‰èƒ½èµ‹å€¼ç»™ img.src å±•ç¤ºå‡ºæ¥ï¼Ÿ ä¸‰ã€ä¾‹å­1ã€æ–‡ä»¶ä¸‹è½½æ–‡æœ¬å†…å®¹ä¸‹è½½ 123456// &lt;a href=\"\" download=\"\" id=\"dd\"&gt;ç‚¹å‡»ä¸‹è½½&lt;/a&gt;let blob = new Blob(['ä¸‹è½½å†…å®¹å†…å®¹']);let url = URL.createObjectURL(blob);let a = document.getElementById('dd');a.download = 'ä¸‹è½½æ ‡é¢˜';a.href = url; ä¸Šé¢æ˜¯æ–‡æœ¬ç±»å‹æ–‡ä»¶ä¸‹è½½ï¼Œå¦‚æœ Blob çš„å†…å®¹æ˜¯å›¾ç‰‡ã€å‹ç¼©èµ„æºçš„ buffer é‚£å°±æ„å‘³ç€å‰ç«¯å°±å¯ä»¥åšä»»ä½•ç±»å‹çš„æ–‡ä»¶ä¸‹è½½ å›¾ç‰‡èµ„æº éšä¾¿æ‰¾ä¸ªç™¾åº¦å›¾ç‰‡ï¼ˆä¸èƒ½è·¨åŸŸï¼‰ 1234567891011fetch( 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimages4.fanpop.com%2Fimage%2Fphotos%2F21800000%2FPain-akatsuki-21871797-1280-720.jpg&amp;refer=http%3A%2F%2Fimages4.fanpop.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1617163410&amp;t=b4da03a23ce7038703128e42919f5448').then((r) =&gt; &#123; r.blob().then((data) =&gt; &#123; console.log(data); let url = URL.createObjectURL(data); let a = document.getElementById('dd'); a.download = 'ä¸‹è½½æ ‡é¢˜'; a.href = url; &#125;);&#125;); 2ã€Blob æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ é€šè¿‡ Blob.slice å°†èµ„æºæ–‡ä»¶åˆ‡ç‰‡ï¼Œåˆ†æ®µä¸Šä¼ èµ„æºï¼Œåç«¯å†å°†è¿™äº›åˆ†ç‰‡èµ„æºæ‹¼æ¥èµ·æ¥ å››ã€Blob èµ„æºè½¬æ¢å› ä¸º File æ˜¯ç»§æ‰¿ Blobï¼Œæ‰€ä»¥ Blob çš„æ–¹æ³• File ä¹Ÿèƒ½ç”¨ é€šè¿‡ FileReader å¯¹è±¡ FileReader.readAsText(Blob/File)ï¼šå°† Blob è½¬ä¸ºæ–‡æœ¬å­—ç¬¦ä¸² FileReader.readAsArrayBuffer(Blob/File)ï¼š å°† Blob è½¬ä¸º ArrayBuffer æ ¼å¼æ•°æ® FileReader.readAsDataURL(Blob/File): å°† Blob è½¬åŒ–ä¸º Base64 æ ¼å¼çš„ Data URL é€šè¿‡ Blob/File å¯¹è±¡ Blob.text() ï¼šå°† Blob è½¬åŒ–ä¸ºæ–‡æœ¬å­—ç¬¦ä¸² Blob.arrayBuffer() ï¼šå°† Blob è½¬ä¸º ArrayBuffer æ ¼å¼æ•°æ® 1ã€FileReader tips: è°ƒç”¨ FileReader Api è§£æçš„ç»“æœéƒ½æ˜¯é€šè¿‡ onload å›è°ƒå–åˆ°çš„ FileReader ä¸Šè¿° Api çš„å‚æ•°æ˜¯ Blob æˆ– File å¯¹è±¡ 123456789// åˆ›å»ºä¸€ä¸ªFileReaderå¯¹è±¡const reader = new FileReader();// æ³¨å†Œonloadæ–¹æ³•ï¼Œè§£ææˆåŠŸçš„æ•°æ®é€šè¿‡è¿™ä¸ªå›è°ƒå‡½æ•°è¿”å›reader.onload = function () &#123; const content = reader.result; console.log('content', content);&#125;;// è§¦å‘è§£æapireader.readAsArrayBuffer(file); 2ã€Blob/File tips:Blob ä¸Šçš„è½¬æ¢æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ª promise 12345678910111213document.getElementById('f').addEventListener( 'change', function (e) &#123; var file = this.files[0]; file.arrayBuffer().then((text) =&gt; &#123; console.log('111', text); &#125;); file.text().then((text) =&gt; &#123; console.log('111', text); &#125;); &#125;, false); å››ã€Blob æ•°æ®åˆ†æ1. å½“ blob è½¬æ¢ä¸º Arraybuffer åï¼Œæ•°æ®æ˜¯æŒ‰ä»€ä¹ˆè§„åˆ™è½¬æ¢çš„ï¼Ÿ12345let a = ['a'];let b = new Blob(a);b.arrayBuffer().then((r) =&gt; &#123; console.log(r);&#125;); arrayBuffer å¯ä»¥çœ‹åˆ°â€™aâ€™çš„ arrayBuffer æ˜¯ 97ï¼Œæ‰€ä»¥è½¬æ¢è§„åˆ™åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šå°†å­—ç¬¦ä¸²è½¬æˆçš„ Unicode ç¼–ç  1234String.fromCharCode(97);// \"a\"'a'.charCodeAt();// 97 2ã€ä»€ä¹ˆæ ·çš„æ•°æ® createObjectURL åæ‰èƒ½èµ‹å€¼ç»™ img.src å±•ç¤ºå‡ºæ¥ï¼Ÿblob å­˜å‚¨çš„å†…å®¹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé€šè¿‡ input type=â€™fileâ€™æ ‡ç­¾ä¼ çš„å›¾ç‰‡å¯ä»¥ç›´æ¥ createrObjectUrl å°±èƒ½ç»™ img.src ç›´æ¥å±•ç¤ºï¼Œè¿™ç§æƒ…å†µä¸‹ blob å­˜å‚¨çš„æ˜¯å›¾ç‰‡æ–‡ä»¶çš„ base64 å†…å®¹è€Œåœ¨ä¸€äº›æƒ…å†µä¸‹æ¯”å¦‚readPixels()è¿”å›çš„æ•°æ®é‡Œï¼Œå­˜å‚¨çš„æ˜¯å›¾åƒçš„åƒç´ ç‚¹ rgbaï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ç”¨ createrObjectUrl è½¬æ¢æˆå›¾ç‰‡æ˜¾ç¤º","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"},{"name":"Blob","slug":"Blob","permalink":"http://yoursite.com/tags/Blob/"}]},{"title":"jsçš„äºŒè¿›åˆ¶","slug":"jsçš„äºŒè¿›åˆ¶","date":"2021-02-24T11:13:16.000Z","updated":"2021-03-04T04:03:52.021Z","comments":true,"path":"2021/02/24/jsçš„äºŒè¿›åˆ¶/","link":"","permalink":"http://yoursite.com/2021/02/24/jsçš„äºŒè¿›åˆ¶/","excerpt":"","text":"ä¸€ã€å‰è¨€blob æœ¬ç¯‡æ˜¯å…³äº js äºŒè¿›åˆ¶ä»æ“ä½œçš„ä¸€äº›ä»‹ç»ï¼Œå…¶ä¸­æå‡ºé—®é¢˜ç›¸å…³æ˜¯æˆ‘åœ¨æ“ä½œè¿‡ç¨‹ä¸­çš„ä¸€äº›ç–‘é—®ï¼Œåœ¨å¤šæ¬¡å°è¯•å¹¶æœç´¢ç›¸å…³èµ„æ–™åå¾—å‡ºçš„ç»“è®ºï¼Œé‡ç‚¹å…³æ³¨ äºŒã€ArrayBuffer æ¦‚å¿µç”¨æ¥è¡¨ç¤ºé€šç”¨çš„ã€å›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºå®ƒæ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œæ¯ä¸€ä½è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚ ä¸‰ã€ç‰¹ç‚¹ä¸èƒ½è¯»å†™ï¼Œåªèƒ½é€šè¿‡ TypedArray è§†å›¾å’Œ DataView è§†å›¾æ¥è¯»å†™ å››ã€å…³äºç±»å‹12// åˆ›å»ºä¸€ä¸ª 32 å­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œé»˜è®¤å€¼0let buf = new ArrayBuffer(32); è§†å›¾ å¯ä»¥çœ‹åˆ°ä»¥ä¸Šå‡ ç§ç±»å‹è§†å›¾ï¼ŒInt8Arrayã€Int16Arrayã€Int32Arrayã€Uint8Array æå‡ºé—®é¢˜ï¼šä¸ºä»€ä¹ˆæ¯ç§è§†å›¾é•¿åº¦ä¸ä¸€æ ·ï¼Ÿ1 å­—èŠ‚=8 ä½32 å­—èŠ‚=8*32 ä½æ‰€ä»¥åœ¨æœ‰ç¬¦å·8ä½æ•´æ•°ç±»å‹ï¼ˆä¸€é¡¹è¡¨ç¤ºä¸€å­—èŠ‚ï¼‰ä¸­çš„é•¿åº¦æ˜¯ 32æœ‰ç¬¦å·16ä½æ•´æ•°ç±»å‹ï¼ˆä¸€é¡¹è¡¨ç¤ºä¸¤ä¸ªå­—èŠ‚ï¼‰ä¸­çš„é•¿åº¦æ˜¯ 16æœ‰ç¬¦å·32ä½æ•´æ•°ç±»å‹ï¼ˆä¸€é¡¹è¡¨ç¤ºå››ä¸ªå­—èŠ‚ï¼‰ä¸­çš„é•¿åº¦æ˜¯ 8æ— ç¬¦å·8ä½æ•´æ•°ç±»å‹ï¼ˆä¸€é¡¹è¡¨ç¤ºä¸€å­—èŠ‚ï¼‰ä¸­çš„é•¿åº¦æ˜¯ 32 äº”ã€ArrayBuffer è¯»å†™ tip:å†™æ“ä½œæ˜¯é’ˆå¯¹äºå†…å­˜çš„ï¼Œæ‰€ä»¥é€šè¿‡è§†å›¾ä¿®æ”¹å­—èŠ‚åï¼ŒåŸå§‹ buffer ä¹ŸåŒæ­¥å˜åŒ– 1ã€é€šè¿‡ DataView è§†å›¾è¯»å†™123456789// bufä¹ŸåŒæ­¥æ”¹å˜const buf = new ArrayBuffer(32);const dataView = new DataView(buf);// è®¾ç½®ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸ºæ•´æ•°1ï¼Œç¬¬äºŒä¸ªå­—èŠ‚ä¸ºæ•´æ•°2ï¼Œå¹¶è·å–ç¬¬äºŒä¸ªå­—èŠ‚// å…¶ä»–ç±»å‹åŒç†dataView.setInt8(0, 1);dataView.setInt8(1, 2);dataView.getInt8(1);console.log(buf); ç»“æœ æå‡ºé—®é¢˜ï¼šä¸ºä»€ä¹ˆ Int8Arrayã€Int16Arrayã€Int32Array å‰ä¸¤é¡¹ä¸ä¸€æ ·Int8Array çš„ä¸¤é¡¹ç›¸å½“äº Int16Array çš„ä¸€é¡¹1 çš„äºŒè¿›åˆ¶ï¼š000000012 çš„äºŒè¿›åˆ¶ï¼š00000010ä¸¤é¡¹è½¬ä¸€é¡¹ Int8Array&gt;Int16Array00000001,00000010 =&gt;0000001000000001 =513 2ã€é€šè¿‡ typesArray è§†å›¾è¯»å†™Uint8Arrayã€Int8Arrayã€Int16Array çš„å®ä¾‹æ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œä¸æ˜¯æ•°ç»„ä½†å¯ä»¥ç”¨æ•°ç»„çš„ä¸€äº›æ–¹æ³• mapã€every ç­‰ 1234const buffer = new ArrayBuffer(12);const x1 = new Int8Array(buffer);x1[0] = 1;const x2 = new Uint8Array(buffer); å…­ã€å…³äºæº¢å‡ºè½¬æ¢è§„åˆ™ï¼šæ­£å‘æº¢å‡ºï¼ˆoverflowï¼‰ï¼šå½“è¾“å…¥å€¼å¤§äºå½“å‰æ•°æ®ç±»å‹çš„æœ€å¤§å€¼ï¼Œç»“æœç­‰äºå½“å‰æ•°æ®ç±»å‹çš„æœ€å°å€¼åŠ ä¸Šä½™å€¼ï¼Œå†å‡å» 1ã€‚è´Ÿå‘æº¢å‡ºï¼ˆunderflowï¼‰ï¼šå½“è¾“å…¥å€¼å°äºå½“å‰æ•°æ®ç±»å‹çš„æœ€å°å€¼ï¼Œç»“æœç­‰äºå½“å‰æ•°æ®ç±»å‹çš„æœ€å¤§å€¼å‡å»ä½™å€¼çš„ç»å¯¹å€¼ï¼Œå†åŠ ä¸Š 1ã€‚ ä¸€ä¸ªæœ‰ç¬¦å· 8 ä½æ•´æ•°çš„èŒƒå›´æ˜¯[-128,127],é‚£å¦‚æœèµ‹å€¼130ä¼šå˜æˆå•¥æ•°å‘¢ï¼Ÿ130%127=3-128+3-1=-126æ‰€ä»¥æœ€åçš„å€¼æ˜¯-126 -120 èµ‹å€¼-130åŒç†:127-(|-130%-128|)+1=126 -120 å…¶å®è¿™ä¸ªä¸œè¥¿ç›¸å½“äºä¸€ä¸ªè¡¨ç›˜ï¼Œä»-128 å¼€å§‹ 127 ç»“æŸ è¡¨ç›˜ ä¸ƒã€arrayBuffer è½¬ base641ã€ç¬¬ä¸€ç§æ–¹æ³•btoa:ç”¨äºåˆ›å»ºä¸€ä¸ª base-64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚å‚æ•°æ˜¯å­—ç¬¦ä¸² 12345const buffer = new ArrayBuffer(12);const uint8Array = new Uint8Array(buffer);let str = String.fromCharCode(...uint8Array);// æ‹¼ä¸Šæ–‡ä»¶å¤´let base64 = `data:image/jpeg;base64,$&#123;window.btoa(str)&#125;`; æ³¨æ„æ³¨æ„ï¼ï¼ è¿™ç§æ–¹å¼å¦‚æœ buffer å¤ªå¤§å°±ä¼šè½¬æ¢å¤±è´¥ï¼ŒfromCharCodeå‚æ•°å¤ªå¤§å°±ä¼šè¿™æ ·Uncaught (in promise) RangeError: Maximum call stack size exceeded 2ã€ç¬¬äºŒç§æ–¹æ³•tips:è¿™ç§æ–¹æ³•å¤§å›¾ç‰‡ç‰¹åˆ«è´¹æ—¶é—´ 1234567var binary = '';var bytes = new Uint8Array(buffer);var len = bytes.byteLength;for (var i = 0; i &lt; len; i++) &#123; binary += String.fromCharCode(bytes[i]);&#125;window.btoa(binary); 3ã€ç¬¬ä¸‰ç§æ–¹æ³•tipsï¼šè¿™ç§æ–¹æ³•ä¸ä¼šå‡ºç°è½¬æ¢å¤±è´¥å’Œè´¹æ—¶é—´ å…ˆå°† buffer è½¬ä¸º blob å¯¹è±¡ï¼Œå†æŠŠ blob è½¬ä¸º base64 12345678const buffer = new ArrayBuffer(bufferæ•°æ®);let blob = new Blob([buffer]);let reader = new FileReader();reader.onload = function () &#123; const base = reader.result; console.log(base);&#125;;reader.readAsDataURL(blob);","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"},{"name":"ArrayBuffer","slug":"ArrayBuffer","permalink":"http://yoursite.com/tags/ArrayBuffer/"}]},{"title":"tsconfigé…ç½®","slug":"tsconfigé…ç½®","date":"2021-01-25T10:55:54.000Z","updated":"2021-02-03T09:45:13.803Z","comments":true,"path":"2021/01/25/tsconfigé…ç½®/","link":"","permalink":"http://yoursite.com/2021/01/25/tsconfigé…ç½®/","excerpt":"","text":"ä¸€ã€å‰è¨€ä¸çŸ¥ä¸è§‰å¥½ä¹…æ²¡æœ‰å†™åšå®¢å’Œæäº¤ github äº†ï¼Œ20 å¹´å¹´åˆæ¢äº†å·¥ä½œåï¼Œæ¯å¤©éƒ½éå¸¸å¿™ï¼Œå·¥ä½œç¹å¿™çš„åŒæ—¶è‡ªå·±ä¹Ÿæœ‰ä¸€äº›æ”¶è·å’Œæˆé•¿ï¼Œä¹Ÿæœ‰ä¸€äº›æ–°çš„æ”¶è·æƒ³å’Œæƒ³æ³•æƒ³è®°å½•ä¸‹æ¥ï¼Œä½†ä¹‹å‰å› ä¸ºå·¥ä½œçš„åŸå› è¿™äº‹ä¸€åªæ‹–ç€æ‹–ç€æœ€åå°±å¿˜äº†ï¼Œç»ˆäºå†ç»è¿‘ä¸€å¹´ç»ˆäºäº§å‡ºäº†è¿™ç¯‡æ–‡ç«  ğŸ¤¦â€â™€ äºŒã€èƒŒæ™¯å› ä¸ºå¯¹ tsconfig.json çš„é…ç½®é¡¹ä¸å¤ªäº†è§£ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« ä»¥é…ç½®é¡¹è§£é‡Š+demo çš„å½¢å¼åˆ†æå„ä¸ªé…ç½®é¡¹çš„ä½œç”¨ ä¸‰ã€tsconfigç°åœ¨ä»¥ demo çš„ tsconfig.json æ¯ä¸ªé…ç½®é¡¹ä¸ºä¾‹ï¼Œè¯¦ç»†è¯´æ˜å…¶ä½œç”¨æ–°å»º tsconfig.json ç©ºæ–‡ä»¶ ç»è¿‡æµ‹è¯•åœ¨tsconfig include å­—æ®µåŒ…å«çš„èŒƒå›´å†…ç¼–å†™ .d.ts/.tsï¼Œéƒ½å°†è¢«è‡ªåŠ¨è¯†åˆ« 1ã€target targetæŒ‡çš„æ˜¯ç¼–è¯‘åç›®æ ‡ç‰ˆæœ¬çš„è¯­æ³•æ˜¯å•¥ demo æ–°å»ºä¸€ä¸ª a.ts æ–‡ä»¶ï¼Œç”¨ tsc å‘½ä»¤ç¼–è¯‘åçœ‹ç»“æœ æ·»åŠ  &quot;target&quot;: &quot;ESNext&quot; é…ç½®ï¼ˆESNextï¼šä»¥å½“å‰ js ç‰ˆæœ¬çš„ä¸‹ä¸ªç‰ˆæœ¬ææ¡ˆä¸ºæ ‡å‡†ç¼–è¯‘ï¼Œæ€»æ˜¯æœ€æ–°è¯­æ³•ï¼‰ 12345678910const greeter = (person) =&gt; &#123; return 'Hello, ' + person;&#125;;export interface c &#123; age: string;&#125;const user: string = 'Jane User';async function age() &#123; await greeter(user);&#125; ç¼–è¯‘åï¼š 12345678const greeter = (person) =&gt; &#123; return 'Hello, ' + person;&#125;;const user = 'Jane User';async function age() &#123; await greeter(user);&#125;export &#123;&#125;; å¯ä»¥çœ‹åˆ°è¯­æ³•ç»“æ„åŸºæœ¬æ²¡å•¥å˜åŒ–ï¼Œå› ä¸ºç¼–è¯‘ç›®æ ‡æ˜¯æœ€æ–°è¯­æ³• &quot;target&quot;: &quot;ts3&quot;ç¼–è¯‘åï¼šå¯ä»¥çœ‹ç¼–è¯‘åæ˜¯ es3 çš„è¯­æ³• 1234567891011121314151617var greeter = function (person) &#123; return 'Hello, ' + person;&#125;;var user = 'Jane User';function age() &#123; return tslib_1.__awaiter(this, void 0, void 0, function () &#123; return tslib_1.__generator(this, function (_a) &#123; switch (_a.label) &#123; case 0: return [4 /*yield*/, greeter(user)]; case 1: _a.sent(); return [2 /*return*/]; &#125; &#125;); &#125;);&#125; &quot;target&quot;: &quot;ts6&quot;ç¼–è¯‘åï¼šå¯ä»¥çœ‹ç¼–è¯‘åæ˜¯ es6 çš„è¯­æ³•ï¼Œå› ä¸ºç®­å¤´å‡½æ•°è¢«ä¿ç•™äº†,è£…é¥°å™¨ä¸æ˜¯ es6 çš„è¯­æ³•æ‰€ä»¥è¢«è½¬æ¢äº† 123456789const greeter = (person) =&gt; &#123; return 'Hello, ' + person;&#125;;const user = 'Jane User';function age() &#123; return __awaiter(this, void 0, void 0, function* () &#123; yield greeter(user); &#125;);&#125; target å…¶ä»–å‚æ•°åŒç† 2ã€outDir outDiræŒ‡çš„æ˜¯ç¼–è¯‘åçš„æ–‡ä»¶å­˜æ”¾ç›®å½• åœ¨ tsconfig ä¸­æ·»åŠ  &quot;outDir&quot;: &quot;lib&quot;,è¿è¡Œ tscå¯ä»¥å‘ç°å‡ºç°äº†ä¸ª lib ç›®å½•ï¼Œlib ç›®å½•é‡Œé¢æ˜¯ a.js,ç›®å½•ç»“æ„ libâ””â”€â”€ a.jsâ”œa.tsâ”œtsconfig.json 3ã€allowJs allowJsæ˜¯å¦å…è®¸ç¼–è¯‘ js åœ¨ tsconfig ä¸­æ·»åŠ allowJsï¼šfalseæ·»åŠ m.jsæ–‡ä»¶ï¼Œå†…å®¹ä¸º 12345678910const greeter2 = (person) =&gt; &#123; return 'Hello, ' + person;&#125;;const user2 = 'Jane User';async function age2() &#123; await greeter2(user2);&#125;let name = 'm.js';export &#123; name, age2 &#125;; è¿è¡Œä¸‹ tscï¼Œå‘ç°å¦‚æœ allowJsï¼šfalse,é‚£ä¹ˆ m.jsï¼ˆ.js æ–‡ä»¶ï¼‰ä¸ä¼šè¢«ç¼–è¯‘ï¼Œture çš„æ—¶å€™å›è¢«æ­£å¸¸ç¼–è¯‘åˆ° lib æ–‡ä»¶å¤¹ä¸‹ 4ã€strict è¿™ä¸ªé€‰é¡¹è§„å®šäº†æ˜¯å¦å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹ã€‚å¯ç”¨ â€“strict ç›¸å½“äºå¯ç”¨ â€“noImplicitAny, â€“noImplicitThis, â€“alwaysStrictï¼Œ â€“strictNullChecks å’Œ â€“strictFunctionTypes å’Œâ€“strictPropertyInitialization ç›¸å½“äºæ›´ä¸¥æ ¼çš„æ¨¡å¼ï¼Œä»¥noImplicitAnyä¸ºä¾‹ï¼Œè¯´æ˜ä¸‹ï¼Œçœ‹ 5 5ã€noImplicitAny åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ any ç±»å‹æ—¶æŠ¥é”™ åœ¨ tsconfig ä¸­æ·»åŠ noImplicitAny:true,å¼€å¯ any ç±»å‹æ£€æŸ¥ è¿è¡Œ tscï¼Œç¼–è¯‘ a.tsï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹æŠ¥é”™ 1234567a.ts:31:18 - error TS7006: Parameter &apos;person&apos; implicitly has an &apos;any&apos; type.31 const greeter = (person) =&gt; &#123; ~~~~~~Found 1 error. ä¸Šé¢ noImplicitThis ä¹‹ç±»çš„åŒç† 6ã€strictFunctionTypes è¿™ä¸ªæŸ¥äº†è®¸å¤šèµ„æ–™ï¼Œè¿™ä¸ªè¯´çš„æœ€å¥½ï¼šstrictFunctionTypes ä¸¥æ ¼å‡½æ•°ç±»å‹æ£€æŸ¥ã€‚è¿™ä¸ªè¯´çš„æ¯”è¾ƒæŠ½è±¡ï¼Œä¸¾ä¸ªä¾‹å­çˆ¶=å­ é”™è¯¯ ï¼Œ å­=çˆ¶ æ­£ç¡® åœ¨ tsconfig.json æ·»åŠ strictFunctionTypes:trueï¼Œå¼€å¯æ£€æŸ¥åœ¨ a.ts æ·»åŠ ä¸€ä¸‹ä»£ç ï¼š 123456function getCurrentYear(callback: (date: string | number) =&gt; void) &#123; callback(Math.random() &gt; 0.5 ? '2020' : 2020);&#125;getCurrentYear((date: string) =&gt; &#123; console.log(date.charAt(0));&#125;); ç¼–è¯‘æŠ¥é”™ï¼š 1234567a.ts:38:16 - error TS2345: Argument of type '(date: string) =&gt; void' is not assignable to parameter of type '(date: string | number) =&gt; void'. Types of parameters 'date' and 'date' are incompatible. Type 'string | number' is not assignable to type 'string'. Type 'number' is not assignable to type 'string'.38 getCurrentYear((date: string) =&gt; &#123; ~~~~~~~~~~~~~~~~~~~ å¦‚æœ strictFunctionTypes:falseå…³é—­æ£€æŸ¥åˆ™ä¸ä¼šæŠ¥é”™ 7ã€jsx jsx çš„ç¼–è¯‘è§„åˆ™ æ¨¡å¼ è¾“å…¥ è¾“å‡º è¾“å‡ºæ–‡ä»¶æ‰©å±•å preserve â€œâ€œ .jsx react React.createElement(â€œdivâ€) .js react-native .js åœ¨ tsconfig.json æ·»åŠ &quot;jsx&quot;: &quot;preserveåˆ›å»ºæ–‡ä»¶t.jsxå†…å®¹ä¸º: 1&lt;div&gt;&lt;/div&gt; ç¼–è¯‘åï¼š 1&lt;div&gt;&lt;/div&gt; åœ¨ tsconfig.json ä¿®æ”¹&quot;jsx&quot;: &quot;reactç¼–è¯‘åçš„æ–‡ä»¶åç¼€å˜æˆäº†.js: 1React.createElement('div', null); 8ã€experimentalDecorators å…è®¸æ˜¯ç”¨è£…é¥°å™¨ å¦‚æœä¸å¼€å¯è¿™ä¸ªé€‰é¡¹ï¼Œæ˜¯ä¸èƒ½ç”¨è£…é¥°å™¨çš„ï¼Œåœ¨ a.ts ä¸­æ·»åŠ ï¼š 123456function decoraters(target) &#123; target.age = 10;&#125;@decoratersclass m &#123;&#125; å¯ä»¥çœ‹åˆ°ç¼–è¯‘æŠ¥é”™ 9ã€importHelpers/moduleResolution importHelpers:ä» tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•°ï¼ˆæ¯”å¦‚ extendsï¼Œ rest ç­‰ï¼‰ï¼Œè€Œä¸æ˜¯ç”Ÿæˆä»£ç åˆ°æ–‡ä»¶é‡ŒmoduleResolution:å†³å®šå¦‚ä½•å¤„ç†æ¨¡å—ã€‚æˆ–è€…æ˜¯â€Nodeâ€å¯¹äº Node.js/io.jsï¼Œæˆ–è€…æ˜¯â€Classicâ€ï¼ˆé»˜è®¤ï¼‰ è¿™ä¸ªé€‰é¡¹ä¾èµ–tslibè¿™ä¸ªåº“ï¼Œå®‰è£…è¿™ä¸ªåº“åœ¨ tsconfig.json æ·»åŠ &quot;importHelpers&quot;: trueï¼Œè¿™æ—¶å€™ a.ts å°±æŠ¥çº¢äº†ï¼š çº¢çº¢çº¢ è¯´æ˜¯æ‰¾ä¸åˆ° tiblib è¿™ä¸ªåº“ï¼Œæ˜æ˜å·²ç»å®‰è£…äº†å‘€ï¼Œåœ¨ node_modules ç›®å½•ä¸‹ï¼Œå…¶å®æ˜¯ ts ä¸çŸ¥é“å»å“ªæ‰¾è¿™ä¸ªåº“ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å‘Šè¯‰ ts å»å“ªæ‰¾è¿™ä¸ªåº“ï¼Œæ·»åŠ é…ç½®ï¼šmoduleResolution:node å¤šè¯´ä¸€å˜´ï¼ŒmoduleResolution æœ‰ä¸¤ä¸ªé…ç½®é¡¹ node å’Œ classicï¼ˆé»˜è®¤ï¼‰ï¼Œè¿™ä¿©é€»è¾‘ä¹Ÿå¾ˆç®€å•nodeã€classic ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯è®¾ç½®node tips:å…¶å®è¿™ä¸ªä¸é…ç½® moduleResolution ä¹Ÿæœ‰å¦å¤–çš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯åœ¨ tsconfig åŠ ä¸Šè¿™ä¸ªé…ç½®ï¼Œå‘Šè¯‰å¦‚æœç”¨ classic æ–¹æ¡ˆçš„è¯ï¼Œå»å“ªæ‰¾è¿™ä¸ªåŒ… 1234567&gt; \"baseUrl\": \".\",&gt; \"paths\": &#123;&gt; \"tslib\": [&gt; \"./node_modules/tslib/tslib.d.ts\"&gt; ]&gt; &#125;,&gt; è¿è¡Œ tsc ç¼–è¯‘ï¼Œç»“æœï¼šå¯ä»¥çœ‹åˆ°è£…é¥°å™¨çš„è¾…åŠ©æ–¹æ³•å·²ç»é€šè¿‡ import å¼•å…¥äº† 1234567import &#123; __decorate &#125; from 'tslib';function decoraters(target) &#123; target.age = 10;&#125;let m = class m &#123;&#125;;m = __decorate([decoraters], m);export default decoraters; ä¿®æ”¹tsconfig.jsonè¯•è¯•importHelpersï¼šfalseï¼Œç¼–è¯‘ç»“æœï¼šè¾…åŠ©æ–¹æ³•æ‰“åˆ°äº†æ–‡ä»¶é‡Œäº† 12345678910111213141516171819202122232425var __decorate = (this &amp;&amp; this.__decorate) || function (decorators, target, key, desc) &#123; var c = arguments.length, r = c &lt; 3 ? target : desc === null ? (desc = Object.getOwnPropertyDescriptor(target, key)) : desc, d; if (typeof Reflect === 'object' &amp;&amp; typeof Reflect.decorate === 'function') r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i &gt;= 0; i--) if ((d = decorators[i])) r = (c &lt; 3 ? d(r) : c &gt; 3 ? d(target, key, r) : d(target, key)) || r; return c &gt; 3 &amp;&amp; r &amp;&amp; Object.defineProperty(target, key, r), r; &#125;;function decoraters(target) &#123; target.age = 10;&#125;let m = class m &#123;&#125;;m = __decorate([decoraters], m);export default decoraters; 10ã€noEmitHelpers è¿™ä¸ªè·Ÿä¸Šé¢é‚£ä¸ªå‚æ•°åšçš„äº‹æƒ…å·®ä¸å¤šï¼Œå°±æ˜¯ ä¸ç”Ÿæˆå¸®åŠ©å‡½æ•° æ¥è¯•è¯•çœ‹ åœ¨ tsconfig.json æ·»åŠ &quot;noEmitHelpers&quot;: trueï¼Œä¸ç”Ÿæˆè¾…åŠ©æ–¹æ³•ï¼šç¼–è¾‘ç»“æœï¼š 123456function decoraters(target) &#123; target.age = 10;&#125;let m = class m &#123;&#125;;m = __decorate([decoraters], m);export default decoraters; 11ã€typeRoots è¿™ä¸ªç”¨äºæŒ‡å®šç±»å‹å£°æ˜æ–‡ä»¶çš„æŸ¥æ‰¾è·¯å¾„ã€‚é»˜è®¤å€¼ä¸º node_modules/@typesï¼Œå³åœ¨ node_modules ä¸‹çš„@types é‡Œé¢æŸ¥æ‰¾ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œä»…ä»…æ˜¯ d.ts æ–‡ä»¶çš„æŸ¥æ‰¾è·¯å¾„ã€‚åŒæ ·ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ç›¸å½“äºåœ¨å¼•å…¥éç›¸å¯¹æ¨¡å—çš„æ—¶å€™æ‹“å®½äº†ç±»å‹å£°æ˜æ–‡ä»¶çš„æŸ¥æ‰¾èŒƒå›´ï¼Œå…¶å®å°±æ˜¯é…ç½®ç±»å‹å£°æ˜æ–‡ä»¶çš„æŸ¥æ‰¾ç›®å½• æ³¨æ„è¿™ä¸ªåªæ˜¯ç±»å‹çš„æŸ¥æ‰¾ æœ¬åœ°è¯•äº†è¯•ï¼Œæ²¡å‘ç°æœ‰å•¥ç”¨ï¼Œè¿™ä¸ªå‚æ•°å¥½åƒæ²¡å•¥å®é™…åº”ç”¨åœºæ™¯å•Šï¼Ÿ 12ã€declaration ç”Ÿæˆç›¸åº”çš„ .d.ts æ–‡ä»¶ã€‚è¿™ä¸ªæ³¨æ„ï¼Œåªæœ‰ä»£ç é‡Œ export çš„å˜é‡æˆ–æ–¹æ³• æ‰ä¼šè¢«ç”Ÿæˆ.d.ts æ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¸ªå˜é‡æ²¡æœ‰ exportï¼Œé‚£å°±åœ¨å¯¹åº”çš„.d.ts æ–‡ä»¶é‡Œä¸ä¼šåŒ…å«æ­¤å˜é‡çš„ç±»å‹ åœ¨ tsconfig.json æ·»åŠ &quot;declaration&quot;: trueï¼Œç”Ÿæˆç±»å‹æ–‡ä»¶ a.ts ä¸­æ·»åŠ ä¸€ä¸ªæ²¡æœ‰ export çš„æ–¹æ³• ageï¼š 12345678910111213function decoraters(target) &#123; target.age = 10;&#125;@decoratersclass m &#123;&#125;function age() &#123; console.log('m');&#125;age();export default decoraters; çœ‹åˆ°è¾“å‡ºçš„a.d.tsç»“æœï¼š 12declare function decoraters(target: any): void;export default decoraters; ä¸åŒ…å«ageæ–¹æ³• 13ã€declarationDir ç”Ÿæˆ.d.ts æ–‡ä»¶çš„å­˜æ”¾ç›®å½• 14ã€allowSyntheticDefaultImports å½“å¯¼å…¥çš„æ¨¡å—æ˜¯ä»¥ commonJs è¯­æ³•å¯¼å‡ºæ—¶ï¼Œä¸èƒ½ç”¨ import M from â€˜./mâ€™ è¿™ç§è¯­æ³•ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸º ts ä¼šæ£€æµ‹å¯¼å…¥æ¨¡å—æ˜¯å¦æœ‰ default å­—æ®µï¼Œæ²¡æœ‰çš„è¯å¯¼å‡ºè¦ç”¨ import * as M from â€˜./mï¼ŒåŠ è¿™ä¸ªé…ç½® å¯ä»¥æ­£å¸¸å¯¼å…¥ import M from â€˜./â€˜ æ–°å»º commonJs.js æ–‡ä»¶,ç”¨ commonJs è¯­æ³•å¯¼å‡ºï¼š 12345678let CommonJS = 1;function getCom() &#123; return CommonJS;&#125;module.exports = function (x) &#123; console.log(x);&#125;; ä¿®æ”¹ a.ts: 12345import getCom from './commonJS';console.log(getCom);function decoraters(target) &#123; target.age = 10;&#125; ç¼–è¯‘ï¼š 12345678910111213141516a.ts:14:8 - error TS1259: Module '\"/Users/mbyang/Desktop/test/commonJS\"' can only be default-imported using the 'allowSyntheticDefaultImports' flag14 import getCom from './commonJS'; ~~~~~~ commonJS.js:6:1 6 module.exports = function (x) &#123; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 7 console.log(x); ~~~~~~~~~~~~~~~~~ 8 &#125;; ~ This module is declared with using 'export =', and can only be used with a default import when using the 'allowSyntheticDefaultImports' flag.Found 1 error. åœ¨ tsconfig.json æ·»åŠ &quot;allowSyntheticDefaultImports&quot;: true å³å¯è§£å†³ï¼Œæˆ–è€…ä¿®æ”¹ä¸º 1import * as getCom from './commonJS'; 15ã€resolveJsonModule åŒ…æ‹¬ä»¥â€œ.jsonâ€æ‰©å±•åå¯¼å…¥çš„æ¨¡å— ,ä¸€ç‰ˆè¿™ä¸ªè¦é…åˆ include é€‰é¡¹ï¼Œå¦‚æœ include é€‰é¡¹æ²¡æœ‰é…ç½®.json æ–‡ä»¶ï¼Œé‚£é…ç½®è¿™ä¸ªä¹Ÿæ²¡å•¥ç”¨ 16ã€baseUrl/paths è®¾ç½® baseUrl æ¥å‘Šè¯‰ç¼–è¯‘å™¨åˆ°å“ªé‡Œå»æŸ¥æ‰¾æ¨¡å—ã€‚ æ‰€æœ‰éç›¸å¯¹æ¨¡å—å¯¼å…¥éƒ½ä¼šè¢«å½“åšç›¸å¯¹äº baseUrlï¼ŒbaseUrl é»˜è®¤å€¼ä¸ºâ€™.â€™å½“å‰è·¯å¾„æ³¨æ„æ˜¯éç›¸å¯¹æ¨¡å— åœ¨ tsconfig.json æ·»åŠ çå†™çš„&quot;baseUrl&quot;: &quot;../../../&quot;ï¼Œæ·»åŠ pathæŒ‡å®š a.ts æ¨¡å—çš„è·¯å¾„: 123\"paths\": &#123; \"a\": [\"./a.ts\"] // æ­¤å¤„æ˜ å°„æ˜¯ç›¸å¯¹äº\"baseUrl\" &#125; è¿™ä¸ªå‚æ•°æˆ‘æ¥æ¥å›å›è¯•éªŒæ²¡å‘ç°å•¥ç”¨ï¼Œä¹Ÿä¸æŠ¥é”™ï¼Œåæ¥å‘ç°æ˜¯è¦ç”¨ ts ç±»å‹çš„æ–‡ä»¶ï¼Œjs ç±»å‹æ–‡ä»¶ä¸æŠ¥çº¢ï¼Œçœ‹ä¸‹é¢ä¾‹å­ åˆ›å»ºæ–°æ–‡ä»¶ m.tsï¼Œæ·»åŠ å†…å®¹ï¼ˆå¦‚æœæ˜¯ m.js ä¸ä¼šæŠ¥é”™ï¼‰ï¼š 12import decoraters from 'a';console.log(decoraters); aå°±æ˜¯ä¸Šé¢å†™çš„a.tsï¼Œç¼–è¯‘å‘ç°æŠ¥é”™ï¼Œå› ä¸º ts ä¸çŸ¥é“å»å“ªæ‰¾è¿™ä¸ªæ–‡ä»¶ å°†baseUrl æ”¹æˆ./æˆ–. å‘ç° m.ts ä¸æŠ¥é”™äº†ï¼Œèƒ½æ‰¾åˆ°æ¨¡å— a çš„å®šä¹‰ 17ã€lib è¿™ä¸ªæ˜¯ç”¨äºæŒ‡å®šè¦å¼•å…¥çš„åº“æ–‡ä»¶ï¼Œå±æ€§å€¼ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœä¸é…ç½® libï¼Œé‚£ä¹ˆå…¶é»˜è®¤ä¼šå¼•å…¥ dom åº“ï¼Œä½†æ˜¯å¦‚æœé…ç½®äº† libï¼Œé‚£ä¹ˆå°±åªä¼šå¼•å…¥æŒ‡å®šçš„åº“äº† åœ¨ tsconfig.json æ·»åŠ &quot;lib&quot;: &quot;ES6&quot;:åœ¨ m.ts æ·»åŠ ä»£ç ï¼š 1document.getElementById('ccc'); å¯ä»¥çœ‹è§å·²ç»æŠ¥é”™äº†ï¼š libæ”¹ä¸ºdomåˆ™ç¼–è¯‘é€šè¿‡ 18ã€types å®˜ç½‘æ˜¯è¿™ä¹ˆè¯´çš„ï¼šå¦‚æœæŒ‡å®šäº† typesï¼Œåªæœ‰è¢«åˆ—å‡ºæ¥çš„åŒ…æ‰ä¼šè¢«åŒ…å«è¿›æ¥ï¼Œå®ƒè¯´çš„ä¸æ˜¯æŒ‡çš„ import å¯¼å…¥æ¨¡å—æ‰¾ä¸åˆ°å®šä¹‰ï¼ŒæŒ‡çš„æ˜¯å¦‚æœç”¨äº†å…¨å±€çš„å˜é‡ï¼Œå…¨å±€å˜é‡çš„ç±»å‹æ‰¾ä¸æ‰¾çš„åˆ°ï¼Œçœ‹ä¾‹å­ åœ¨ tsconfig.json æ·»åŠ &quot;types&quot;:[]å®‰è£… jquery,npm i jquery -Sï¼Œæ­¤æ—¶çš„ node_module/@types ç›®å½•ä¸ºï¼š node_modules ç„¶ååœ¨ m.ts ä¸­ï¼Œåˆ†åˆ«ç”¨ jq å’Œ node çš„å…¨å±€å˜é‡ï¼Œæ·»åŠ ä»£ç ï¼š 1234// nodeconsole.log(process);// jqueryconsole.log($); error tsconfig.json ä¿®æ”¹ä¸º &quot;types&quot;:[&quot;node&quot;,&quot;jquery&quot;]åï¼Œç¼–è¯‘é€šè¿‡","categories":[],"tags":[{"name":"typescript","slug":"typescript","permalink":"http://yoursite.com/tags/typescript/"}]},{"title":"å·¥å…·åŒ…","slug":"å·¥å…·åŒ…","date":"2020-04-30T09:48:01.000Z","updated":"2021-01-25T10:48:26.381Z","comments":true,"path":"2020/04/30/å·¥å…·åŒ…/","link":"","permalink":"http://yoursite.com/2020/04/30/å·¥å…·åŒ…/","excerpt":"","text":"å‰è¨€è¿™ç¯‡æ–‡ç« è®°å½•çš„æ˜¯å…³äºä¸€äº›å·¥å…·åŒ…çš„ä½¿ç”¨å’Œæ³¨æ„äº‹é¡¹ ä¸€ã€huskyè¿™ä¸ªä¸œè¥¿çš„ä½œç”¨æ˜¯æ–¹ä¾¿çš„ç»™ git æ·»åŠ é’©å­ æ³¨æ„ è¿™ä¸ªä¸œè¥¿åªç”¨ npm å®‰è£…æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œå¦åˆ™ä¸èƒ½ä½¿ç”¨ï¼Œcnpm ä¹Ÿä¸è¡Œ å†™æ³•å¿…é¡»æ˜¯è¿™æ ·å†™åœ¨ package.json é‡Œ,ä¸è¦å†™åœ¨ package.json çš„ scripts é‡Œ 12345 \"husky\": &#123; \"hooks\": &#123; \"pre-commit\": \"echo 'husky'&amp;&amp;node ./test.js\" &#125;&#125;, ä¸è¶³æ¯”å¦‚æˆ‘æ·»åŠ äº†ä¸€ä¸ªpre-commité’©å­ï¼Œå°±æ˜¯åœ¨æ¯æ¬¡ commit å‰è¿›è¡ŒæŒ‡å®šæ“ä½œï¼Œä½†æ˜¯å®ƒè¿™ä¸ªæ“ä½œæ˜¯é’ˆå¯¹ä½ çš„æ‰€æœ‰æ–‡ä»¶æ“ä½œçš„ï¼Œå³ä½¿ä½ æ²¡æœ‰æ”¹åŠ¨çš„æ–‡ä»¶æ¯”å¦‚ï¼šæ¯æ¬¡ commit æˆ‘æƒ³ eslint --fix ä¸€ä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ“ä½œä¼šæ‰§è¡Œåˆ°æ‰€æœ‰æ–‡ä»¶ä¸Šï¼ŒåŒ…æ‹¬ä½ æ²¡æ”¹åŠ¨çš„æ–‡ä»¶ è¡¥å……çŸ¥é“äº†ä¸è¶³è‚¯å®šæœ‰è§£å†³åŠæ³•ï¼Œçœ‹ä¸‹é¢çš„è¿™ä¸ªå·¥å…· äºŒã€lint-stagedä½œç”¨è¿™ä¸ªä¸œè¥¿å°±æ˜¯æŒ‡æ˜äº†ä¸Šé¢é’©å­é‡Œçš„å‘½ä»¤è¦ä½œç”¨äºæ”¹åŠ¨çš„æ–‡ä»¶ ä½¿ç”¨æ–¹æ³•ä¹Ÿæ˜¯åœ¨ package.json é‡Œ 12345678910111213\"husky\": &#123; \"hooks\": &#123; \"pre-commit\": \"lint-staged\" &#125;&#125;,\"lint-staged\": &#123;// åŒ¹é…æ–‡ä»¶ç±»å‹ï¼Œå¦‚æœæ²¡åŒ¹é…åˆ°å°±å¿½ç•¥ï¼ŒåŒ¹é…åˆ°å°±æ‰§è¡Œé‡Œé¢çš„å‘½ä»¤ \"*.js\": [ \"echo 'jsæ–‡ä»¶è¿‡'\", \"node ./test.js\", \"git add\" ]&#125;, ä¸‰ã€mocker-apiè¿™ä¸ªæ˜¯ä»¥ restful api é£æ ¼æ¨¡æ‹Ÿå‡æ•°æ®çš„ï¼ŒåŒæ ·ä¹Ÿæœ‰äº›è¦æ³¨æ„çš„åœ°æ–¹ å¦‚æœä¸å’Œ webpack é…åˆä½¿ç”¨ï¼Œé‚£å‘½ä»¤è¡Œæ‰§è¡Œå°±å¯ä»¥,ä¼šå¯åŠ¨ä¸€ä¸ªæœåŠ¡ ç›´æ¥è®¿é—®å³å¯ ä¸ webpack é…åˆï¼Œè¦ä½¿ç”¨ apiMockerï¼ŒapiMocker æœ‰ä¸‰ä¸ªå‚æ•° apiMocker(app,path,option) 1. app:devserveræœåŠ¡å™¨å®ä¾‹ï¼ˆexpresså®ä¾‹ï¼‰ 2. mockeré…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆä¸€å®šè¦æœ‰åç¼€ï¼‰ 3. è¿™ä¸ªå‚æ•°ä¸€å®šè¦æ³¨æ„ï¼Œå¦‚æœåœ¨mocker/index.js(å°±æ˜¯mockerçš„é…ç½®æ–‡ä»¶)åˆ©é…ç½®è¿‡äº†_proxy:{}è¿™ä¸ªå‚æ•°ï¼Œé‚£è¿™ä¸ªoptionæ˜¯æ²¡ç”¨çš„ é…ç½®é¡¹çš„ä¸€äº›è¯´æ˜ 123456789101112131415161718192021222324252627282930313233_proxy: &#123; // ä»£ç† proxy: &#123; // ä»£ç†è§„åˆ™ï¼Œç›®æ ‡æœåŠ¡å™¨é…ç½® '/api/(.*)': 'https://api.github.com/' &#125;, // é‡å†™è·¯å¾„ï¼Œå‰ç«¯è¯·æ±‚çš„æ˜¯è¿™ä¸ª^/api/repos/ï¼Œå®é™…å‘é€çš„æ˜¯è¿™ä¸ª'/repos/' pathRewrite: &#123; '^/api/repos/': '/repos/', &#125;, // æ˜¯å¦è®¾ç½®è¯·æ±‚å¤´çš„host,trueè¡¨ç¤ºåœ¨è¯·æ±‚å¤´é‡Œä¼šå¸¦æœ‰hostä¿¡æ¯ï¼Œfalseä¸å¸¦ // æœ‰çš„ä»£ç†æœåŠ¡å™¨è®¾ç½®äº†è¯·æ±‚åŸŸåç™½åå•ï¼ˆæŸäº›åŸŸåæ‰èƒ½è®¿é—®ï¼‰å°±è¦è®¾ç½®è¿™ä¸ª changeHost: true, // mocker-apiå…¶å®æ˜¯åœ¨http-proxyåŸºç¡€ä¸Šå°è£…çš„ï¼Œè¿™ä¸ªé…ç½®é¡¹å°±æ˜¯http-proxyçš„é…ç½®é¡¹ // http proxyé…ç½®é¡¹ httpProxy: &#123; options: &#123; // è½¬å‘åˆ°ç›®çš„è·¯å¾„æ˜¯å¦å¸¦ä¸Špath // åœ¨ä¸Šé¢proxyé…ç½®äº† '/api/(.*)'çš„å‰æä¸‹ // æ¯”å¦‚ true è¯·æ±‚åœ°å€ï¼šlocalhost/api/user,é‚£è½¬å‘åˆ°ä»£ç†æœåŠ¡å™¨çš„è¯·æ±‚æ˜¯ 1.1.1.1ï¼Œæ²¡æœ‰path // false å°±æ˜¯1.1.1.1/api/user ignorePath: true, &#125;, // ç›‘å¬äº‹ä»¶ listeners: &#123; // åœ¨æ¯æ¬¡è¯·æ±‚è½¬å‘å‰æ‹¦æˆªï¼Œå¯ä»¥è¿›è¡Œæ”¹åŠ¨ï¼Œæ¯”å¦‚è®¾ç½®ä¸€ä¸ªè¯·æ±‚å¤´ // proxyReq.setHeader('X-Special-Proxy-Header', 'foobar'); proxyReq: function (proxyReq, req, res, options) &#123; console.log('proxyReq',req); &#125;, &#125;, &#125; &#125;, webpack é…ç½® demowebpack.js1234567891011121314151617181920212223242526272829const path = require('path');const merge = require('webpack-merge');const common = require('./webpack.common.js');const APIMocker = require('mocker-api');const os = require('os');module.exports = env =&gt; merge(common, &#123; mode: 'development', output: &#123; publicPath: '' &#125;, devtool: '#eval-source-map', devServer: &#123; // host: getNetworkIp(), host: '0.0.0.0', disableHostCheck: true, contentBase: path.join(__dirname, '/src/'), before(app) &#123; APIMocker(app, path.resolve('./mocker/mock.js')); &#125;, proxy: &#123; '/handwrite': &#123; target: 'http://xxxxx.com', // target host changeOrigin: true, // needed for virtual hosted sites ws: true, // proxy websockets pathRewrite: &#123; // '^/payui': '/payui' &#125; mock.js12345678910111213141516171819202122232425262728const glob = require('glob');const path = require('path');let proxy = &#123;&#125;;const files = glob.sync('src/pages/*?/test_data.js');files.forEach((file) =&gt; &#123; let paths = file.split('/'); let sub = paths.pop(); let namespace = paths.pop(); let filepath = path.join(__dirname, '../', file); let data = require(filepath); let n_data = &#123;&#125;; let isNameSpace = data.namespace; // å¦‚æœè®¾å®šå‘½åç©ºé—´ for (let key in data) &#123; let addX = /^\\//g.test(key); let endKey = ''; if (key == 'namespace') continue; if (isNameSpace) &#123; endKey = `/test/$&#123;namespace&#125;$&#123;addX ? '' : '/'&#125;$&#123;key&#125;`; &#125; else &#123; endKey = `/test$&#123;addX ? '' : '/'&#125;$&#123;key&#125;`; &#125; n_data[endKey] = data[key]; &#125; proxy = Object.assign(proxy, n_data); console.log(proxy);&#125;);module.exports = proxy; test_data.js123456789101112131415161718192021222324252627282930let api = require('../../api/api');module.exports = &#123; // namespace: true, [api.demo.getUser]: &#123; id: 1, username: 'kenny', sex: 6 &#125;, [api.demo.updataUser]: (req, res) =&gt; &#123; const &#123; password, username &#125; = req.body; if (password === '888888' &amp;&amp; username === 'admin') &#123; return res.json(&#123; status: 'ok', code: 0, token: 'sdfsdfsdfdsf', data: &#123; id: 1, username: 'kenny', sex: 6 &#125; &#125;); &#125; else &#123; return res.status(403).json(&#123; status: 'error', code: 403 &#125;); &#125; &#125;&#125;;","categories":[],"tags":[{"name":"husky","slug":"husky","permalink":"http://yoursite.com/tags/husky/"},{"name":"lint-staged","slug":"lint-staged","permalink":"http://yoursite.com/tags/lint-staged/"},{"name":"mocker-api","slug":"mocker-api","permalink":"http://yoursite.com/tags/mocker-api/"}]},{"title":"å®‰è£…é»‘è‹¹æœé‡åˆ°çš„é—®é¢˜ä¸è§£å†³è®°å½•","slug":"å®‰è£…é»‘è‹¹æœé‡åˆ°çš„é—®é¢˜ä¸è§£å†³è®°å½•","date":"2020-01-03T12:51:02.000Z","updated":"2021-01-25T10:48:26.380Z","comments":true,"path":"2020/01/03/å®‰è£…é»‘è‹¹æœé‡åˆ°çš„é—®é¢˜ä¸è§£å†³è®°å½•/","link":"","permalink":"http://yoursite.com/2020/01/03/å®‰è£…é»‘è‹¹æœé‡åˆ°çš„é—®é¢˜ä¸è§£å†³è®°å½•/","excerpt":"","text":"å‰è¨€â€“è¿™ç¯‡æ–‡ç« è®²äº†å•¥ï¼Ÿè¿™ç¯‡æ–‡ä»¶æ˜¯æˆ‘åœ¨å®‰è£…é»‘è‹¹æœæ—¶é‡åˆ°çš„é—®é¢˜ä¸è§£å†³åŠæ³•çš„æ€»ç»“æ‰€ä»¥æ›´æ³¨é‡çš„æ˜¯å‘ç°é—®é¢˜ è§£å†³é—®é¢˜ï¼Œå…³äºé»‘è‹¹æœæ•™ç¨‹è‡ªå·±ä¸Šç½‘ä¸Šæ‰¾å§ï¼Œèµ„æºéå¸¸å¤šæ‰€ä»¥å®‰è£…æ–¹é¢å¯èƒ½å°±å‡ å¥è¯å¸¦è¿‡äº† 1. ç¡¬ä»¶é…ç½® ç”µè„‘å‹å· æˆ´å°” Inspiron 5680 å°å¼ç”µè„‘ æ“ä½œç³»ç»Ÿ Windows 10 64ä½ å®¶åº­ç‰ˆ å¤„ç†å™¨ è‹±ç‰¹å°” Core i5-8400 ä¸»æ¿ æˆ´å°” 0PXWHKï¼ˆz370èŠ¯ç‰‡ç»„ï¼‰ï¼Œæ‰¾efié©±åŠ¨é¦–å…ˆæŒ‰ç…§è¿™ä¸ªä¸»æ¿æ¥å°±è¡Œï¼ˆz370ï¼‰ å†…å­˜ ä¸‰æ˜Ÿ DDR4 2400MHz / é‡‘å£«é¡¿ DDR4 2400MHz ç¡¬ç›˜ 3å— ä¸œèŠ1Tçš„æœºæ¢°ç¡¬ç›˜ï¼ˆå­˜æ”¾æ–‡ä»¶ï¼‰ï¼ŒSK hynix SC311 SATA 128GBï¼ˆè‡ªå¸¦çš„win10ç³»ç»Ÿï¼‰é‡‘å£«é¡¿ 480G ï¼ˆä¸“é—¨ç”¨æ¥è£…é»‘è‹¹æœçš„ï¼‰ æ˜¾å¡ Nvidia GeForce GTX 1060 6GB æ˜¾ç¤ºå™¨ 2kçš„æ˜¾ç¤ºå™¨ ï¼ˆè¿™ä¸ªæ— æ‰€è°“ï¼‰ ç½‘å¡ ç‘æ˜± RTL8168/8111/8112 Gigabit Ethernet Controller / æˆ´å°” 2. å…³äºå®‰è£…é¦–å…ˆ ä½ å¾—æŸ¥ä½ ç”µè„‘ç¡¬ä»¶æ”¯ä¸æ”¯æŒé»‘è‹¹æœï¼Œå¦‚æœæ”¯æŒé»‘è‹¹æœå†çœ‹æ”¯æŒåˆ°é‚£ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ç”µè„‘åªèƒ½æ”¯æŒåˆ° 10.13.6ï¼Œå†å¾€ä¸Šè¯´æ˜¯å› ä¸ºæ²¡æœ‰å¯¹åº”çš„Nå¡é©±åŠ¨äº†efié©±åŠ¨çš„é€‰æ‹© ä½ å¾ˆå¤§ç¨‹åº¦æ‰¾ä¸åˆ°é…ç½®å®Œå…¨åˆé€‚çš„efiæ–‡ä»¶ï¼Œefiæ–‡ä»¶æˆ‘ä¸»è¦æ˜¯ä¾æ®cpuæ¥æ‰¾çš„ï¼Œä¹Ÿå°±æ˜¯ i5 8400 z370 æˆ‘ç”¨çš„è¿™ä¸ª é»‘è‹¹æœé•œåƒé€‰æ‹© æˆ‘å®‰è£…çš„æ˜¯ é›†æˆäº†cloverçš„ç‰ˆæœ¬ macOS High Sierra 10.13.6 17G65 With Clover 4596 ,æœ¬æ¥æˆ‘è¦ä¼ ç™¾åº¦ç½‘ç›˜åˆ†äº«å‡ºæ¥çš„ï¼Œä¸‡æ¶çš„ç™¾åº¦ç½‘ç›˜ä¸è®©ä¸Šä¼ è¶…è¿‡4Gçš„æ–‡ä»¶ï¼Œæ‰€ä»¥è‡ªå·±ä¸‹è½½å»å§ï¼Œç½‘ä¸Šèµ„æºä¸€å¤§æŠŠ äºŒã€æˆ‘é‡åˆ°çš„é—®é¢˜1. ç”¨Uç›˜å®‰è£…æ—¶ï¼Œæç¤ºé•œåƒèµ„æºè¿‡æœŸï¼ˆæˆ–è€…æ˜¯ä»€ä¹ˆé•œåƒå‰¯æœ¬æŸåä¹‹ç±»çš„ï¼‰è§£å†³åŠæ³•ï¼šå·¦ä¸Šçš„èœå•æ æœ‰ä¸€é¡¹æ˜¯ç»ˆç«¯ï¼Œæ‰“å¼€ï¼Œæ–­ç½‘ï¼ˆè¦ä¸è‡ªå·±åˆåŒæ­¥å›æ¥äº†ï¼‰ç„¶åè¾“å…¥ date 102723252015.0610 -&gt; æœˆï¼Œ27-&gt;æ—¥ï¼Œ 23-&gt;æ—¶ï¼Œ 25-&gt;åˆ†ï¼Œ 2015-&gt;å¹´ã€‚ç„¶åå†æ¬¡å®‰è£…ï¼ŒæˆåŠŸ ï¼ˆä½†æ˜¯ä¼šå¸¦æ¥åé¢çš„ä¸€ä¸ªé—®é¢˜ï¼Œç¬¬äºŒæ¡è¯´ï¼‰ 2. é€‰æ‹©ç¡¬ç›˜2æ¬¡å®‰è£…æ—¶ï¼Œæç¤º å®‰è£…å™¨èµ„æºå·²è¿‡æœŸï¼Œè¯·é‡è¯•(æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥æˆ‘çš„æ˜¯è‹±æ–‡çš„)è¿™æ—¶ç”¨ä¸Šé¢çš„æ–¹æ³•å°±ä¸è¡Œäº†ï¼Œå› ä¸ºä¸€æ‰“å¼€ç»ˆç«¯ï¼Œä¸­é—´é‚£ä¸ªç•Œé¢å°±æ¶ˆå¤±äº†ï¼Œä¸ç»™ä½ é‡è¯•çš„æœºä¼šï¼Œåæ¥ç»è¿‡æˆ‘Næ¬¡çš„é‡è¯•å’Œæ‘¸ç´¢ï¼Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š æ–­ç½‘ä¸”å°†biosæ—¶é—´è®¾ç½®ä¸º2015å¹´10æœˆ27ï¼ˆåˆ«çš„æ—¶é—´ä¹Ÿè¡Œï¼Œä¸ä¸€å®šéè¿™ä¸ªï¼‰ é‡æ–°èµ°ä¸Šé¢çš„æ­¥éª¤ï¼Œä¹Ÿå°±æ˜¯uç›˜å¯åŠ¨ï¼ŒæŠ¹æ‰è¦å®‰è£…é»‘è‹¹æœçš„ç›˜ç¬¦ï¼ˆé‡‘å£«é¡¿çš„ç¡¬ç›˜ï¼‰ï¼Œæ³¨æ„ï¼Œæ ¼å¼é€‰æ‹©ä¸ºAPFS,ç½‘ä¸Šå¥½å¤šæ•™ç¨‹æ˜¯ macosæ‰©å±•ï¼Œä½†æˆ‘macosæ‰©å±•æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘å»ºè®®ç”¨APFS ç¡¬ç›˜æŠ¹æ‰å®‰è£…macoså®‰è£…å™¨æˆåŠŸåä¼šè‡ªåŠ¨é‡å¯ï¼Œè¿˜æ˜¯ä¸Šé¢çš„æ­¥éª¤é€‰æ‹©ä¸­è‹±æ–‡ï¼Œä¸€äº›è®¾ç½®ç„¶åç‚¹å®‰è£…åï¼Œå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº† 3. æ˜¾å¡é©±åŠ¨æˆ‘çš„æ˜¾å¡æ˜¯ GTX 1060ti 6Gæ˜¾å­˜çš„ï¼Œç”¨çš„æ˜¾å¡é©±åŠ¨æ˜¯WebDriver-387.10.10.10.40.105(å®˜ç½‘ä¸‹è½½,æ‰¾åˆ°ä½ æ˜¾å¡å¯¹åº”çš„é©±åŠ¨ç‰ˆæœ¬) ç„¶åå®‰è£…ï¼ˆåŸºæœ¬å°±æ˜¯ä¸€ç›´ä¸‹ä¸€æ­¥å°±å¯ä»¥ï¼‰ï¼Œç„¶åè¿˜éœ€è¦åœ¨clover configuration è¿™ä¸ªè½¯ä»¶ä¸­ï¼Œåœ¨å¼•å¯¼å‚æ•°ä¸­ï¼ˆè‹±æ–‡BOOTï¼‰æ·»åŠ ä¸€ä¸ªå‚æ•° nvda_drv=1ï¼Œåœ¨ System parameters å‹¾é€‰ NVæ˜¾å¡webé©±åŠ¨ï¼Œé‡å¯å³å¯ 4. å…³æœºä¸æ–­ç”µï¼Œé¼ æ ‡é”®ç›˜ç¯ä¾ç„¶äº®è¿™ä¸ªæˆ‘æŠ˜è…¾äº†å¥½ä¹…å¥½ä¹…å¥½ä¹… ä¸‹è½½NTFS.efiå’ŒOsxAptioFixDrv.efié©±åŠ¨ï¼Œæ”¾åœ¨clover/drivers64UEFIç›®å½•ä¸‹ ç½‘ä¸Šè¯´æ‰§è¡Œä¸Šé¢ä¸€æ­¥å°±è¡Œäº†ï¼Œä½†æˆ‘çš„å°±ä¸è¡Œï¼Œæˆ‘æŠŠcloveræ‰‹åŠ¨æ›´æ–°åˆ° r4586ç‰ˆæœ¬æ‰æˆåŠŸ 5. cloverä¸»é¢˜ä¿®æ”¹è¿™ä¸ªä¸æ˜¯é—®é¢˜ï¼Œç”¨ cloverThemeManager è¿™ä¸ªè½¯ä»¶ï¼Œæ•™ç¨‹è‡ªå·±æœå¾ˆç®€å• 6. å…³äºcloverçš„å‡çº§æˆ‘ç°åœ¨çš„cloveræ˜¯ä¸­æ–‡çš„ï¼Œä¸è·Ÿç½‘ä¸Šä¸€æ ·æœ‰äº›ç‰ˆæœ¬çœ‹ä¸è§ï¼Œæ‰€ä»¥æˆ‘æ‰‹åŠ¨å‡çº§çš„ï¼Œå…³äºæ‰‹åŠ¨å‡çº§æ•™ç¨‹ 7. å…³äºcloverå¼•å¯¼win10å¯åŠ¨å¡æ­»çš„åŸå› æ²¡é”™ï¼Œæˆ‘çš„å°±æ˜¯å¡æ­»äº†ï¼Œç»è¿‡æˆ‘åå¤æµ‹è¯•å’Œæ€è€ƒï¼ŒåŸå› å¦‚ä¸‹ï¼š win10å¿…é¡»åœ¨ stat operation:READ ONæ¨¡å¼ä¸‹ï¼Œå¯åŠ¨ï¼Œå¦åˆ™ä¼šæŠ¥ ï¼ˆæœªæ£€æµ‹åˆ°ç¡¬ç›˜ï¼Œå¦‚æœç¡¬ç›˜å·²å­˜åœ¨åˆ™ç¡¬ç›˜æ²¡æœ‰å“åº”ï¼‰ ç›®å½•æ˜¯ C:\\windows\\system32\\logfiles\\srt\\srtTrail.txt æ–‡ä»¶ æ—¥å¿— ä½†æ˜¯é»‘è‹¹æœåˆå¿…é¡»åœ¨ stat operation:AHCI æ¨¡å¼æ‰èƒ½å¯åŠ¨ è§£å†³æ–¹æ¡ˆï¼šä¸‹è½½å…AHCIè¡¥ä¸ï¼Œè¿™æ ·å°±ä¸ç”¨äº†å¼€å¯AHCIæ¨¡å¼äº†, ä¸‹è½½AHCIPortInjector.kext è¿™ä¸ªæ–‡ä»¶ï¼Œæ”¾åœ¨clover/kexts/otherä¸‹é¢ï¼Œå°±å¯ä»¥äº† ï¼ˆè¿™ä¸ªæ–‡ä»¶çœŸçš„éš¾ä¸‹ï¼Œæ‰¾äº†å¥½ä¹…æ‰æ‰¾åˆ°ï¼‰ï¼Œæ‰€ä»¥æˆ‘å­˜åˆ°äº†æˆ‘çš„ç½‘ç›˜å¹¶ä¸”è´´å¿ƒçš„æä¾›äº† ä¸‹è½½åœ°å€ æå–ç : iapw è¿™æ ·å°±ä¸ç”¨äº†å¼€å¯ stat operation:READ ON å°±å¯ä»¥äº†ï¼Œè¿™æ ·win10å’ŒMACOSéƒ½èƒ½è¢«cloverå¼•å¯¼å¯åŠ¨äº† 8. cloverå¼•å¯¼win10 loadingè½¬åŠ¨åé»‘å±ï¼Œä¸æ˜¾ç¤ºé”å±é¡µé¢ï¼ˆè¾“å…¥å¯†ç é‚£é¡µï¼‰æ¦‚ç‡ ï¼šæ¯æ¬¡å¯åŠ¨win10éƒ½è¦å¯åŠ¨ä¸¤å›æ‰èƒ½æˆåŠŸï¼Œç¬¬ä¸€å›é»‘å±ï¼Œç¬¬äºŒå›æˆåŠŸè§£å†³æ–¹æ¡ˆï¼š åœ¨win10ä¸‹å…³é—­ å¿«é€Ÿå¯åŠ¨ 9. è§£å†³ä¸äº†çš„é—®é¢˜ dellè‡ªæ£€ç”»é¢åˆ†è¾¨ç‡å±€ä½ï¼ˆç‹¬æ˜¾æ²¡å¯åŠ¨ï¼‰è¿™æ˜¯å…³é—­ Secure boot çš„åæœï¼Œä½†æ˜¯ä¸å…³é—­å°±ä¸èƒ½ç”¨cloverå¼•å¯¼äº†ï¼Œè¿™ä¸ªçœŸæ²¡åŠæ³•äº† 10. å£°å¡é©±åŠ¨è¿™ä¸ªæˆ‘ä¸‹è½½äº† AudioDxe-64.efi è¿™ä¸ªé©±åŠ¨ï¼Œä¹Ÿæ³¨å…¥äº† æ˜¾å¡IDï¼Œä½†å°±æ˜¯æ²¡å£°éŸ³ï¼Œæš‚æœªè§£å†³","categories":[],"tags":[{"name":"ç³»ç»Ÿ","slug":"ç³»ç»Ÿ","permalink":"http://yoursite.com/tags/ç³»ç»Ÿ/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"http://yoursite.com/tags/é©±åŠ¨/"},{"name":"macOS","slug":"macOS","permalink":"http://yoursite.com/tags/macOS/"}]},{"title":"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶","slug":"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶","date":"2019-11-22T09:02:10.000Z","updated":"2021-01-25T10:48:26.381Z","comments":true,"path":"2019/11/22/æµè§ˆå™¨ç¼“å­˜æœºåˆ¶/","link":"","permalink":"http://yoursite.com/2019/11/22/æµè§ˆå™¨ç¼“å­˜æœºåˆ¶/","excerpt":"","text":"å‰è¨€ä¸‹é¢çš„å†…å®¹æ˜¯ å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ çš„å†…å®¹ï¼Œä»¥å‰å­¦ä¹ è¿‡ï¼Œæ—¶é—´é•¿å°±å¿˜äº†ï¼Œæ‰€ä»¥è®°åœ¨è¿™é‡Œï¼ˆç½‘ä¸Šä¹Ÿæœ‰å¥½å¤šå¾ˆå¥½çš„æ–‡ç« ï¼‰å‚è€ƒæ–‡ç« ï¼šç¼“å­˜ ğŸ˜Œ æœ¬æ¥éƒ½å†™äº†ä¸€ç‚¹äº†ï¼Œä½†æ˜¯æˆ‘çœ‹è¿™ä¸ªå‚è€ƒæ–‡ç« å†™å¾—å¾ˆå¥½äº†ï¼Œå°±ç›´æ¥çœ‹è¿™ä¸ªå‚è€ƒæ–‡ç« å§ å®¢æˆ·ç«¯====&gt;å¼ºç¼“å­˜ï¼ˆå®¢æˆ·ç«¯ç¼“å­˜ï¼‰====&gt;åå•†ç¼“å­˜ï¼ˆè™½ç„¶è¯·æ±‚äº†æœåŠ¡å™¨ï¼Œä½†ä¹Ÿæ˜¯è¿”å›å®¢æˆ·ç«¯èµ„æºï¼‰=====&gt;æœåŠ¡ç«¯è¿”å›èµ„æº å¼ºç¼“å­˜ç¬¬ä¸€ç§1. Expiresï¼šæœåŠ¡ç«¯è¿”å›ï¼Œå®¢æˆ·ç«¯ä¸‹æ¬¡å¦‚æœå†è¯·æ±‚ï¼Œä¼šé¦–å…ˆåˆ¤æ–­ä¸€ä¸‹è¿‡æœŸæ—¶é—´æ˜¯å¦å¤§äºäº†è¿™ä¸ªå€¼ï¼Œå¦‚æœæ²¡å¤§äºï¼Œç”¨ç¼“å­˜ç¬¬äºŒç§2. Cache-control Cache-Control ä¼˜å…ˆçº§é«˜äº Expires åå•†ç¼“å­˜ï¼šç¬¬ä¸€ç§1. æœåŠ¡ç«¯è¿”å› Etag ï¼Œå†æ¬¡è¯·æ±‚çš„æ—¶å€™If-None-Match ä¼šå°†åˆšåˆšçš„Etagå¸¦ä¸Šï¼Œå»æœåŠ¡ç«¯åšåˆ¤æ–­ï¼Œä¼˜å…ˆçº§æœ€é«˜ç¬¬äºŒç§2. æœåŠ¡ç«¯è¿”å›Last-Modifiedï¼ˆè¡¨ç¤ºæœ¬åœ°æ–‡ä»¶æœ€åä¿®æ”¹æ—¥æœŸï¼‰ï¼Œå†æ¬¡è¯·æ±‚çš„æ—¶å€™If-Modified-Since ä¼šå°†åˆšåˆšçš„ æ—¶é—´å¸¦ä¸Šï¼Œå»æœåŠ¡ç«¯åšåˆ¤æ–­","categories":[],"tags":[{"name":"http","slug":"http","permalink":"http://yoursite.com/tags/http/"},{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://yoursite.com/tags/ç¼“å­˜/"}]},{"title":"é€šä¿¡æ–¹å¼","slug":"é€šä¿¡æ–¹å¼","date":"2019-11-21T06:37:47.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"2019/11/21/é€šä¿¡æ–¹å¼/","link":"","permalink":"http://yoursite.com/2019/11/21/é€šä¿¡æ–¹å¼/","excerpt":"","text":"ä¸€ã€WebSocketå…¨åŒå·¥é€šä¿¡é€šä¿¡åŒæ–¹éƒ½å¯ä»¥å‘é€å’Œæ¥å—ä¿¡æ¯ 2. WebSocketåè®®ä¸€æ—¦å»ºç«‹WebScoketåè®®çš„é€šä¿¡è¿æ¥ï¼Œé€šä¿¡å¯ä»¥å‘é€JSONã€XMLã€HTMLæˆ–å›¾ç‰‡ä»»æ„æ ¼å¼çš„æ•°æ® 3. åŠŸèƒ½ï¼ˆä¼˜ç‚¹ï¼‰1. æ¨é€åŠŸèƒ½æœåŠ¡ç«¯å¯ä»¥ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®å•¦ 2. å‡å°‘é€šä¿¡é‡å»ºç«‹çš„WebSocketè¿æ¥ï¼Œä¸€ç›´ä¿æŒè¿æ¥çŠ¶æ€ï¼Œå’ŒHTTPç›¸æ¯”å‡å°‘äº†æ¯æ¬¡è¿æ¥çš„å¼€é”€ï¼Œè€Œä¸”WebSocketçš„é¦–éƒ¨ä¿¡æ¯å¾ˆå°ï¼Œæ‰€ä»¥é€šä¿¡é‡ä¹Ÿå°‘äº† 3. è¿æ¥è¿‡ç¨‹ä¸ºäº†å®ç°WebSocketé€šä¿¡ï¼Œåœ¨HTTPè¿æ¥å»ºç«‹ä¹‹åï¼Œéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹çš„æ­¥éª¤ä¸ºäº†å®ç°WebSocket,éœ€è¦ç”¨åˆ°HTTPçš„ Upgradeçš„é¦–éƒ¨å­—æ®µ ï¼Œå‘Šè¯‰æœåŠ¡å™¨é€šä¿¡åè®®å‘ç”Ÿæ”¹å˜ï¼Œä»¥è¾¾åˆ°æ¡æ‰‹çš„ç›®çš„ è¯·æ±‚å¤´ Sec-WebSocket-Key å­—æ®µè®°å½•æ¡æ‰‹è¿‡ç¨‹å¿…ä¸å¯å°‘çš„é”®å€¼Sec-WebSocket-Protocol å­—æ®µè®°å½•ä½¿ç”¨çš„å­åè®® æµç¨‹ å“åº”ï¼š å“åº”å¤´ 4. å®ç°1. å‰å°1234567891011121314151617181920&lt;body&gt; &lt;button id=\"a\"&gt;å‘ä¿¡æ¯&lt;/button&gt;&lt;/body&gt;&lt;script type=\"text/javascript\"&gt; let ws = new WebSocket('ws://localhost:3333') // è§¦å‘è¿æ¥ ws.onopen = function() &#123; console.log('è¿æ¥') &#125; ws.onclose = function() &#123; console.log('æ–­å¼€è¿æ¥') &#125; ws.onmessage = function(e) &#123; console.log('æ”¶åˆ°ä¿¡æ¯', e.data) &#125; document.getElementById(\"a\").onclick = function() &#123; // ç›‘æµ‹ id=â€œsendbâ€çš„ æŒ‰é’® è§¦å‘ onclick å°±ä¼šå‘é€æ•°æ® send // ws.send('å‘ä¿¡æ¯äº†'); &#125;&lt;/script&gt; 2. åå°1234567891011121314const ws = require('nodejs-websocket')let server = ws.createServer(conn =&gt; &#123; console.log('è¿æ¥', conn) conn.on('text', str =&gt; &#123; console.log(str) &#125;) conn.on('close', (code, reason) =&gt; &#123; console.log('è¿æ¥æ–­å¼€') &#125;) conn.on('error', err =&gt; &#123; &#125;)&#125;).listen(3333) 3. ç»“æœ ä¿¡æ¯å¤´ ç‚¹å‡»å‘ä¿¡æ¯ ç»“æœ ä¸€ã€SSE ï¼ˆserver-sent eventï¼‰ä»…ä»…æœåŠ¡ç«¯å¾€å®¢æˆ·ç«¯æ¨åŠ¨ï¼ŒåŸºäºhttpåè®®1var source = new EventSource(url); EventSourceå®ä¾‹çš„readyStateå±æ€§ï¼Œè¡¨æ˜è¿æ¥çš„å½“å‰çŠ¶æ€ã€‚è¯¥å±æ€§åªè¯»ï¼Œå¯ä»¥å–ä»¥ä¸‹å€¼ã€‚ 0ï¼šç›¸å½“äºå¸¸é‡EventSource.CONNECTINGï¼Œè¡¨ç¤ºè¿æ¥è¿˜æœªå»ºç«‹ï¼Œæˆ–è€…æ–­çº¿æ­£åœ¨é‡è¿ã€‚1ï¼šç›¸å½“äºå¸¸é‡EventSource.OPENï¼Œè¡¨ç¤ºè¿æ¥å·²ç»å»ºç«‹ï¼Œå¯ä»¥æ¥å—æ•°æ®ã€‚2ï¼šç›¸å½“äºå¸¸é‡EventSource.CLOSEDï¼Œè¡¨ç¤ºè¿æ¥å·²æ–­ï¼Œä¸”ä¸ä¼šé‡è¿ã€‚ 1. æ•°æ®æ ¼å¼ï¼ˆå‘é€ç«¯ï¼‰â“µ å“åº”å¤´å“åº”å¤´å¿…é¡»æœ‰ Content-Type: text/event-stream MIME Type è§„å®šä¸º text/event-stream Cache-Control: no-cache ä¸å…è®¸ç¼“å­˜ï¼ˆå¯ä¸å†™ï¼‰ Connection: keep-alive æŒ‡å®šæŒä¹…è¿æ¥ï¼ˆé•¿è¿æ¥ï¼‰ï¼Œé»˜è®¤éƒ½æ˜¯æŒä¹…è¿æ¥ï¼ˆå¯ä¸å†™ï¼‰ â“¶ data æ•°æ®æ•°æ®ç”¨dataè¡¨ç¤ºï¼Œç”¨ \\n\\nç»“å°¾æ¯”å¦‚ï¼š data: è¿™é‡Œæ˜¯æ•°æ® \\n\\nå¤šè¡Œç”¨ \\n åˆ†éš”ï¼Œ\\n\\n ç»“å°¾æ¯”å¦‚ï¼šdata: asdf \\ndata: ghjk \\ndata: asdf \\n\\nè¿™æ˜¯ä¸€æ¡æ•°æ® â“· event äº‹ä»¶ç±»å‹å‰ç«¯é»˜è®¤ç”¨ message æ¥æ”¶äº‹ä»¶ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨æœåŠ¡ç«¯è‡ªå®šçš„äº‹ä»¶åç§° event: have \\ndata: å®šä¹‰äº†ä¸€ä¸ªhaveäº‹ä»¶ \\n\\n è§¦å‘å®¢æˆ·ç«¯ have äº‹ä»¶ â“¸ retry æœ€å¤§é—´éš”æ—¶é—´æµè§ˆå™¨é»˜è®¤æœåŠ¡å™¨ç«¯ä¸‰ç§’å†…æ²¡æœ‰å‘é€ä»»ä½•ä¿¡æ¯ï¼Œåˆ™å¼€å§‹é‡è¿ã€‚æœåŠ¡å™¨ç«¯å¯ä»¥ç”¨retryå¤´ä¿¡æ¯ï¼ŒæŒ‡å®šè¿™ä¸ªæ—¶é—´retry: 10000\\n â“¹ idid: msg1\\ndata: message\\n\\n æˆ‘æ²¡å’‹ç”¨åˆ°è¿‡ æµè§ˆå™¨ä¼šä¸€ç›´è·Ÿè¸ªæœ€è¿‘çš„äº‹ä»¶IDï¼Œå¦‚æœå‘ç”Ÿäº†é‡è¿ï¼Œæµè§ˆå™¨ä¼šæŠŠæœ€è¿‘æ¥æ”¶åˆ°çš„äº‹ä»¶IDæ”¾å…¥ HTTP Header â€œLast-Event-IDâ€ ä¸­ï¼Œä½œä¸ºä¸€ç§ç®€å•çš„åŒæ­¥æœºåˆ¶ã€‚ â“º å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­1source.close(); â“» æœåŠ¡ç«¯å…³é—­æˆ‘ç”¨çš„nodeåšæµ‹è¯•çš„ï¼Œå°±æ˜¯æ¥å—ä¸€ä¸ªå‰ç«¯è§¦å‘çš„closeäº‹ä»¶ï¼Œæ¥å…³é—­123req.connection.addListener(\"close\", function() &#123; clearInterval(interval);&#125;, false); 2. demoâ“µ å®¢æˆ·ç«¯1234567let source = new EventSource('/url');source.onmessage = function(e) &#123; console.log(e, e.data);&#125;;setTimeout(() =&gt; &#123; source.close()&#125;, 5000); â“¶ æœåŠ¡ç«¯ï¼ˆnodeï¼‰12345678910111213app.use(\"/url\", function(req, res) &#123; res.writeHead(200, &#123; \"Content-Type\": \"text/event-stream\", &#125;); setInterval(() =&gt; &#123; res.write(\"id: num1\\n\\n\"); res.write(\"data:\" + (new Date()) + \"\\n\\n\"); &#125;, 1000); req.connection.addListener(\"close\", function() &#123; clearInterval(interval); &#125;, false);&#125;) æ¯ä¸€ç§’è§¦å‘ä¸€æ¬¡ï¼Œ5ç§’æ–­å¼€è¿æ¥ â“· gif ç»“æœ ä¸‰ã€cometè§£é‡ŠåŸºäºHTTPé•¿è¿æ¥çš„ï¼Œæ— éœ€åœ¨æµè§ˆå™¨å®‰è£…æ’ä»¶çš„æœåŠ¡å™¨æ¨é€çš„ä¸€ç§HACKæŠ€æœ¯ 1. ä¸ajaxå¯¹æ¯”Ajaxè¦æƒ³å–å¾—æ•°æ®ï¼Œå¿…é¡»å…ˆå‘é€è¯·æ±‚ï¼Œåœ¨å»¶æ—¶è¦æ˜¯æ¯”è¾ƒé«˜çš„webåº”ç”¨ä¸­ï¼Œåªèƒ½å¢åŠ æœåŠ¡å™¨è¯·æ±‚çš„é¢‘ç‡cometæ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ä¿æŒä¸€ä¸ªé•¿è¿æ¥ï¼Œåªæœ‰å®¢æˆ·ç«¯éœ€è¦æ•°æ®æ›´æ–°æ—¶ï¼ŒæœåŠ¡å™¨æ‰ä¸»åŠ¨å°†æ•°æ®æ¨é€åˆ°å®¢æˆ·ç«¯ cometçš„å®ç°ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ åŸºäºAjaxçš„é•¿è½®è¯¢ï¼ˆlong-pollingï¼‰ åŸºäºIframeåŠhtmlfileçš„æµï¼ˆhttp streamingï¼‰æ–¹å¼ 2. åŸºäºAjaxçš„é•¿è½®è¯¢ï¼ˆlong-pollingï¼‰ ä¸¤ç§åŒºåˆ« æœåŠ¡ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯æŒ‚èµ·ï¼Œæœ‰æ›´æ–°çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯æ‰è¿”å›æ•°æ® demoâ“µ å®¢æˆ·ç«¯123456789101112131415161718&lt;body&gt;&lt;button onclick=\"run()\"&gt;å¼€å§‹&lt;/button&gt;&lt;/body&gt;&lt;script type=\"text/javascript\"&gt; function run()&#123; // è¿™ä¸ªè¶…æ—¶æ—¶é—´ä¸è®¾ç½®çš„è¯å°±æ˜¯ä¸ä¼šå› è¶…æ—¶è€Œåœæ­¢ // å› ä¸ºæœ‰å¯èƒ½å®¢æˆ·ç«¯å·²ç»è¶…æ—¶äº†ï¼ŒæœåŠ¡ç«¯æ‰è¿”å› // æ‰€ä»¥è®¾ä¸è®¾ç½®çœ‹éœ€æ±‚ axios.get('/url',&#123;timeout: 10000&#125;).then(r=&gt;&#123; console.log(r.data) run() &#125;).catch(e=&gt;&#123; // è¿™å—åº”è¯¥æœ‰ä¸ªæ¬¡æ•°åˆ¤æ–­ï¼Œæˆ‘ç®€å†™äº† run() &#125;) &#125; &lt;/script&gt; â“¶ æœåŠ¡ç«¯ï¼ˆnodeï¼‰1234567app.use(\"/url\", function(req, res) &#123; // æ¨¡æ‹Ÿä¸€ä¸‹æ—¶é—´ const time=Math.ceil(Math.random()*5); setTimeout(() =&gt; &#123; res.json(\"æˆåŠŸ\"); &#125;, time*1000);&#125;) â“· gif ç»“æœ 3. åŸºäºIframeåŠhtmlfileçš„æµï¼ˆhttp streamingï¼‰å‰å°å®šä¹‰å¥½è·å–æ•°æ®çš„å‡½æ•°ï¼Œå‚æ•°æ˜¯æ•°æ®ï¼Œåå°ä¼ è¿‡æ¥çš„æ˜¯å‡½æ•°çš„è°ƒç”¨ â“µ å®¢æˆ·ç«¯ 123456789 &lt;script type=\"text/javascript\"&gt; function getJSON(data)&#123; console.log(data) &#125;&lt;/script&gt;&lt;body&gt; &lt;!-- ä¸€èˆ¬è¿™ä¸ªiframeæ˜¯éšè—çš„æˆ–è€…é€šè¿‡jsåˆ›å»ºçš„ï¼Œæˆ‘ç®€åŒ–äº† --&gt; &lt;iframe src=\"/iframe\" frameborder=\"0\"&gt;&lt;/iframe&gt;&lt;/body&gt; â“¶ æœåŠ¡ç«¯ï¼ˆnodeï¼‰12345678app.use(\"/iframe\", function(req, res) &#123; // æ¨¡æ‹Ÿä¸€ä¸‹æ—¶é—´ const time=Math.ceil(Math.random()*5); setTimeout(() =&gt; &#123; // è¿™å°±ç›´æ¥è°ƒç”¨äº† res.send('&lt;script type=\"text/javascript\"&gt;parent.getJSON('+time+')&lt;/script&gt;'); &#125;, time*1000);&#125;) â“· gif ç»“æœ","categories":[],"tags":[{"name":"http","slug":"http","permalink":"http://yoursite.com/tags/http/"}]},{"title":"HTTPS","slug":"HTTPS","date":"2019-11-20T07:02:14.000Z","updated":"2021-01-25T10:48:26.372Z","comments":true,"path":"2019/11/20/HTTPS/","link":"","permalink":"http://yoursite.com/2019/11/20/HTTPS/","excerpt":"","text":"å‰è¨€ä»¥ä¸‹æ˜¯æˆ‘å¯¹ã€Šå›¾è§£HTTPã€‹è¿™æœ¬ä¹¦é˜…è¯»åçš„çŸ¥è¯†æ¢³ç†ï¼Œä¸ºäº†åŠ æ·±å°è±¡å’Œå¿˜äº†çš„æ—¶å€™èƒ½ä¸çæ‰¾ ä¸€ã€httpç¼ºç‚¹1. é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼Œä¸åŠ å¯†ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬TCP/IPåè®®æ—å·¥ä½œæœºåˆ¶ï¼Œé€šä¿¡å†…å®¹åœ¨æ‰€æœ‰çš„é€šä¿¡çº¿è·¯ä¸Šéƒ½æœ‰å¯èƒ½é­åˆ°çª¥è§†å…¶å®åŠ å¯†ä¹Ÿä¼šè¢«çª¥è§†ï¼Œåªä¸è¿‡é€šä¿¡ç»è¿‡åŠ å¯†ï¼ŒæŠ¥æ–‡ä¿¡æ¯æ— æ³•è¢«ç ´è§£ï¼Œä½†è¿˜æ˜¯èƒ½çœ‹åˆ°çš„ï¼Œç”¨æŠ“åŒ…å·¥å…·Wiresharkç­‰ çªƒå¬ 2. ä¸éªŒè¯é€šä¿¡æ–¹èº«ä»½ï¼Œå¯èƒ½é­é‡ä¼ªè£…httpåè®®é€šä¿¡æ—¶ï¼Œç”±äºä¸å­˜åœ¨ç¡®è®¤é€šä¿¡æ–¹çš„å¤„ç†æ­¥éª¤ï¼Œä»»ä½•äººéƒ½å¯ä»¥å‘èµ·è¯·æ±‚ï¼Œå¦å¤–ï¼ŒæœåŠ¡å™¨åªè¦æ¥æ”¶åˆ°è¯·æ±‚ï¼Œä¸ç®¡å¯¹æ–¹æ˜¯è°éƒ½ä¼šè¿”å›ä¸€ä¸ªç›¸åº” çªƒå¬ 1. ä¼ªè£…æœåŠ¡å™¨ï¼ˆæ— æ³•ç¡®å®šè¯·æ±‚æ¥è‡ªä½•æ–¹ã€å‡ºè‡ªè°æ‰‹ï¼‰ 2. ä¼ªè£…å®¢æˆ·ç«¯ 3. æ— æ³•é˜»æ­¢æµ·é‡è¯·æ±‚ï¼ŒDOSæ”»å‡» 3. æ— æ³•è¯æ˜æŠ¥æ–‡å®Œæ•´æ€§ï¼Œç¯¡æ”¹æŠ¥æ–‡æ— æ³•è¯æ˜ä¿¡æ¯çš„å‡†ç¡®åº¦ï¼Œæ— æ³•ç¡®è®¤å‘å‡ºçš„è¯·æ±‚/ç›¸åº”å’Œæ¥å—çš„è¯·æ±‚/ç›¸åº”æ˜¯å‰åç›¸åŒçš„ æ— æ³•ç¡®å®šå‡†ç¡®åº¦ ä¸­é—´äººæ”»å‡» äºŒã€SSLSSLï¼š å®‰å…¨å¥—æ¥å±‚ç”¨SSLå»ºç«‹å®‰å…¨é€šä¿¡çº¿è·¯åï¼Œå°±å¯ä»¥åœ¨è¿™æ¡çº¿è·¯è¿›è¡ŒHTTPé€šä¿¡ï¼Œä¸SSLç»„åˆä½¿ç”¨çš„HTTPç§°ä¸ºHTTPS å®‰å…¨çš„é€šä¿¡çº¿è·¯ 1.è¯ä¹¦ä½¿ç”¨HTTPåè®®æ— æ³•ç¡®å®šé€šä¿¡æ–¹ï¼Œä½†æ˜¯SSLåˆ™å¯ä»¥ï¼ŒSSLä¸ä»…æä¾›åŠ å¯†ï¼Œè¿˜ä½¿ç”¨ç§°ä¸º è¯ä¹¦çš„æ‰‹æ®µï¼Œç”¨äºç¡®å®šé€šä¿¡åŒæ–¹ã€‚è¯ä¹¦ç”±å€¼å¾—ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹æœºæ„é¢å‘ï¼Œç”¨æ¥ è¯æ˜æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ˜¯å®é™…å­˜åœ¨çš„ è¯ä¹¦ 2.åŠ å¯†ï¼ˆå…¬å¼€å¯†é’¥åŠ å¯†ï¼‰SSLé‡‡ç”¨å…¬å¼€å¯†é’¥åŠ å¯†çš„åŠ å¯†æ–¹å¼ä½¿ç”¨ä¸€å¯¹éå¯¹ç§°çš„å¯†é’¥ï¼Œä¸€ä¸ªå«ç§æœ‰ç§˜é’¥ï¼ˆä¸èƒ½è®©åˆ«äººçŸ¥é“ï¼‰ï¼Œä¸€ä¸ªå«å…¬æœ‰å¯†é’¥ï¼ˆå—ä»»ä½•äººéƒ½å¯ä»¥çŸ¥é“ï¼‰ ğŸ™.æµç¨‹å‘é€å¯†æ–‡ä¸€æ–¹ä½¿ç”¨å¯¹æ–¹çš„å…¬å¼€å¯†é’¥è¿›è¡ŒåŠ å¯†ï¼Œå¯¹æ–¹æ”¶åˆ°åŠ å¯†çš„ä¿¡æ¯åï¼Œå†ç”¨è‡ªå·±çš„ç§é’¥è§£å¯† ä¸éœ€è¦å‘é€å¯†é’¥äº†åŠ å¯†ç®—æ³•å…¬å¼€ï¼Œå¯†é’¥ä¿å¯†å¯†é’¥è¢«çªƒå–ï¼ŒåŠ å¯†ä¹Ÿå°±æ²¡æœ‰æ„ä¹‰äº†(å› ä¸ºä¸éœ€è¦å‘é€å¯†é’¥ï¼Œä¹Ÿå°±ä¸æ‡‚æ‹…å¿ƒå¯†é’¥è¢«çªƒå–äº†) åŠ å¯† ğŸš.å­˜åœ¨çš„é—®é¢˜â€”æ— æ³•è¯æ˜å…¬å¼€å¯†é’¥æœ¬èº«å°±æ˜¯è´§çœŸä»·å®çš„å…¬å¼€å¯†é’¥å½“ç„¶ä¹Ÿå­˜åœ¨è§£å†³åŠæ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ç”±æ•°å­—è¯ä¹¦è®¤è¯æœºæ„å’Œå…¶ç›¸å…³æœºæ„åŠæ³•çš„å…¬å¼€å¯†é’¥å’Œè¯ä¹¦ æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼ˆCAï¼‰ï¼Œå¤„äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åŒæ–¹éƒ½å¯ä¿¡èµ–çš„ç¬¬ä¸‰æ–¹æœºæ„ï¼Œé¢å‘çš„æ•°å­—è¯ä¹¦ä¸ºæœ€ç»ˆç”¨æˆ·æ•°æ®åŠ å¯†çš„å…¬å…±å¯†é’¥ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒCAçš„è´£ä»»æ˜¯ç¡®ä¿å…¬å¸æˆ–ç”¨æˆ·æ¥æ”¶ä¸€ä¸ªå”¯ä¸€çš„è¯ä¹¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„èº«ä»½çš„è®¤è¯ã€‚ æµç¨‹ æœåŠ¡å™¨è¿è¥äººå‘˜å‘æ•°å­—è¯ä¹¦è®¤è¯æœºæ„æå‡ºå…¬å¼€å¯†é’¥çš„ç”³è¯· æœºæ„åœ¨åˆ¤æ˜æå‡ºç”³è¯·è€…èº«ä»½åï¼Œä¼šå¯¹å·²ç”³è¯·çš„å…¬å¼€å¯†é’¥åšæ•°å­—ç­¾åï¼Œç„¶ååˆ†é…è¿™ä¸ªå·²ç­¾åçš„å…¬å¼€å¯†é’¥ï¼Œå¹¶å°†è¯¥å…¬å¼€å¯†é’¥æ”¾å…¥å…¬é’¥è¯ä¹¦åç»‘å®šä¸€èµ· æœåŠ¡å™¨ä¼šå°†è¿™ä¸ªå…¬é’¥è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå…¬é’¥è¯ä¹¦ä¹Ÿå«æ•°å­—è¯ä¹¦æˆ–è¯ä¹¦ æ¥æ”¶åˆ°è¯ä¹¦çš„å®¢æˆ·ç«¯ä½¿ç”¨æ•°å­—è¯ä¹¦è®¤è¯æœºæ„çš„å…¬å¼€å¯†é’¥å¯¹è¯ä¹¦ä¸Šçš„æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯ï¼Œä¸€æ—¦é€šè¿‡ï¼Œå°±èƒ½ç¡®å®šè¿™ä¸ªå…¬å¼€å¯†é’¥çœŸå®æœ‰æ•ˆä¸”å€¼å¾—ä¿¡èµ– åŠ å¯† 2.åŠ å¯†ï¼ˆå…±äº«å¯†é’¥åŠ å¯†ï¼‰åŠ å¯†å’Œè§£å¯†ç”¨åŒä¸€ä¸ªå¯†é’¥çš„æ–¹å¼ç§°ä¸ºå…±äº«å¯†é’¥åŠ å¯†ä¹Ÿå«å¯¹ç§°å¯†é’¥åŠ å¯† 3.ä¸¤ç§åŠ å¯†æ–¹å¼çš„å¯¹æ¯”å…¬å¼€å¯†é’¥åŠ å¯†å¤„ç†é€Ÿåº¦æ…¢äºå…±äº«å¯†é’¥åŠ å¯† å…¬å¼€å¯†é’¥ä¼˜åŠ¿ ä¸éœ€è¦äº¤æ¢å…±äº«å¯†é’¥ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒå…±äº«å¯†é’¥ä¼šæš´éœ²å…¬å¼€å¯†é’¥åŠ£åŠ¿ è€—è´¹èµ„æºï¼Œå¿…é¡»ç»è¿‡æ•°å­—è¯ä¹¦éªŒè¯ å…±äº«å¯†é’¥ä¼˜åŠ¿ ä¸éœ€è¦ç»è¿‡æ•°å­—è¯ä¹¦éªŒè¯ï¼Œé€Ÿåº¦ä¼˜äºå…¬å¼€å¯†é’¥å…±äº«å¯†é’¥åŠ£åŠ¿ éœ€è¦å‘é€å…±äº«å¯†é’¥ï¼Œæœ‰æš´éœ²çš„é£å‘ ä¸‰ã€HTTP+åŠ å¯†+è®¤è¯+å®Œæ•´æ€§ä¿æŠ¤=HTTPSHTTPSä½¿ç”¨SSLå’ŒTLSä¸¤ç§åè®® è¯ä¹¦ HTTPS é—®é¢˜ï¼šå…±äº«å¯†é’¥çš„æ–¹å¼åŠ å¯†æ—¶å¿…é¡»å°†å¯†é’¥ä¹Ÿå‘ç»™å¯¹æ–¹ï¼Œé‚£æ€ä¹ˆå®‰å…¨å‘é€å‘¢ï¼Ÿ 1.httpsçš„åŠ å¯†ï¼ˆæ··åˆåŠ å¯†ï¼‰ä¸¤ä¸ªæ­¥éª¤ äº¤æ¢å¯†é’¥ç¯èŠ‚ï¼šä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†ï¼ˆä¸»è¦æ˜¯ä¸ºäº†ä¼ é€’å…±äº«ç§˜é’¥åŠ å¯†æ–¹å¼é‡Œçš„å¯†é’¥ï¼‰ é€šä¿¡ï¼šç¡®ä¿å¯†é’¥æ˜¯å®‰å…¨çš„å‰æä¸‹ï¼Œä½¿ç”¨å…±äº«å¯†é’¥è¿›è¡Œé€šä¿¡ 2.httpsçš„é€šä¿¡æœºåˆ¶ é€šä¿¡æ­¥éª¤ æ­¥éª¤1. å®¢æˆ·ç«¯å‘é€Client Hello æŠ¥æ–‡å¼€å§‹SSLé€šä¿¡ã€‚æŠ¥æ–‡ä¸­å«å®¢æˆ·ç«¯æ”¯æŒçš„SSLçš„æŒ‡å®šç‰ˆæœ¬ã€åŠ å¯†ç»„ä»¶åˆ—è¡¨ï¼ˆä½¿ç”¨çš„åŠ å¯†ç®—æ³•å’Œç§˜é’¥é•¿åº¦ï¼‰ æ­¥éª¤2. æœåŠ¡å™¨å¯è¿›è¡ŒSSLé€šä¿¡æ—¶ï¼Œä¼šä»¥server HelloæŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼ŒæŠ¥æ–‡ä¸­åŒ…å«SSLç‰ˆæœ¬å’ŒåŠ å¯†ç»„ä»¶ï¼ŒåŠ å¯†ç»„ä»¶å†…å®¹æ˜¯ä»æ¥æ”¶åˆ°çš„å®¢æˆ·ç«¯åŠ å¯†ç»„ä»¶å†…ç­›é€‰å‡ºæ¥çš„ æ­¥éª¤3. æœåŠ¡å™¨å‘é€certificateæŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­å«æœ‰å…¬å¼€å¯†é’¥è¯ä¹¦ æ­¥éª¤4. æœåŠ¡å™¨å‘é€ server Hello DoneæŠ¥æ–‡é€šçŸ¥å®¢æˆ·ç«¯ï¼Œæœ€åˆé˜¶æ®µçš„SSLæ¡æ‰‹åå•†éƒ¨åˆ†ç»“æŸ æ­¥éª¤5. SSLç¬¬ä¸€æ¬¡æ¡æ‰‹ç»“æŸåï¼Œå®¢æˆ·ç«¯ä»¥Client Key Exchange æŠ¥æ–‡æœ€ä¸ºå›åº”ï¼ŒæŠ¥æ–‡ä¸­åŒ…å«é€šä¿¡åŠ å¯†ä¸­ä½¿ç”¨çš„ä¸€ç§è¢«ç§°ä¸ºPre-master secretçš„éšæœºå¯†ç ä¸²ã€‚è¯¥æŠ¥æ–‡ç”¨æ­¥éª¤3ä¸­çš„å…¬å¼€å¯†é’¥åŠ å¯†ï¼ˆå‘ŠçŸ¥æœåŠ¡ç«¯å…±äº«ç§˜é’¥ï¼‰ æ­¥éª¤6. æ¥ç€å®¢æˆ·ç«¯å‘é€change cipher specæŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡ä¼šæç¤ºæœåŠ¡å™¨ï¼Œåœ¨æ­¤æŠ¥æ–‡ä¹‹åçš„é€šä¿¡ä¼šé‡‡ç”¨Pre-master secret å¯†é’¥åŠ å¯† æ­¥éª¤7. å®¢æˆ·ç«¯å‘é€FinishedæŠ¥æ–‡ã€‚è¯¥æŠ¥æ–‡åŒ…å«è¿æ¥è‡³ä»Šå…¨éƒ¨æŠ¥æ–‡çš„æ•´ä½“æ ¡éªŒå€¼ï¼Œè¿™æ¬¡æ¡æ‰‹åå•†æ˜¯å¦èƒ½æˆåŠŸï¼Œè¦ä»¥æœåŠ¡å™¨æ˜¯å¦èƒ½å¤Ÿæ­£ç¡®è§£å¯†è¯¥æŠ¥æ–‡ä½œä¸ºåˆ¤å®šæ ‡å‡† ï¼ˆå¦‚æœæœåŠ¡å™¨èƒ½æ­£ç¡®è§£å¯†ï¼Œåˆ™è¿™æ¬¡æ¡æ‰‹åå•†æˆåŠŸï¼‰ æ­¥éª¤8. æœåŠ¡å™¨åŒæ ·å‘é€Change cipher spec æŠ¥æ–‡ æ­¥éª¤9. æœåŠ¡å™¨å‘é€FinishedæŠ¥æ–‡ æ­¥éª¤10. æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„FinishedæŠ¥æ–‡äº¤æ¢å®Œæ¯•åï¼ŒSSLè¿æ¥å°±ç®—å»ºç«‹å®Œæˆï¼Œå½“ç„¶ï¼Œé€šä¿¡ä¼šå—åˆ°SSLä¿æŠ¤ï¼Œä»æ­¤å¤„å¼€å§‹è¿›è¡Œåº”ç”¨å±‚åè®®çš„é€šä¿¡ï¼Œå³å‘é€HTTPç›¸æ±‚ æ­¥éª¤11. åº”ç”¨å±‚åè®®é€šä¿¡ï¼Œå³å‘é€HTTPå“åº” æ­¥éª¤12ã€‚ æœ€åç”±å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼Œæ–­å¼€è¿æ¥æ—¶ï¼Œå‘é€close_notify æŠ¥æ–‡ å†å‘é€TCP FINæŠ¥æ–‡æ¥å…³é—­ä¸TCPçš„é€šä¿¡ åº”ç”¨å±‚å‘é€æ•°æ®æ—¶ä¼šé™„åŠ ä¸€ç§åŠ MACï¼ˆMessage Authentication Codeï¼‰çš„æŠ¥æ–‡æ‘˜è¦ã€‚MACèƒ½å¤ŸæŸ¥çŸ¥æŠ¥æ–‡æ˜¯å¦é­åˆ°ç¯¡æ”¹ï¼Œä»è€Œä¿æŠ¤æŠ¥æ–‡çš„å®Œæ•´æ–° 3.HTTPSé€šä¿¡è¿‡ç¨‹æ€»ç»“ å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åå•†å†³å®šåŠ å¯†ç»„ä»¶ æœåŠ¡ç«¯å‘é€å…¬å¼€å¯†é’¥è¯ä¹¦ï¼ˆå½“ç„¶æœåŠ¡å™¨ä¹Ÿå­˜åœ¨é…å¯¹çš„ç§æœ‰ç§˜é’¥ï¼‰ å®¢æˆ·ç«¯ç¡®è®¤è¿™ä¸ªè¯ä¹¦çš„æœ‰æ•ˆæ€§ï¼Œç„¶åå–å‡ºå…¬å¼€å¯†é’¥ å®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ª pre-master secret ï¼ˆéšæœºæ•°ï¼‰ï¼Œç„¶åç”¨åˆšåˆšçš„å…¬å¼€å¯†é’¥åŠ å¯† å®¢æˆ·ç«¯å‘é€åŠ å¯†å¥½çš„pre-master secret ï¼ŒæœåŠ¡ç«¯ç”¨ç§æœ‰ç§˜é’¥è§£å¯† ä¸Šé¢çš„pre-master secret å°±æ˜¯å…±äº«ç§˜é’¥ï¼Œç°åœ¨ä¸¤è¾¹éƒ½æœ‰äº† è¿›è¡Œæ­£å¸¸çš„httpé€šä¿¡ 4.å®¢æˆ·ç«¯è®¤è¯ basic jwtç­‰è¿™ç§è®¤è¯ SSLå®¢æˆ·ç«¯è®¤è¯ï¼Œä¸€èˆ¬ç™»å½•ä¸ªäººç½‘é“¶æ—¶ï¼Œéœ€è¦ä¸‹è½½è¯ä¹¦å®‰è£… è¡¨å•è®¤è¯ï¼Œå°±æ˜¯å¼€å§‹ç™»å½•ç½‘ç«™éœ€è¦è¾“å…¥çš„è´¦å·å¯†ç  å››ã€HTTPSçš„ç¼ºç‚¹ HTTPSæ¯”HTTPè¦æ…¢2åˆ°100å€ å› ä¸ºä½¿ç”¨äº†SSLï¼Œå®ƒçš„å¤„ç†é€Ÿåº¦ä¼šå˜æ…¢ SSLæ…¢åˆ†ä¸¤ç§ SSLé€šä¿¡æ…¢ ç”±äºå¤§é‡æ¶ˆè€—CPUåŠå†…å­˜èµ„æºï¼Œå¯¼è‡´å¤„ç†é€Ÿåº¦å˜æ…¢ æ¶ˆè€—èµ„æº åŠ å¯†é€šä¿¡ä¼šæ¶ˆè€—æ›´å¤šçš„CPUå†…å­˜å’Œèµ„æºï¼Œé‚£ä¹ˆè®¡ç®—æœºèƒ½å¤Ÿå¤„ç†çš„è¯·æ±‚æ•°é‡å°±ä¼šå‡å°‘ï¼Œæ‰€ä»¥åœ¨ä¼ é€’ä¸€äº›æ•æ„Ÿæ•°æ®æ—¶é‡‡ç”¨HTTPS è´¹é’±è´­ä¹°è¯ä¹¦è¦èŠ±é’±çš„ äº”ã€æƒ³æ³•å…³äºhttpæˆ‘è§‰å¾—è¿˜æœ‰äº›ä¸è¶³ï¼Œæ¯”å¦‚ä¸å…·å¤‡æœåŠ¡ç«¯ä¸»åŠ¨æ¨é€ä¾›ï¼Œæ¯æ¬¡æƒ³çŸ¥é“æœåŠ¡å™¨å†…å®¹æ˜¯å¦æ›´æ–°ç­‰éƒ½éœ€è¦å®¢æˆ·ç«¯è½®è¯¢åšhttpè¯·æ±‚ç­‰åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ€»ç»“äº†åˆ«çš„å¸¸ç”¨çš„é€šä¿¡æ–¹å¼ï¼Œé€šä¿¡æ–¹å¼","categories":[],"tags":[{"name":"http","slug":"http","permalink":"http://yoursite.com/tags/http/"}]},{"title":"httpé¦–éƒ¨å­—æ®µ","slug":"httpé¦–éƒ¨å­—æ®µ","date":"2019-11-19T06:33:29.000Z","updated":"2021-01-25T10:48:26.377Z","comments":true,"path":"2019/11/19/httpé¦–éƒ¨å­—æ®µ/","link":"","permalink":"http://yoursite.com/2019/11/19/httpé¦–éƒ¨å­—æ®µ/","excerpt":"","text":"å‰è¨€ä»£ç†ç¼“å­˜ä»£ç†ä»£ç†è½¬å‘å“åº”æ—¶ï¼Œç¼“å­˜ä»£ç†ä¼šä¸æ¹˜æ±Ÿèµ„æºçš„å‰¯æœ¬ä¿å­˜åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šå½“ä»£ç†å†æ¬¡å—åˆ°å¯¹ç›¸åŒèµ„æºçš„è¯·æ±‚æ—¶ï¼Œå°±å¯ä»¥ä¸ä»æºæœåŠ¡å™¨å“ªé‡Œè·å–èµ„æºï¼Œè€Œæ˜¯å°†ä¹‹å‰ç¼“å­˜çš„èµ„æºä½œä¸ºç›¸åº”è¿”å› é€æ˜ä»£ç†è½¬å‘è¯·æ±‚æˆ–ç›¸åº”æ—¶ï¼Œä¸å¯¹æŠ¥æ–‡åšä»»ä½•åŠ å·¥çš„ä»£ç†ç±»å‹è¢«ç§°ä¸ºé€æ˜ä»£ç† å®¢æˆ·ç«¯çš„ç¼“å­˜æµè§ˆå™¨çš„ç¼“å­˜ç§°ä¸ºé›¶é£Ÿç½‘ç»œæ–‡ä»¶ temporary internet fileå½“åˆ¤å®šç¼“å­˜æœŸè¿‡æœŸåï¼Œä¼šå‘æºæœåŠ¡å™¨ç¡®è®¤èµ„æºçš„æœ‰æ•ˆæ€§ï¼Œï¼ˆå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼‰ httpé¦–éƒ¨å­—æ®µhttpé¦–éƒ¨å­—æ®µç±»å‹æ ¹æ®å®é™…ç”¨é€”è¢«åˆ†ä¸ºä»¥ä¸‹4ç§ç±»å‹ï¼š é€šç”¨é¦–éƒ¨å­—æ®µï¼ˆGeneral Header Fieldsï¼‰è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡ä¸¤æ–¹éƒ½ä¼šä½¿ç”¨çš„é¦–éƒ¨ã€‚ è¯·æ±‚é¦–éƒ¨æŠ¥æ–‡ï¼ˆRequest Headers Fieldsï¼‰ä»å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡æ—¶ä½¿ç”¨çš„é¦–éƒ¨ã€‚è¡¥å……äº†è¯·æ±‚çš„é™„åŠ å†…å®¹ï¼Œå®¢æˆ·ç«¯ä¿¡æ¯ï¼Œå“åº”å†…å®¹ç›¸å…³ä¼˜å…ˆçº§ç­‰ä¿¡æ¯ã€‚ å“åº”é¦–éƒ¨å­—æ®µï¼ˆResponse Header Fieldsï¼‰ä»æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯è¿”å›å“åº”æŠ¥æ–‡æ—¶ä½¿ç”¨çš„é¦–éƒ¨ã€‚è¡¥å……äº†å“åº”çš„é™„åŠ å†…å®¹ï¼Œä¹Ÿä¼šè¦æ±‚å®¢æˆ·ç«¯é™„åŠ é¢å¤–çš„å†…å®¹ä¿¡æ¯ã€‚ å®ä½“é¦–éƒ¨å­—æ®µï¼ˆEntity Header Fieldsï¼‰é’ˆå¯¹è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡çš„å®ä½“éƒ¨åˆ†ä½¿ç”¨çš„é¦–éƒ¨ã€‚è¡¥å……äº†èµ„æºå†…å®¹æ›´æ–°æ—¶é—´ç­‰ä¸å®ä½“ç›¸å…³çš„ä¿¡æ¯ã€‚ ä¸€ã€é€šç”¨é¦–éƒ¨å­—æ®µï¼ˆGeneral Header Fieldsï¼‰1. Cache-controlå®¢æˆ·ç«¯ç¼“å­˜è¯·æ±‚æŒ‡ä»¤ï¼š no-cache å¯ä»¥åœ¨æœ¬åœ°ç¼“å­˜ï¼Œå¯ä»¥å­å•Šä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼Œä½†æ˜¯è¿™ä¸ªç¼“å­˜è¦æœåŠ¡å™¨éªŒè¯æ‰å¯ä»¥ä½¿ç”¨ no-store å½»åº•ç¦ç”¨ç¼“å­˜ï¼Œæœ¬åœ°å’Œä»£ç†æœåŠ¡å™¨éƒ½ä¸ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½ä»æœåŠ¡ç«¯è·å– max-age å¦‚æœç¼“å­˜èµ„æºçš„ç¼“å­˜æ—¶é—´æ¯”è¿™ä¸ªæ•°å€¼å°ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å°±ä½¿ç”¨ç¼“å­˜çš„èµ„æºï¼Œå¦åˆ™å°±è¦è¯·æ±‚æºæœåŠ¡å™¨ min-fresh è¦æ±‚ç¼“å­˜æœåŠ¡å™¨è¿”å›å€¼è‡³å°‘è¿˜æœªç»è¿‡æŒ‡å®šæ—¶é—´çš„ç¼“å­˜èµ„æº æœŸæœ›åœ¨æŒ‡å®šæ—¶é—´å†…å“åº”æœ‰æ•ˆï¼Œæ¯”å¦‚min-fresh=60,é‚£ä¹ˆ60såå°±è¦é‡æ–°è¯·æ±‚æœåŠ¡å™¨è€Œä¸æ˜¯ä½¿ç”¨ç¼“å­˜ max-stale: ç¼“å­˜èµ„æºå³ä½¿è¿‡æœŸä¹Ÿç…§å¸¸æ¥æ”¶ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°ï¼Œæ— è®ºç»è¿‡å¤šå¤šä¹…å®¢æˆ·ç«¯éƒ½ä¼šæ¥æ”¶ï¼Œå¦‚æœæœ‰å‚æ•°ï¼Œåªè¦å¤„äºè¿™ä¸ªæ—¶é—´å†…ï¼Œå°±ä¼šè¢«æ¥æ”¶ on-if-cached: ç¼“å­˜æœåŠ¡å™¨åªè¦å¯¹ç›®æ ‡æœ‰ç¼“å­˜èµ„æºçš„æƒ…å†µä¸‹è¿”å›ï¼Œä¸é‡æ–°åŠ è½½ç›¸åº” æœåŠ¡ç«¯ç¼“å­˜ç›¸åº”æŒ‡ä»¤ï¼šå®¢æˆ·ç«¯ â€”â€“ ä»£ç†æœåŠ¡å™¨ â€”â€”-æºæœåŠ¡å™¨ public å¯ä»¥å‘ä»»æ„æ–¹æä¾›å“åº”çš„ç¼“å­˜ private åªèƒ½é’ˆå¯¹ä¸ªäººç”¨æˆ·ï¼Œè€Œä¸èƒ½è¢«ä»£ç†æœåŠ¡å™¨ç¼“å­˜ no-cache å¼ºåˆ¶å®¢æˆ·ç«¯ç›´æ¥å‘æœåŠ¡å™¨å‘é€è¯·æ±‚,ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡è¯·æ±‚éƒ½å¿…é¡»å‘æœåŠ¡å™¨å‘é€ã€‚æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ï¼Œç„¶ååˆ¤æ–­ èµ„æºæ˜¯å¦å˜æ›´ï¼Œæ˜¯åˆ™è¿”å›æ–°å†…å®¹ï¼Œå¦åˆ™è¿”å›304ï¼Œæœªå˜æ›´ max-age ç¼“å­˜æœåŠ¡å™¨ä¸å¯¹èµ„æºçš„æœ‰æ•ˆæ€§è¿›è¡Œç¡®è®¤ï¼Œmax-ageæ•°å€¼ä»£è¡¨èµ„æºä¿å­˜ä¸ºç¼“å­˜çš„æœ€é•¿æ—¶é—´ 2. connection æ§åˆ¶ä¸å†è½¬å‘ç»™ä»£ç†çš„é¦–éƒ¨å­—æ®µ upgrade:http/1.1 connection:upgrade ä»£ç†æœåŠ¡å™¨ï¼šåˆ é™¤upgrateå­—æ®µ======&gt;æºæœåŠ¡å™¨ ç®¡ç†æŒä¹…è¿æ¥ï¼ˆæŒä¹…è¿æ¥ï¼šåªè¦ä»»æ„ä¸€æ–¹ä¸æ˜ç¡®è¯´æ˜é‚£ä¹ˆå°±ä¸æ–­å¼€é“¾æ¥(é•¿è¿æ¥)ï¼‰ connection:close http 1.1ä»¥å‰çš„éƒ½æ˜¯éæŒä¹…è¿æ¥ï¼Œå¦‚æœè¦åœ¨æ—§ç‰ˆæœ¬ä¿æŒæŒä¹…è¿æ¥ï¼Œåˆ™æŒ‡å®šconnectionä¸ºKeep-Alive 3. Date è¡¨ç¤ºåˆ›å»ºhttpæŠ¥æ–‡çš„æ—¥æœŸå’Œæ—¶é—´ 4. Tralieräº‹å…ˆè¯´æ˜åœ¨æŠ¥æ–‡ä¸»ä½“åè®°å½•äº†å“ªäº›é¦–éƒ¨å­—æ®µï¼ˆåœ¨æŠ¥æ–‡æœ€åå†™äº†å¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œè®°å¾—ä»”ç»†é˜…è¯»å“¦ï¼‰Trailer:Expires(æŠ¥æ–‡ä¸»ä½“)expirs:ä¸€ä¸ªæ—¥æœŸ è¿‡ç¨‹ 5. Transfer-Encodingï¼šä¼ è¾“æŠ¥æ–‡ä¸»ä½“æ—¶é‡‡ç”¨çš„ç¼–ç æ–¹å¼ 6. Upgradeç”¨æŒ‡å®šçš„åè®®è¿›è¡Œé€šä¿¡æ³¨æ„ :è¿™ä¸ªå­—æ®µä»…é™äºå®¢æˆ·ç«¯å’Œä¸´ç•ŒæœåŠ¡å™¨ï¼Œå°±æ˜¯ä¸­é—´ä¸èƒ½æœ‰åˆ«çš„ä»£ç†æœåŠ¡å™¨å•¥çš„ï¼Œæ‰€ä»¥é€šå¸¸è¿˜è¦é¢å¤–æŒ‡å®šconnection:upgradeå­—æ®µ è¿‡ç¨‹ 7. Viaè¿½è¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¯·æ±‚å’Œå“åº”æŠ¥æ–‡çš„ä¼ è¾“è·¯å¾„ è¿‡ç¨‹ 8.warningè­¦å‘Šä¸ç¼“å­˜ç›¸å…³çš„è­¦å‘Š è¿‡ç¨‹ äºŒã€è¯·æ±‚é¦–éƒ¨å­—æ®µ1.Acceptå‘ŠçŸ¥æœåŠ¡å™¨ç”¨æˆ·èƒ½å¤„ç†çš„åª’ä½“ç±»å‹å’Œä¼˜å…ˆçº§ï¼Œç”¨q=æ¥è¡¨ç¤ºä¼˜å…ˆçº§ ï¼ˆï¼›ï¼‰ è¿›è¡Œåˆ†å‰²ï¼ŒèŒƒå›´0-1 2.Accept-Charseté€šçŸ¥æœåŠ¡å™¨ç”¨æˆ·ä»£ç†æ”¯æŒçš„å­—ç¬¦é›†å’Œé¡ºåºAccept-Charset:iso-8859-5,unicode-1-1;q=0.8 3.Accept-Encodingé€šçŸ¥æœåŠ¡å™¨å®¢æˆ·ç«¯æ”¯æŒçš„å†…å®¹ç¼–ç å’Œä¼˜å…ˆçº§å°±4ç§ï¼šgzipã€compressã€deflateã€identity 4.Accept-languageå®¢æˆ·ç«¯èƒ½å¤„ç†çš„è‡ªç„¶è¯­è¨€é›†Accept-Language:zh-cn,zh;q=0.7,en-us,en;q=0.3 5.Authorizationè®¤è¯ä¿¡æ¯ï¼Œæƒé™è®¤è¯ 6.ExpectæœŸå¾…æœåŠ¡å™¨å‡ºç°æŸç§ç‰¹å®šè¡Œä¸º,å¦‚æœæœåŠ¡ç«¯æ— æ³•ç†è§£å®¢æˆ·ç«¯çš„æœŸæœ›å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šè¿”å› 417çŠ¶æ€ç  è¿‡ç¨‹ 7.Fromç”¨æˆ·çš„ç”µå­é‚®ç®±åœ°å€ 8.Hosthoståœ°å€ 9.IF-Matchif-xxxçš„éƒ½å¯ä»¥ç§°ä¸ºæ¡ä»¶è¯·æ±‚åªæœ‰å½“if-matchå­—æ®µå€¼å’Œetagå€¼åŒ¹é…ä¸€è‡´æ—¶ï¼ŒæœåŠ¡å™¨æ‰ä¼šæ¥å—è¯·æ±‚å¦åˆ™è¿”å›412 precondition failed 10.If-Modified-Sinceif-xxxçš„éƒ½å¯ä»¥ç§°ä¸ºæ¡ä»¶è¯·æ±‚è¡¨ç¤ºæœ¬åœ°æ–‡ä»¶æœ€åä¿®æ”¹æ—¥æœŸï¼Œæµè§ˆå™¨ä¼šåœ¨request headeråŠ ä¸ŠIf-Modified-Sinceï¼ˆä¸Šæ¬¡è¿”å›çš„Last-Modifiedçš„å€¼ï¼‰ï¼Œè¯¢é—®æœåŠ¡å™¨åœ¨è¯¥æ—¥æœŸåèµ„æºæ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰æ›´æ–°çš„è¯å°±ä¼šå°†æ–°çš„èµ„æºå‘é€å›æ¥ï¼Œå¦åˆ™304çŠ¶æ€ç ï¼Œä»æœ¬åœ°èµ„æºç¼“å­˜è¯»å– 11.If-None-Matchif-xxxçš„éƒ½å¯ä»¥ç§°ä¸ºæ¡ä»¶è¯·æ±‚åªæœ‰åœ¨è¿™ä¸ªå­—æ®µçš„å€¼ä¸ETagä¸ä¸€è‡´æ—¶ï¼Œå¯å¤„ç†è¯¥è¯·æ±‚ï¼Œä¸if-Matchç›¸å 12.if-rangeè¿™ä¸ªæ¶‰åŠåˆ°æ–­ç‚¹ç»­ä¼ ,å¦‚æœè¿™ä¸ªå­—æ®µçš„å€¼æ»¡è¶³æ¡ä»¶ï¼Œrangeå¤´å­—æ®µæ‰ä¼šèµ·ä½œç”¨è¿™ä¸ªå­—æ®µå¯ä»¥ç”¨ETagéªŒè¯ï¼Œä¹Ÿå¯ä»¥ç”¨last-modified éªŒè¯å¦‚æœéªŒè¯å¤±è´¥åˆ™è¿”å›å…¨éƒ¨èµ„æº 200çŠ¶æ€ç  13.if-unmodified-Sinceä¸if-modified-sinceç›¸åï¼Œå‘ŠçŸ¥æœåŠ¡å™¨åªæœ‰åœ¨è¿™ä¸ªæ—¶é—´ç‚¹åæœªå‘ç”Ÿäº†æ›´æ–°æ‰å¤„ç†è¯·æ±‚ï¼Œå¦‚æœå‘ç”Ÿäº†æ›´æ–°ï¼Œåˆ™412(precondition failed)çŠ¶æ€ç è¿”å› 14.Max-ForwardsæŒ‡å®šå¯ç»è¿‡çš„æœåŠ¡å™¨æœ€å¤§æ•°ç›®ï¼Œè¿‡ä¸€ä¸ªæœåŠ¡å™¨å°±å‡1ï¼Œç›´åˆ°ä¸º0æ—¶è¿”å› è¿‡ç¨‹ 15.Refererè¯·æ±‚çš„URIæ˜¯ä»å“ªä¸ªwebé¡µé¢å‘èµ·çš„ è¿‡ç¨‹ 16.TEå‘ŠçŸ¥æœåŠ¡å™¨å®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†å“åº”çš„ä¼ è¾“ç¼–ç æ–¹å¼å’Œä¼˜å…ˆçº§TE:gzip,deflate;q=5 17.User-Agentå®¢æˆ·ç«¯æµè§ˆå™¨ä¿¡æ¯ ä¸‰ã€å“åº”é¦–éƒ¨å­—æ®µ1.Accept-Rangeså½“ä¸èƒ½å¤„ç†èŒƒå›´è¯·æ±‚æ—¶ï¼ŒAccept-Ranges:none(å°±æ˜¯ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ 204)Accept-Ranges:bytes æ”¯æŒ 2.Age:å¦‚æœæ˜¯æºæœåŠ¡å™¨ï¼šå‘ŠçŸ¥å®¢æˆ·ç«¯å¤šä¹…å‰åˆ›å»ºäº†å“åº”ï¼Œå•ä½ç§’ç¼“å­˜æœåŠ¡å™¨ï¼šæŒ‡ç¼“å­˜åçš„å“åº”å†æ¬¡å‘èµ·è®¤è¯åˆ°è®¤è¯å®Œæˆçš„æ—¶é—´ 3.ETag:èµ„æºæ ‡è¯†ï¼Œæ¯ä¸ªèµ„æºéƒ½ä¼šæœ‰ï¼Œèµ„æºæ›´æ–°æ—¶ï¼ŒETagä¹Ÿä¼šæ›´æ–°ã€‚è¿™ä¸ªç›¸å¯¹last-modifiedå’ŒExpiresä¼˜å…ˆçº§æœ€é«˜ å¼ºETagå€¼ï¼šä¸è®ºå®ä½“å‘ç”Ÿå¤šä¹ˆç»†å¾®çš„å˜åŒ–éƒ½ä¼šæ”¹å˜å…¶å€¼ å¼±ETagå€¼ï¼šåªæœ‰èµ„æºå‘ç”Ÿäº†æ ¹æœ¬çš„æ”¹å˜ï¼Œäº§ç”Ÿå·®å¼‚æ—¶æ‰ä¼šæ”¹å˜ï¼Œè¿™æ—¶ä¼šåœ¨å­—æ®µå¼€å§‹å¤„é™„åŠ W/ ETag:W/â€œasdfâ€ 4.Location:é‡å®šå‘ï¼ˆ302&amp;301ï¼‰å¦‚æœæ˜¯è¿™ä¿©çŠ¶æ€ç ï¼Œå°±ä¼šè¯»å–è¿™ä¸ªlocationæ¥ç¡®å®šè¦è·³è½¬çš„é¡µé¢,æ³¨æ„åˆ«çš„çŠ¶æ€ç æµè§ˆå™¨ä¸ä¼šè·³è½¬ 5.Proxy-Authenticateæ³¨æ„ï¼šè¿™æ˜¯åœ¨ä»£ç†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œè®¤è¯çš„è¿™ä¸ªå­—æ®µä¼šæŠŠä»£ç†æœåŠ¡å™¨æ‰€è¦æ±‚çš„çš„è®¤è¯ä¿¡æ¯å‘é€ç»™å®¢æˆ·ç«¯ 6.Retry-Afterå‘ŠçŸ¥å®¢æˆ·ç«¯å¤šä¹…ä¹‹åå†æ¬¡å‘é€è¯·æ±‚ï¼Œå¯ä»¥æ˜¯ç§’æ•°ä¹Ÿå¯ä»¥æ˜¯å…·ä½“æ—¥æœŸï¼Œé…åˆ503å’Œ3xxä½¿ç”¨ï¼Œè¯•éªŒäº†ä¸€ä¸‹å•¥ç”¨æ²¡æœ‰ï¼Œæœ‰çš„æµè§ˆå™¨è¿˜ä¸æ”¯æŒ 7.serverå‘Šè¯‰å®¢æˆ·ç«¯æœåŠ¡å™¨å®‰è£…çš„httpæœåŠ¡å™¨åº”ç”¨ç¨‹åºå’Œä¿¡æ¯Server:Apache/2.2.6 (unix) PHP/5.2.5Server: nginx è¿‡ç¨‹ 8.Varyï¼ˆå‚æ•°æ˜¯é¦–éƒ¨å­—æ®µï¼‰å…³ç³» å®¢æˆ·ç«¯â€”â€” ä»£ç†æœåŠ¡å™¨â€”â€”â€”â€“æºæœåŠ¡å™¨ä»£ç†æœåŠ¡å™¨æ¥æ”¶åˆ°æºæœåŠ¡å™¨åŒ…å«Varyçš„å“åº”åï¼Œå¦‚æœå®¢æˆ·ç«¯å‘é€åŒ…å«ç›¸åŒVaryæŒ‡å®šçš„é¦–éƒ¨å­—æ®µçš„è¯·æ±‚ï¼Œé‚£ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Œå³ä¾¿ç›¸åŒçš„èµ„æºå¦‚æœæ²¡æœ‰Varyä¹Ÿè¦é‡æ–°è·å–èµ„æºæ¯”å¦‚ï¼š è¿‡ç¨‹ å®ä¾‹ 9.WWW-Authenticateä¹¦ä¸Šè¯´ 401 Unauthorized çŠ¶æ€ç å“åº”ä¸­ï¼Œè‚¯å®šä¼šå¸¦æœ‰è¿™ä¸ªé¦–éƒ¨å­—æ®µï¼Œæˆ‘è¯•éªŒäº†ä¸€ä¸‹ï¼Œå‘ç°è¿”å›401çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰å¸¦è¿™ä¸ªé¦–éƒ¨ å››ã€å®ä½“é¦–éƒ¨å­—æ®µï¼ˆåœ¨è¯·æ±‚å’Œå“åº”ä¸¤æˆ¿çš„æŠ¥æ–‡ä¸­éƒ½åŒ…å«æœ‰ä¸å®ä½“ç›¸å…³çš„é¦–éƒ¨ï¼‰1.Allowé€šçŸ¥å®¢æˆ·ç«¯èƒ½æ”¯æŒçš„æ‰€æœ‰HTTPæ–¹æ³•ï¼šæ¯”å¦‚ï¼šAllowï¼šGET,HEAD,å¦‚æœé‡åˆ°ä¸æ”¯æŒçš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¿”å›405 Method Not Allowed 2.Content-EncodingContent-Encoding:gzipå‘ŠçŸ¥å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨å¯¹å®ä½“çš„ä¸»é¢˜éƒ¨åˆ†é€‰ç”¨çš„å†…å®¹ç¼–ç æ–¹å¼å†…å®¹ç¼–ç æ˜¯æŒ‡åœ¨ä¸ä¸¢å¤±å®ä½“ä¿¡æ¯çš„å‰æä¸‹æ‰€è¿›è¡Œçš„å‹ç¼©æœ‰å››ç§ç¼–ç æ–¹å¼ï¼š gzipï¼Œcompressï¼Œdeflateï¼Œidentity 3.Content-Languageå®ä½“ä¸»é¢˜ä½¿ç”¨çš„è‡ªç„¶è¯­è¨€ï¼ˆä¸­æ–‡ã€è‹±æ–‡...ï¼‰ 4.Content-Length (å­—èŠ‚)è¡¨æ˜å®ä½“ä¸»é¢˜éƒ¨åˆ†çš„å¤§å°ï¼Œå¯¹å®ä½“ä¸»ä½“è¿›è¡Œç¼–ç ä¼ è¾“æ—¶ï¼Œä¸èƒ½å†ä½¿ç”¨content-length 5.Content-Locationï¼ˆä¹Ÿæ²¡é‡è§è¿‡ï¼‰ç»™å‡ºä¸æŠ¥æ–‡ä¸»ä½“å¯¹åº”çš„URI 6.Content-MD5 ï¼ˆä»æ¥æ²¡é‡è§è¿‡ï¼‰å®¢æˆ·ç«¯å¯¹æ¥æ”¶çš„æŠ¥æ–‡ä¸»ä½“æ‰§è¡Œç›¸åŒçš„MD5ç®—æ³•ï¼Œç„¶åä¸é¦–éƒ¨å­—æ®µçš„å€¼æ¯”è¾ƒï¼Œç›®çš„æ˜¯æ£€æŸ¥æŠ¥æ–‡ä¸»ä½“æ˜¯å¦ä¼ è¾“çš„å®Œæ•´Content-MD5:SALDFJKHIJKNB UIJKNDSHIO234DF== 7.Content-Rangeé’ˆå¯¹èŒƒå›´è¯·æ±‚ï¼Œè¿”å›å“åº”æ—¶çš„é¦–éƒ¨å­—æ®µï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯è¿”å›çš„æ˜¯é‚£éƒ¨åˆ†çš„èŒƒå›´ï¼Œæ–­ç‚¹ç»­ä¼ æ–­ç‚¹ç»­ä¼  8.Contnet-Typeå®ä½“ä¸»ä½“çš„åª’ä½“ç±»å‹ ç±»å‹ 9.Expires:å°†èµ„æºå¤±æ•ˆçš„æ—¥æœŸå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œç¼“å­˜æœåŠ¡å™¨æ¥æ”¶åˆ°å«æœ‰expiresçš„å“åº”åï¼Œä¼šä½¿ç”¨ç¼“å­˜max-ageä¼˜å…ˆçº§å¤§äºè¿™ä¸ª 10.last-modifiedèµ„æºæœ€ç»ˆä¿®æ”¹çš„æ—¶é—´ æœ€åä¿®æ”¹åªèƒ½ç²¾ç¡®åˆ°ç§’çº§ï¼Œå¦‚æœæŸäº›æ–‡ä»¶åœ¨1ç§’é’Ÿä»¥å†…ï¼Œè¢«ä¿®æ”¹å¤šæ¬¡çš„è¯ï¼Œå®ƒå°†ä¸èƒ½å‡†ç¡®æ ‡æ³¨æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ è€Œä¸”å¦‚æœæºæœåŠ¡å™¨æœ‰èµ„æºåˆ é™¤åé‡æ–°ç”Ÿæˆï¼Œå†…å®¹ä¸å˜ï¼Œè¿™æ—¶è¿™ä¸ªå­—æ®µä¹Ÿä¼šå˜åŒ–","categories":[],"tags":[{"name":"http","slug":"http","permalink":"http://yoursite.com/tags/http/"}]},{"title":"httpçŠ¶æ€ç ","slug":"httpçŠ¶æ€ç ","date":"2019-11-15T03:42:16.000Z","updated":"2021-01-25T10:48:26.376Z","comments":true,"path":"2019/11/15/httpçŠ¶æ€ç /","link":"","permalink":"http://yoursite.com/2019/11/15/httpçŠ¶æ€ç /","excerpt":"","text":"1XX101 Switching Protocolså®¢æˆ·ç«¯å‘é€å¸¦æœ‰é¦–éƒ¨å­—æ®µUpgradeçš„å­—æ®µï¼Œå‘ŠçŸ¥æœåŠ¡å™¨é€šä¿¡åè®®å‘ç”Ÿæ”¹å˜æœåŠ¡ç«¯è¿”å› 101 Switching Protocolsï¼Œä¹‹åçš„é€šä¿¡ä¸å†é‡‡ç”¨HTTPï¼Œè€Œé‡‡ç”¨UpgradeæŒ‡å®šçš„æ–¹å¼ 2XX200 okå«ä¹‰ ï¼šæˆåŠŸå¤„ç† 204 no content å«ä¹‰ ï¼šæœåŠ¡å™¨æ¥å—çš„è¯·æ±‚å·²æˆåŠŸå¤„ç†ï¼Œä½†æ˜¯åœ¨ç›¸åº”æŠ¥æ–‡ä¸­ä¸åŒ…å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ï¼ˆå°±æ˜¯æ²¡æœ‰è¿”å›æ•°æ®ï¼‰ï¼Œæµè§ˆå™¨ä¸åˆ·æ–°é¡µé¢ä¹Ÿä¸å¯¼å‘æ–°çš„é¡µé¢ ä¸¾ä¾‹ï¼š formè¡¨å•ç­‰å¦‚æœè¿”å› 204ï¼Œé‚£ä¹ˆé¡µé¢ä¸åˆ·æ–° açš„hrefå¦‚æœè¿”å› 204ï¼Œé‚£ä¹ˆé¡µé¢ä¸è·³è½¬ 206 partial contentå«ä¹‰ ï¼šè¿”å›ä¸€éƒ¨åˆ†å†…å®¹ï¼ˆåˆ†ç‰‡è¯·æ±‚æ•°æ®ï¼‰ è¯·æ±‚å¤´é™å®šèŒƒå›´ ï¼šRange: bytes=0-1024 ã€‚ å¤´éƒ¨å­—æ®µè¯´æ˜å“åº”å¤´ :å“åº”å¤´Content-Rangeè¡¨ç¤ºæ–‡ä»¶çœŸå®å¤§å°12Content-Range: bytes 557056-6160883/6160884Content-Length: 5603828 è¯·æ±‚å¤´:1Range: bytes=557056- Range: bytes=startOffset-targetOffset/sum [è¡¨ç¤ºä»startOffsetè¯»å–ï¼Œä¸€ç›´è¯»å–åˆ°targetOffsetä½ç½®)æ¯æ¬¡è¦ç»­ä¼ æ—¶ï¼Œå…ˆè¯»å–å·²ä¸‹è½½æ–‡ä»¶çš„å­—èŠ‚å¤§å°æ¯”å¦‚100000ï¼Œç„¶å rangï¼š100000-ï¼Œå°±å¯ä»¥ç»§ç»­ä¸‹è½½ Range: bytes=startOffset-targetOffset [å­—èŠ‚æ€»æ•°ä¹Ÿå¯ä»¥å»æ‰] åº”ç”¨ï¼šæ–­ç‚¹ç»­ä¼ ï¼Œå¤§æ–‡ä»¶ä¸‹è½½ï¼Œè¿…é›·ï¼Œç™¾åº¦ 3XX301ï¼šæ°¸ä¹…é‡å®šå‘å«ä¹‰ï¼š è¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²è¢«åˆ†é…äº†æ–°çš„uriï¼Œä¹Ÿå°±æ˜¯ä¼šåšä¸€ä¸ªè·³è½¬åå° 12res.writeHead(302,&#123;'Location': '/'&#125;);res.end(); è®°ä½ï¼šurlé‡å®šå‘æ˜¯åœ¨æµè§ˆå™¨ç«¯å®Œæˆçš„ï¼Œurlçš„é‡å®šå‘ä¸çŠ¶æ€ç å’Œlocationæœ‰å…³ï¼Œæµè§ˆå™¨å…ˆåˆ¤æ–­çŠ¶æ€ç æ˜¯å¦ä¸º301æˆ–302æ—¶ï¼Œæ‰ä¼šæ ¹æ®locationå“åº”å¤´å†…å®¹è¿›è¡Œè·³è½¬ï¼Œä¸Šé¢çš„ä»£ç é‡Œï¼Œå¦‚æœè¿”å›çš„çŠ¶æ€ç æ˜¯åˆ«çš„æ¯”å¦‚200å•¥çš„ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¸ä¼šè·³è½¬ 302ï¼šä¸´æ—¶é‡å®šå‘ä¸´æ—¶è·³è½¬ï¼Œä¸æ˜¯æ°¸ä¹…æ€§çš„ åŒºåˆ«ä» SEO è§’åº¦ï¼Œ302 è·³è½¬ï¼Œæœç´¢å¼•æ“ä»ç„¶ä¿ç•™åŸæ¥çš„åœ°å€ï¼Œ301 è·³è½¬ï¼Œåˆ™ä¼šä¿ç•™è·³è½¬åçš„åœ°å€ 303ï¼šsee otherè¯·æ±‚çš„èµ„æºå­˜åœ¨å¦ä¸€ä¸ªuriï¼Œåº”è¯¥ä½¿ç”¨getæ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æº ç†è§£ï¼šè¿™å’Œ302ä¼¼ä¹å¾ˆåƒï¼Œä¸¾ä¸ªä¾‹å­æ¯”å¦‚æˆ‘è¦ç”¨postè¯·æ±‚åˆ›å»ºä¸€ä¸ªç”¨æˆ·adminï¼Œåˆ°äº†åå°å‘ç°adminå·²ç»å­˜åœ¨ï¼Œé‚£è¿”å›ä¸ª303å’Œlocationä½ç½®ï¼Œç„¶åæµè§ˆå™¨ç”¨getå»è¯·æ±‚adminçš„ä½ç½®ï¼ˆå“åº”å¤´locationé‡Œè¿”å›ï¼‰ èµ„æºå·²å­˜åœ¨ 304ï¼šnot modifiedèµ„æºæ‰¾åˆ°äº†ï¼Œä½†ä¸ç¬¦åˆæ¡ä»¶ï¼Œä¸è¿”å›ä»»ä½•ä¸»ä½“ ç†è§£ï¼šå½“è§¦å‘åå•†ç¼“å­˜æ—¶ï¼Œå°±è¿”å›304ä¸€æ®µæ‚„æ‚„åœ°å¯¹è¯æµè§ˆå™¨ï¼šæˆ‘æ¥æ‰¾2019å¹´åæ›´æ–°çš„Aæ•°æ®æœåŠ¡å™¨ï¼šAæ•°æ®2019å¹´åæ²¡æ›´æ–°è¿‡å•Šï¼Œ304èµ°ä½ æµè§ˆå™¨ï¼šä»ï¼ˆæµè§ˆå™¨ï¼‰ç¼“å­˜ä¸­è¯»å– 4XXï¼šbad request å®¢æˆ·ç«¯é”™è¯¯è¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ï¼Œå½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œéœ€è¦ä¿®æ”¹è¯·æ±‚å†…å®¹åå†æ¬¡å‘é€ 401 unauthorizedä¸€èˆ¬æ˜¯å®¢æˆ·ç«¯éœ€è¦è®¤è¯ï¼ˆç™»å½•çŠ¶æ€å¤±æ•ˆç­‰ï¼‰ 412 precondition failedå“åº”çŠ¶æ€ç  412 Precondition Failedï¼ˆå…ˆå†³æ¡ä»¶å¤±è´¥ï¼‰è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯ï¼Œæ„å‘³ç€å¯¹äºç›®æ ‡èµ„æºçš„è®¿é—®è¯·æ±‚è¢«æ‹’ç»ã€‚è¿™é€šå¸¸å‘ç”Ÿäºé‡‡ç”¨é™¤ GET å’Œ HEAD ä¹‹å¤–çš„æ–¹æ³•è¿›è¡Œæ¡ä»¶è¯·æ±‚æ—¶æ— æ³•è¿›è¡Œè¯·æ±‚ï¼ˆé€šå¸¸æ˜¯ä¸Šè½½æˆ–ä¿®æ”¹èµ„æºï¼Œç”±é¦–éƒ¨å­—æ®µ If-Unmodified-Since æˆ– If-None-Match è§„å®šçš„å…ˆå†³æ¡ä»¶ä¸æˆç«‹çš„æƒ…å†µä¸‹ 403 forbiddenä½ ä»‹ä¸ªç”¨æˆ·æ²¡æœ‰æƒé™è®¿é—®æŒ‡å®šèµ„æºçš„æƒé™ 404 not foundæ²¡æ‰¾åˆ°è¯·æ±‚èµ„æº 405 Method Not AllowedæœåŠ¡ç«¯ä¸æ”¯æŒè¿™ç§HTTPæ–¹æ³• 5XX æœåŠ¡ç«¯é”™è¯¯500æœåŠ¡ç«¯æœ‰bugæˆ–é”™è¯¯ 503 service unavailableæœåŠ¡å™¨åœæœºæˆ–è¶…è½½ç»´æŠ¤","categories":[],"tags":[{"name":"http","slug":"http","permalink":"http://yoursite.com/tags/http/"}]},{"title":"iphoneæ‹ç…§è·å–ä½ç½®ä¿¡æ¯çš„åŸç†","slug":"iphoneæ‹ç…§è·å–ä½ç½®ä¿¡æ¯çš„åŸç†","date":"2019-11-04T02:43:07.000Z","updated":"2021-01-25T10:48:26.377Z","comments":true,"path":"2019/11/04/iphoneæ‹ç…§è·å–ä½ç½®ä¿¡æ¯çš„åŸç†/","link":"","permalink":"http://yoursite.com/2019/11/04/iphoneæ‹ç…§è·å–ä½ç½®ä¿¡æ¯çš„åŸç†/","excerpt":"","text":"å‰è¨€æœ€è¿‘åœ¨åšä¸€ä¸ªæ¡Œé¢åº”ç”¨ï¼Œå¤§è‡´å°±æ˜¯å¯¹å›¾ç‰‡å¤‡ä»½åˆ†ç±»ç­‰åŠ¨èƒ½ï¼Œiphoneå¦‚æœæ‰“å¼€GPSçš„è¯ï¼Œæ‹æ‘„çš„ç…§ç‰‡æ—¶æ˜¯å¯ä»¥æ˜¾ç¤ºåœ°ç†ä½ç½®çš„ï¼Œæˆ‘ä¹Ÿæƒ³åšä¸€ä¸ªåŒæ ·çš„åŠŸèƒ½ï¼Œåšçš„è¿‡ç¨‹ä¸­æœ‰å‡ ä¸ªå…³é”®ç‚¹ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ ä¸€ã€å…³äºGPS å®é™…æ“ä½œï¼š å¦‚æœæ‹¿åˆ°äº†ç…§ç‰‡çš„GPSç›´æ¥å»è…¾è®¯ã€é«˜å¾·ã€ç™¾åº¦åœ°å›¾ä¸­åæŸ¥çš„è¯ï¼Œåœ°ç†ä½ç½®åå·®å¤§æ¦‚ä¼šæœ‰å‡ ç™¾ç±³ï¼Œè¿™è‚¯å®šæ˜¯ä¸æ­£å¸¸çš„ï¼Œæ‰‹æœºçš„GPSç²¾åº¦æ¯”è¿™ä¸ªç²¾å‡†å¤šäº†ï¼Œæ‰€ä»¥è¦æ‰¾æ‰¾åˆ°å®šä½åå·®çš„æ ¹æœ¬ï¼Œæ˜¯å•¥å‘¢ï¼Ÿ åŸå› ï¼š å…³äºåæ ‡ï¼Œæ‰‹æœºçš„GPSåæ ‡æ˜¯WGS84ï¼Œè¿™ä¸ªæ ‡å‡†è°·æ­Œåœ°çƒå’Œéä¸­å›½çš„è°·æ­Œåœ°å›¾åœ¨ç”¨ï¼ˆè°·æ­Œä¸­å›½ä¸æ˜¯ï¼‰ï¼Œä½†æ˜¯ä¸­å›½çš„åœ°å›¾éƒ½æ˜¯ç”¨çš„GCJ-02ï¼ˆç«æ˜Ÿåæ ‡ç³»ï¼Œåœ¨æ ‡å‡†ä¸Šåå·®å‡ ç™¾ç±³ï¼‰ï¼Œè…¾æ—­ï¼Œé«˜å¾·ç­‰ä¸­å›½çš„åœ°å›¾éƒ½æ˜¯ç”¨çš„è¿™ä¸ªæ ¼å¼ï¼Œåœ¨WGS84åŸºç¡€ä¸ŠåŠ å¯†æ¥çš„ï¼ŒBD09 ç™¾åº¦åœ°å›¾ä½¿ç”¨çš„åæ ‡ï¼Œåœ¨GCJ-02åŸºç¡€ä¸ŠäºŒæ¬¡åŠ å¯†æ¥çš„ ç»“è®ºï¼š åŸæ¥æ˜¯æ ‡å‡†ä¸ä¸€æ ·çš„é—®é¢˜ï¼Œé‚£æˆ‘é¦–å…ˆæŠŠè·å¾—çš„GPSè½¬æˆæ ‡å‡†ä¸ºGCJ-02çš„åæ ‡ï¼Œç„¶åç”¨è¿™ä¸ªåæ ‡åæŸ¥åœ°ç†ä½ç½®ï¼Œé‚£æˆ‘çš„é—®é¢˜åˆæ¥äº†ï¼Œå¦‚ä¸‹ äºŒã€å…³äºåœ°ç†ä½ç½®iphoneå›¾ç‰‡åº“æ ¹æ®åœ°ç†ä½ç½®å’Œæ—¶é—´åˆ†ç±»è¿™ä¸ªè®¾è®¡ä½“éªŒéå¸¸å¥½ï¼Œé‚£æˆ‘æ—¢ç„¶è·å¾—äº†GPSï¼Œæˆ‘ä¹Ÿæƒ³è·å¾—ä½ç½®ï¼Œå¯æ˜¯æˆ‘è¿™ä¸ªä½ç½®æ˜¯éœ€è¦ è¿ç½‘ çš„å•Šï¼Œéœ€è¦è°ƒç”¨è…¾è®¯æˆ–è€…é«˜å¾·ç­‰APIçš„ï¼Œé‚£å¦‚æœæˆ‘ä¸€æ¬¡ä¸Šä¼ 100å¼ ç…§ç‰‡æˆ‘éƒ½è¦è·å–ä½ç½®ï¼Œé‚£å°±å¾—è¯·æ±‚100æ¬¡APIï¼Œæ‰€ä»¥æˆ‘æƒ³æœ‰æ²¡æœ‰æœ¬åœ°è·å–ä½ç½®çš„æ–¹æ³•ï¼Œè€Œä¸”æˆ‘å¥½åƒå‘ç°åœ¨iphoneä¸­æ‹å®Œç…§ç‰‡å°±ä¼šæœ‰ä½ç½®ä¿¡æ¯çš„å§ï¼Œæ‰€ä»¥æˆ‘åšäº†ä¸€ä¸ªæµ‹è¯•ï¼Œçœ‹çœ‹iphoneæ˜¯æ€ä¹ˆå®ç°è·å–ä½ç½®ä¿¡æ¯çš„ ä¸‰ã€å®éªŒ ç›®çš„ï¼š æˆ‘çš„ç›®çš„æ˜¯æ¢æ˜iphoneæ‹ç…§ç‰‡è·å–åœ°ç†ä½ç½®æ˜¯å¦éœ€è¦è”ç½‘ è¯•éªŒ å…³é—­ç½‘ç»œ ï¼Œæˆ–è€…å¼€å¯é£è¡Œæ¨¡å¼ï¼Œæ‹å¼ ç…§ç‰‡ï¼Œç„¶åå»å›¾åº“é‡Œçœ‹ï¼Œæ˜¯å¦è®°å½•äº†ä½ç½®ä¿¡æ¯ï¼Œå¦‚å›¾ å…³é—­ç½‘ç»œ è€Œä¸”å¼€å¯ç½‘ç»œåï¼Œåœ°ç†ä¿¡æ¯ä¼šé™„åŠ ä¸Š å¼€å¯ç½‘ç»œ ï¼Œæ“ä½œåŒä¸Šï¼Œå¦‚å›¾ å¼€å¯ç½‘ç»œ å››ã€ç»“è®ºiphoneæ‹ç…§è·å–è¡—é“åœ°å€è¿™ä¸€æ­¥çš„æ“ä½œæ˜¯è¯·æ±‚æ˜¯é è¿æ¥ç½‘ç»œè·å–çš„psï¼šiphoneçš„åœ°å›¾æºæ˜¯é«˜å¾·å’Œtomtom","categories":[],"tags":[{"name":"GPS","slug":"GPS","permalink":"http://yoursite.com/tags/GPS/"},{"name":"åœ°å›¾å®šä½","slug":"åœ°å›¾å®šä½","permalink":"http://yoursite.com/tags/åœ°å›¾å®šä½/"}]},{"title":"è¢«é—å¿˜çš„åºŸå¢Ÿ","slug":"è¢«é—å¿˜çš„åºŸå¢Ÿ","date":"2019-09-25T06:43:57.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"2019/09/25/è¢«é—å¿˜çš„åºŸå¢Ÿ/","link":"","permalink":"http://yoursite.com/2019/09/25/è¢«é—å¿˜çš„åºŸå¢Ÿ/","excerpt":"","text":"ä¸€ã€èƒŒæ™¯æ—¶é—´ï¼š2019ä¸­ç§‹èŠ‚åœ°ç‚¹ï¼šç‹å¹³ç…¤çŸ¿ï¼ˆå·²åºŸå¼ƒï¼‰è¿™ä¸ªè§†é¢‘æ˜¯åœ¨ä»Šå¹´ä¸­ç§‹èŠ‚å»ç‹å¹³ç…¤çŸ¿æ¢é™©æ—¶æ‹æ‘„çš„ï¼Œç‹å¹³ç…¤çŸ¿ä¸œä¸´æ°¸å®šæ²³ï¼Œè¥¿ä¾ä¹é¾™å±±ç³»ï¼Œæ™¯è‰²éå¸¸ä¼˜ç¾ï¼Œæ°¸å®šæ²³æ°´çš„å¹²å‡€ç¨‹åº¦æ‰“ç ´äº†æˆ‘å¯¹åŒ—äº¬æ²³æ°´åˆ»æ¿çš„å°è±¡ã€‚ä»ç…¤çŸ¿å‡ºæ¥åæƒ³æ‹å‡ å¼ ç…§ç‰‡ï¼Œä½†æ˜¯ç¢äºæ—¶é—´ç´§è¿«ä¾¿ä½œç½¢ã€‚ç‹å¹³ç…¤çŸ¿å»ºè®¾æŠ•äº§äº1958å¹´ï¼Œ1994å¹´å…³é—­ï¼Œæ˜¯æˆ‘å›½å»ºå›½åˆæœŸå›½å®¶å¤§åŠ›æ”¯æŒå‘å±•ç¬¬ä¸€äº§ä¸šæ—¶æœŸä¿®ç­‘çš„ç…¤çŸ¿ä¼ä¸šï¼Œæœ‰ç€â€œäº¬è¥¿å…«å¤§çŸ¿â€ä¹‹ä¸€çš„ç§°å·ï¼Œè¿™é‡Œçš„çŸ¿äº•å£æ˜¼å¤œä¸åœåœ°ååç€ç…¤ç‚­ï¼Œå¹´äº§ä¼˜è´¨ç…¤è¾¾ç™¾ä¸‡å¨çº§ï¼Œæ‰€ä»¥åœ¨é€›çš„è¿‡ç¨‹ä¸­ï¼Œæ€»æ˜¯ä¼šè”æƒ³å½“å¹´è¿™é‡Œçš„å·¥äººåœ¨è¿™é‡Œè¾›å‹¤åŠ³ä½œçš„æ ·å­ï¼Œå›è¿‡ç¥æ¥å†çœ‹çœ‹ä»Šå¤©çš„æ ·å­ï¼Œå¿ƒé‡Œå°±ä¼šæ„Ÿå¹ â€å…´äº¡è°äººå®šï¼Œç››è¡°å²‚æ— å‡­ã€‚ä¸€å¤œé£äº‘æ•£ï¼Œå˜å¹»äº†æ—¶ç©ºâ€œã€‚è§†é¢‘é‡Œåªå±•ç¤ºäº†ç‹å¹³ç…¤çŸ¿çš„å†°å±±ä¸€è§’ï¼Œæœ‰å¥½å¤šçš„åœ°æ–¹æ²¡æœ‰è¿›å»ï¼Œæ¯”å¦‚è§†é¢‘é‡Œé€ç€ææ€–æ°”æ¯çš„æ¥¼æˆ¿ç­‰ï¼Œæ€»æ„Ÿè§‰è¿™äº›å»ºç­‘é‡Œé€æ¼ç€ä¸€è‚¡å¯’æ„ï¼Œå…³äºè¿™ä¸ªç…¤çŸ¿å…³é—­çš„åŸå› ï¼Œè¯´æ˜¯å› ä¸ºç¯å¢ƒä¿æŠ¤çš„éœ€è¦ï¼Œäº¬ç…¤é›†å›¢å®£å¸ƒåœ¨2020å¹´ä»¥å‰åŒ—äº¬äº”å¤§ç…¤çŸ¿å°†å…¨éƒ¨å…³åœã€‚å†å²ä¸åœçš„å‘å±•ï¼Œä»»ä½•äº‹ç‰©ï¼Œä¸ç®¡æ˜¯è¾‰ç…Œã€æ²¡è½ï¼Œåœ¨å†å²çš„é•¿æ²³ä¸­ä¹Ÿåªæ˜¯ä¸€ç‰‡æµªèŠ±ï¼Œå†è¿‡å‡ åå¹´ã€å‡ ç™¾å¹´ï¼Œç¿»è¿‡è¿™ä¸€é¡µï¼Œè°åˆèƒ½è®°å¾—è¿™ä¸€åˆ‡å‘¢? äºŒã€æ­£æ–‡","categories":[],"tags":[{"name":"åæœŸå‰ªè¾‘","slug":"åæœŸå‰ªè¾‘","permalink":"http://yoursite.com/tags/åæœŸå‰ªè¾‘/"}]},{"title":"æ™¯åˆ«","slug":"æ™¯åˆ«","date":"2019-09-17T10:07:29.000Z","updated":"2021-01-25T10:48:26.381Z","comments":true,"path":"2019/09/17/æ™¯åˆ«/","link":"","permalink":"http://yoursite.com/2019/09/17/æ™¯åˆ«/","excerpt":"","text":"ä¸€ã€æ™¯åˆ« å¤§è¿œæ™¯ï¼ˆextreme long shotï¼‰ï¼šå¯ä»¥çœ‹åˆ°äººç‰©çš„å…¨èº«ä»¥åŠè®¸å¤šå‰æ™¯å’ŒèƒŒæ™¯ï¼Œé€šå¸¸äººç‰©åœ¨ç”»é¢é‡Œåªæœ‰é“¶å¹•é«˜çš„äºŒåˆ†ä¹‹ä¸€æˆ–æ›´å° è¿œæ™¯ï¼ˆlong shotï¼‰:å¯ä»¥çœ‹åˆ°ä¸»è§’çš„è„¸ å…¨æ™¯ï¼ˆfull shotï¼‰ï¼šå…¨èº«çš„å…¨ï¼Œç”»é¢çš„é«˜åº¦åˆšå¥½å¯ä»¥å›Šæ‹¬ä¸»è§’çš„èº«é«˜ ä¸­æ™¯ï¼ˆmedium shotï¼‰ï¼šæ¶µç›–äººç‰©è…°éƒ¨ä»¥ä¸Šåˆ°å¤´éƒ¨çš„ç”»é¢ ï¼ˆäººç‰©å¯¹ç™½æˆ–è®¿è°ˆ ç±»ï¼‰ ä¸­ç‰¹å†™ï¼ˆmedium close upï¼‰ï¼šäººç‰©èƒ¸å£åˆ°å¤´é¡¶ï¼Œæ‹‰è¿‘è§‚ä¼—ä¸ä¸»è§’è·ç¦»ï¼Œä½†åˆä¸æ˜¯å¾ˆè¿‘ ç‰¹å†™ï¼ˆclose upï¼‰ï¼šè¢«æ‘„ç‰©ä½“æ²¾æ»¡ç”»é¢ï¼Œå±•ç°å®ƒçš„ç»†èŠ‚ï¼ˆè„¸ï¼‰ å¤§ç‰¹å†™ï¼ˆextreme close upï¼‰ï¼šè¢«æ‘„ç‰©ä½“å±€éƒ¨æ”¾å¤§çš„ç”»é¢ï¼Œç”¨æ¥å»ºç«‹å†²å‡»æ„Ÿ äºŒã€ä¸å±äºæ™¯åˆ« è¿‡è‚©é•œå¤´ï¼ˆover shoulder shotï¼‰ï¼šä¸¤äººå¯¹è¯è¿‡è‚©æ‹æ‘„ è¿‡å¤´é•œå¤´ï¼ˆover shoulder shotï¼‰ï¼šè¿‡å¤´æ‹æ‘„ å¤§ä»°æ‹ ä»°æ‹ ä¿¯æ‹","categories":[],"tags":[{"name":"åæœŸå‰ªè¾‘","slug":"åæœŸå‰ªè¾‘","permalink":"http://yoursite.com/tags/åæœŸå‰ªè¾‘/"},{"name":"æ‹æ‘„","slug":"æ‹æ‘„","permalink":"http://yoursite.com/tags/æ‹æ‘„/"}]},{"title":"å‰ç«¯çŸ¥è¯†ç‚¹","slug":"å‰ç«¯çŸ¥è¯†ç‚¹","date":"2019-09-17T06:42:40.000Z","updated":"2021-04-08T09:58:42.195Z","comments":true,"path":"2019/09/17/å‰ç«¯çŸ¥è¯†ç‚¹/","link":"","permalink":"http://yoursite.com/2019/09/17/å‰ç«¯çŸ¥è¯†ç‚¹/","excerpt":"","text":"ä¸€ã€JavaScriptä¸€ã€[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) ï¼Ÿ [1,NaN,NaN] parseInt(string, radix)ï¼Œå­—ç¬¦ä¸²è½¬åè¿›åˆ¶æ•´æ•° stringï¼šå¿…éœ€ã€‚è¦è¢«è§£æçš„å­—ç¬¦ä¸²ã€‚radix : å¯é€‰ã€‚è¡¨ç¤ºè¦è§£æçš„æ•°å­—çš„åŸºæ•°ã€‚è¯¥å€¼ä»‹äº 2 ~ 36 ä¹‹é—´ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°æˆ–å…¶å€¼ä¸º 0ï¼Œåˆ™æ•°å­—å°†ä»¥ 10 ä¸ºåŸºç¡€æ¥è§£æã€‚å¦‚æœå®ƒä»¥ â€œ0xâ€ æˆ– â€œ0Xâ€ å¼€å¤´ï¼Œå°†ä»¥ 16 ä¸ºåŸºæ•°ã€‚å¦‚æœè¯¥å‚æ•°å°äº 2 æˆ–è€…å¤§äº 36ï¼Œåˆ™ parseInt() å°†è¿”å› NaNã€‚å¯ä»¥ç†è§£ä¸º radix æ˜¯è¡¨æ˜ string çš„è¿›åˆ¶çš„ï¼Œæœ€ç»ˆæ˜¯è¦è½¬ä¸º 10 è¿›åˆ¶æ•°çš„tips:æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°ä¸€å®šæ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœæ˜¯numberç±»å‹å¯èƒ½ä¼šå‘ç”Ÿä¸å¯é¢„æœŸé”™è¯¯ï¼Œä¾‹å¦‚ï¼š 123&gt; parseInt(01232, 10); // 666&gt; parseInt('01232', 10); // 1232&gt; è§£æçš„æ—¶å€™ï¼Œ\u001cparseIntä¼šè®¤ä¸º string å‚æ•°æ˜¯ radix è¿›åˆ¶çš„ï¼Œæ¯”å¦‚ï¼šparseInt(3,4) ,è¿™é‡Œä¼šè®¤ä¸ºâ€œ3â€æ˜¯ 4è¿›åˆ¶çš„ï¼Œæ‰€ä»¥å½“é‡åˆ°è¿™ç§æƒ…å†µ:parseInt(3,2), ä¼šè®¤ä¸ºè¿™é‡Œçš„â€œ3â€æ˜¯äºŒè¿›åˆ¶çš„ï¼Œé‚£ä¹ˆ3çš„äºŒè¿›åˆ¶æ˜¯3å—ï¼Ÿä¸æ˜¯å•Šï¼Œæ˜¯ â€œ11â€å•Š ï¼Œæ‰€ä»¥ä¼šè¿”å›NaN äºŒã€é˜²æŠ–å’ŒèŠ‚æµä¸‹é¢æˆ‘éƒ½ç”¨çš„ å‡½æ•°å±æ€§timerä½œä¸ºè®°å½•å®šæ—¶å™¨çš„å˜é‡ï¼Œå…¶å®ä¹Ÿå¯ä»¥åœ¨å‡½æ•°å†…å£°æ˜ä¸€ä¸ªå˜é‡ 1. é˜²æŠ–å®ç° è§¦å‘é«˜é¢‘äº‹ä»¶ånç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´, æ¯”å¦‚çª—å£ç¼©æ”¾äº‹ä»¶ window.resize123456789function debounce(fn,time)&#123; return function()&#123; clearTimeout(fn.timer) fn.timer=setTimeout(()=&gt;&#123; fn.apply(this, arguments) &#125;,time) &#125;&#125;` é—®ï¼šä¸ºå•¥ç”¨apply?ç­”ï¼šæ”¹å˜å‡½æ•°thisæŒ‡å‘é—®ï¼šä¸ºå•¥è¦æ”¹å˜fnçš„thisæŒ‡å‘ï¼Ÿå¦‚æœä¸applyè¿™ä¸ªthisåˆæŒ‡å‘è°ï¼Ÿè¦æ˜¯ä¸æ”¹æœ‰å•¥å½±å“ï¼Ÿå’~ è§£æï¼šé¦–å…ˆè¦æ˜ç™½ä¸€ä»¶äº‹æƒ…ï¼Œthisçš„æŒ‡å‘é—®é¢˜ï¼Œthis çš„æŒ‡å‘åªæ˜¯ä¸å¦‚ä½•è°ƒç”¨è¿™ä¸ªæ–¹æ³•æœ‰å…³ï¼Œçœ‹å‡ ä¸ªä¾‹å­ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253a=&#123; m:function()&#123; console.log(this) &#125;&#125;----------------------------------------------1.a.m() // a&#123;&#125; å¯¹è±¡----------------------------------------------2.var b=a.m; m() // æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯window----------------------------------------------3.a.s=function()&#123; setTimeout(function()&#123; console.log(this) &#125;)&#125;// æ³¨æ„è¿™é‡ŒsetTimeoutæˆ‘ç”¨çš„æ˜¯ æ™®é€šå‡½æ•°ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œè¿™é‡ŒæŒ‡å‘window4.a.s=function()&#123; setTimeout(()=&gt;&#123; console.log(this) &#125;)&#125;// å› ä¸ºç”¨äº†ç®­å¤´å‡½æ•°ï¼Œè¿™é‡Œçš„thisæŒ‡å‘ä¸Šä¸€å±‚thisï¼Œå³aå¯¹è±¡3ã€4 æ³¨æ„å¯¹æ¯”----------------------------------------------5.åœ¨å‡½æ•°é‡Œé¢æ‰§è¡Œa.mfunction c()&#123; a.m()&#125;// aå¯¹è±¡6.function m()&#123; console.log(this)&#125;a.c=function()&#123; m()&#125;a.c() // window5ã€6æ³¨æ„å¯¹æ¯”ï¼Œè¿™ä¿©éƒ½æ˜¯å‡½æ•°é‡Œé¢çš„å‡½æ•°æ‰§è¡Œã€‚å› ä¸ºé‡Œé¢å‡½æ•°é‡Œé¢çš„å‡½æ•°å¹¶ä¸æ˜¯ä½œä¸ºä¸€ä¸ªæ–¹æ³•æ‰€è°ƒç”¨ï¼Œæ‰€ä»¥æŒ‡å‘çš„æ˜¯windowï¼Œæ³¨æ„ä¸ 5 åšå¯¹æ¯”---------------------------------------------- çœ‹å®Œä¸Šé¢ä¾‹å­ï¼Œä½ å°±çŸ¥é“äº†setTimeouté‡Œå¦‚æœç”¨ç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆthisæ˜¯å½“å‰ä½œç”¨äºï¼Œä½†æ˜¯ fn() è¿™æ ·æ‰§è¡Œçš„æ—¶å€™ï¼Œé‡Œé¢çš„thisæŒ‡å‘å…¨å±€ï¼Œæ‰€ä»¥è¦ç»™è¿™ä¸ªfnç»‘å®šå½“å‰æ‰§è¡Œç¯å¢ƒçš„thisï¼Œä»¥é¿å…ä¸€äº›å› ä¸ºä½œç”¨åŸŸé—®é¢˜å¼•èµ·bug 2. èŠ‚æµå®ç°é«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨nç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡123456789function debounce(fn,time)&#123; return function()&#123; if(fn.timer)return fn.timer=setTimeout(()=&gt;&#123; fn.apply(this, arguments) clearTimeout(fn.timer) &#125;,time) &#125;&#125; ä¸‰ã€ä»‹ç»ä¸‹ Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«ï¼Ÿé˜®ä¸€å³° es6 å››ã€æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†12345678910111213141516&lt;div class=\"parent\"&gt; &lt;div class=\"child-1\"&gt; &lt;div class=\"child-1-1\"&gt; &lt;div class=\"child-1-1-1\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=\"child-1-2\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=\"child-2\"&gt; &lt;div class=\"child-2-1\"&gt;&lt;/div&gt; &lt;div class=\"child-2-2\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=\"child-3\"&gt; &lt;div class=\"child-3-1\"&gt;&lt;/div&gt; &lt;div class=\"child-3-2\"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 1. æ·±åº¦ä¼˜å…ˆéå†12345678910function deepTraversal(node) &#123; let result = []; result.push(node); if (node.children) &#123; for (let i = 0, length = node.children.length; i &lt; length; i++) &#123; result = result.concat(deepTraversal(node.children[i])); &#125; &#125; return result;&#125; æ·±åº¦ä¼˜å…ˆéå† 2. å¹¿åº¦ä¼˜å…ˆéå†123456789101112131415function widthTraversal(node) &#123; let result = []; let stack = []; let cd = undefined; stack.push(node); while ((cd = stack.shift())) &#123; result.push(cd); if (cd.children) &#123; for (let i = 0, length = cd.children.length; i &lt; length; i++) &#123; stack.push(cd.children[i]); &#125; &#125; &#125; return result;&#125; å¹¿åº¦ä¼˜å…ˆéå† äº”ã€æ·±æ‹·è´å‡½æ•°12345678function deepCopy(obj) &#123; if (typeof obj != 'object') return obj; let newValue = obj.constructor.name == 'Array' ? [] : &#123;&#125;; for (let i in obj) &#123; newValue[i] = typeof obj[i] == 'object' ? deepCopy(obj[i]) : obj[i]; &#125; return newValue;&#125; å…­ã€äº‹ä»¶å¾ªç¯js ä¸­çš„æ ˆå’Œå †åˆ†åˆ«å­˜å‚¨å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æ‰§è¡Œæ ˆå’Œä¸Šé¢çš„æ ˆæ„ä¹‰ä¸åŒï¼Œå½“ä¸€ä¸ªè„šæœ¬ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œjs å¼•æ“ä¼šè§£æè¿™æ®µä»£ç ï¼Œå¹¶å°†å…¶ä¸­çš„åŒæ­¥ä»£ç æŒ‰ç…§æ‰§è¡Œé¡ºåºåŠ å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åä»å¤´å¼€å§‹æ‰§è¡Œã€‚å¦‚æœå½“å‰æ‰§è¡Œçš„æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆ js ä¼šå‘æ‰§è¡Œæ ˆä¸­æ·»åŠ è¿™ä¸ªæ–¹æ³•çš„æ‰§è¡Œç¯å¢ƒï¼Œç„¶åè¿›å…¥è¿™ä¸ªæ‰§è¡Œç¯å¢ƒç»§ç»­æ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚å½“è¿™ä¸ªæ‰§è¡Œç¯å¢ƒä¸­çš„ä»£ç  æ‰§è¡Œå®Œæ¯•å¹¶è¿”å›ç»“æœåï¼Œjs ä¼šé€€å‡ºè¿™ä¸ªæ‰§è¡Œç¯å¢ƒå¹¶æŠŠè¿™ä¸ªæ‰§è¡Œç¯å¢ƒé”€æ¯ï¼Œå›åˆ°ä¸Šä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œç¯å¢ƒã€‚ã€‚è¿™ä¸ªè¿‡ç¨‹åå¤è¿›è¡Œï¼Œç›´åˆ°æ‰§è¡Œæ ˆä¸­çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ã€‚ äº‹ä»¶å¾ªç¯ js å¼•æ“é‡åˆ°ä¸€ä¸ªå¼‚æ­¥äº‹ä»¶åå¹¶ä¸ä¼šä¸€ç›´ç­‰å¾…å…¶è¿”å›ç»“æœï¼Œè€Œæ˜¯ä¼šå°†è¿™ä¸ªäº‹ä»¶æŒ‚èµ·ï¼ˆæµè§ˆå™¨å»æ‰§è¡Œï¼‰ï¼Œç»§ç»­æ‰§è¡Œæ‰§è¡Œæ ˆä¸­çš„å…¶ä»–ä»»åŠ¡ã€‚å½“ä¸€ä¸ªå¼‚æ­¥äº‹ä»¶è¿”å›ç»“æœåï¼ˆæ³¨æ„æ˜¯å¼‚æ­¥æœ‰äº†è¿”å›ç»“æœåï¼Œå°†å›è°ƒå‡½æ•°æ·»åŠ åˆ°äº‹ä»¶é˜Ÿåˆ—ï¼‰ï¼Œjs ä¼šå°†è¿™ä¸ªäº‹ä»¶åŠ å…¥ä¸å½“å‰æ‰§è¡Œæ ˆä¸åŒçš„å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºäº‹ä»¶é˜Ÿåˆ—ã€‚è¢«æ”¾å…¥äº‹ä»¶é˜Ÿåˆ—ä¸ä¼šç«‹åˆ»æ‰§è¡Œå…¶å›è°ƒï¼Œè€Œæ˜¯ç­‰å¾…å½“å‰æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•(è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆsetTimeout æ—¶é—´ä¸ä¼šéå¸¸ç²¾ç¡®çš„åŸå› )ï¼Œ ä¸»çº¿ç¨‹å¤„äºé—²ç½®çŠ¶æ€æ—¶ï¼Œä¸»çº¿ç¨‹ä¼šå»æŸ¥æ‰¾äº‹ä»¶é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡ã€‚å¦‚æœæœ‰ï¼Œé‚£ä¹ˆä¸»çº¿ç¨‹ä¼šä»ä¸­å–å‡ºæ’åœ¨ç¬¬ä¸€ä½çš„äº‹ä»¶ï¼Œå¹¶æŠŠè¿™ä¸ªäº‹ä»¶å¯¹åº”çš„å›è°ƒæ”¾å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åæ‰§è¡Œå…¶ä¸­çš„åŒæ­¥ä»£ç â€¦ï¼Œå¦‚æ­¤åå¤ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªæ— é™çš„å¾ªç¯ã€‚è¿™å°±æ˜¯è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºâ€œäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰â€çš„åŸå› ã€‚ äº‹ä»¶å¾ªç¯ callback queueï¼šäº‹ä»¶é˜Ÿåˆ—webAPIs ï¼šå¼‚æ­¥æ“ä½œï¼ˆæµè§ˆå™¨æ‰§è¡Œï¼‰stack:æ‰§è¡Œæ ˆ ä¸ƒã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡å¼‚æ­¥äº‹ä»¶ä¹Ÿåˆ†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œä»–ä»¬æ‰§è¡Œé¡ºåºçš„ä¼˜å…ˆçº§ä¸åŒå®ä»»åŠ¡:setTimeoutã€setIntervalã€I/Oã€UI æ¸²æŸ“å¾®ä»»åŠ¡:Promiseã€MutaionObserveråŒä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­å¾®ä»»åŠ¡æ¯”å®ä»»åŠ¡ä¼˜å…ˆçº§é«˜ æ‰§è¡Œé¡ºåºæ‰§è¡Œé˜Ÿåˆ—ç©ºé—²=&gt;æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—=&gt;æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ— 1234567891011setTimeout(function () &#123; console.log(1);&#125;);new Promise(function (resolve, reject) &#123; console.log(2); resolve(3);&#125;).then(function (val) &#123; console.log(val);&#125;);// 2,3,1 æ‰§è¡Œè¿‡ç¨‹script è¿›å…¥ä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œå°†å¼‚æ­¥æ“ä½œäº¤ç»™æµè§ˆå™¨æ‰§è¡Œï¼Œæ‰€ä»¥å…ˆå°† setTimeout æŒ‚èµ·ï¼Œç„¶åæ‰“å° 2 ï¼Œé‡åˆ°äº† promise åˆ™æŒ‚èµ·ï¼Œæ­¤æ—¶ä»»åŠ¡é˜Ÿåˆ—ç©ºé—²ï¼ˆè¿™æ—¶å¼‚æ­¥æ“ä½œéƒ½å·²ç»æ‰§è¡Œå®ŒåŠ å…¥äº†äº‹ä»¶é˜Ÿåˆ—ï¼‰ï¼Œé‚£ä¹ˆå»æ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ï¼Œå…ˆæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¥½ï¼Œå‘ç°äº† promise çš„ then å›è°ƒï¼Œæ‰§è¡Œ ï¼Œæ‰“å° 3ï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—ç©ºäº†ï¼Œæ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ— æ‰“å° 1 ï¼Œæ­¤æ—¶æ‰§è¡Œæ ˆä¸ºç©º ,é€€å‡º æ¯”è¾ƒç‰¹æ®Šçš„ä¾‹å­ 1234567891011121314async function async1() &#123; console.log('1'); await async2(); console.log('2');&#125;async function async2() &#123; console.log('3');&#125;console.log('4');async1();console.log('5');// 4ï¼Œ1ï¼Œ3ï¼Œ5ï¼Œ2 asyncæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œé‡åˆ°awaitä¼šç«‹å³æ‰§è¡Œè¡¨è¾¾å¼ï¼Œç„¶åæŠŠè¡¨è¾¾å¼åé¢çš„ä»£ç æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œè®©å‡ºæ‰§è¡Œæ ˆè®©åŒæ­¥ä»£ç å…ˆæ‰§è¡Œä¹Ÿå°±æ˜¯ await async2()åé¢ï¼ˆä¸‹é¢ï¼‰çš„éƒ¨åˆ†æ˜¯æ”¾åœ¨äº†promiseï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼Œasync1 è½¬æ¢ä¸€ä¸‹å°±æ˜¯è¿™æ ·ï¼š123456async function async1()&#123; console.log('1'); return new Promise(resolve=&gt;resolve(async2())).then(e=&gt;&#123; console.log('2') &#125;)&#125; å¯ä»¥çœ‹åˆ° async2() å®åœ¨promiseçš„executorï¼ˆæ‰§è¡Œå™¨ï¼‰é‡ŒåŒæ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æ˜¯ä¸»çº¿ç¨‹ 4 , async 1 ï¼Œasync2 , å°†console.log(2) åŠ å…¥å¾®ä»»åŠ¡ï¼Œ ä¸»çº¿ç¨‹çš„ console.log(5)æ‰§è¡Œæ ˆå·²ç»ç©ºé—²ï¼ŒæŸ¥çœ‹äº‹ä»¶é˜Ÿåˆ—ï¼ˆä¼˜å…ˆå¾®ä»»åŠ¡ï¼Œç„¶åå®ä»»åŠ¡ï¼‰ è¾“å‡º2ç»ƒä¹ é¢˜ï¼Œå†™å‡ºæ‰§è¡Œç»“æœè€ƒç‚¹ï¼šå°±æ˜¯äº‹ä»¶å¾ªç¯ã€å®ä»»åŠ¡ã€å¾®ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼Œä¸Šé¢è¯´çš„å¼„æ˜ç™½äº†ï¼Œå°±å¾ˆå®¹æ˜“äº†1234567891011121314151617181920async function async1() &#123; console.log('async1 start'); await async2(); console.log('async1 end');&#125;async function async2() &#123; console.log('async2');&#125;console.log('script start');setTimeout(function() &#123; console.log('setTimeout');&#125;, 0)async1();new Promise(function(resolve) &#123; console.log('promise1'); resolve();&#125;).then(function() &#123; console.log('promise2');&#125;);console.log('script end'); å…«ã€for å¾ªç¯æ¯éš” 1 ç§’è¾“å‡ºå¯¹åº”æ•°å€¼å› ä¸ºä»¥å‰é¢è¯•é‡åˆ°è¿‡ï¼Œæ‰€ä»¥å°±è®°å½•ä¸‹æ¥ asyncã€await 12345678910async function a() &#123; for (var i = 0; i &lt; 10; i++) &#123; await new Promise((resolve, reject) =&gt; &#123; console.log(i); setTimeout(() =&gt; &#123; resolve(i); &#125;, 1000); &#125;); &#125;&#125; é—­åŒ…ï¼Œè¿™ç§æ–¹å¼çš„ç¼ºé™·å°±æ˜¯ç¬¬ä¸€æ¬¡å…¶å®æ˜¯æœ‰é—´éš”æ—¶é—´çš„ï¼Œè€Œä¸Šé¢æ˜¯é©¬ä¸Šè¾“å‡ºçš„ 123456789function b() &#123; for (var i = 0; i &lt; 10; i++) &#123; (function (i) &#123; setTimeout(() =&gt; &#123; console.log(i); &#125;, 1000 * i); &#125;)(i); &#125;&#125; let/const,åŸç†æ˜¯æ¯æ¬¡å¾ªç¯ let æˆ– const å½¢æˆäº†è‡ªå·±çš„å±€éƒ¨ä½œç”¨åŸŸ 1234567function b() &#123; for (let i = 0; i &lt; 10; i++) &#123; setTimeout(() =&gt; &#123; console.log(i); &#125;, 1000 * i); &#125;&#125; ä¹ã€ç¼–å†™ä¸€ä¸ªç¨‹åºå°†æ•°ç»„æ‰å¹³åŒ–å»å¹¶é™¤å…¶ä¸­é‡å¤éƒ¨åˆ†æ•°æ®ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå‡åºä¸”ä¸é‡å¤çš„æ•°ç»„ arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10]; æ–¹æ³•ä¸€ 1[...new Set(arr.flat(Infinity))].sort((a, b) =&gt; a - b); æ–¹æ³•äºŒ 1234567891011function flat(arr) &#123; let result = []; for (let i in arr) &#123; if (typeof arr[i] == 'object') &#123; result = result.concat(flat(arr[i])); &#125; else &#123; result.push(arr[i]); &#125; &#125; return result.sort((a, b) =&gt; a - b);&#125; åã€new çš„æ—¶å€™å‘ç”Ÿäº†å•¥ || å®ç°ä¸€ä¸ª new1234567891011/*@param constructorè¢«newçš„ç±»ï¼ˆæ„é€ å‡½æ•°ï¼‰*/function new2(constructor) &#123; //åˆ›å»ºä¸€ä¸ªå®ä¾‹å¯¹è±¡oï¼Œå¹¶å°†è¯¥å¯¹è±¡åŸå‹ï¼ˆ__proto__ï¼‰æŒ‡å‘funcï¼ˆæ„é€ å‡½æ•°ï¼‰çš„åŸå‹å¯¹è±¡ var o = Object.create(constructor.prototype); //å°†oä½œä¸ºæ„é€ å‡½æ•°çš„thisæ‰§è¡Œæ„é€ å‡½æ•° var k = constructor.call(o); // å¦‚æœæ„é€ å‡½æ•°è¿”å›å€¼æ˜¯å¼•ç”¨ç±»å‹åˆ™å°†å®ä¾‹å¯¹è±¡oä»£æ›¿ return typeof k === 'object' ? k : o;&#125; åä¸€ã€æ£€æµ‹ js ç±»å‹è¿™ä¸ªé—®é¢˜éƒ½å¿«è¦é—®çƒ‚äº†ï¼Œä¸€èˆ¬éƒ½æ˜¯è¯´ Object.prototype.toString.call(å‚æ•°) ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆè¦ç”¨è¿™ç§æ–¹å¼ï¼Ÿå…ˆåˆ—å‡ºæ¥æˆ‘çŸ¥é“çš„å‡ ç§æ–¹å¼ typeofç¼ºç‚¹ï¼šä¸èƒ½åˆ¤æ–­å‡ºæ¥æ•°ç»„ï¼Œå¯¹è±¡ , undefinedï¼Œnull å› ä¸ºå®ƒä»¬éƒ½è¿”å› object å‚æ•°.constructor.nameç¼ºç‚¹ï¼šä¸èƒ½æ£€æµ‹ undefinedï¼Œnull Object.prototype.toString.call(å‚æ•°)è¿™ç§æ–¹å¼å¾ˆå…¨é¢ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¦ç”¨ Object çš„åŸå‹ï¼ŸArray ï¼Œfunction ç»§æ‰¿äº† Objectï¼Œä½†é‡å†™äº† toStingï¼Œå¯ä»¥éªŒè¯ä¸€ä¸‹ 123delete Array.prototype.toString &gt; true;a = [];a.toString() &gt; '[object Array]'; åäºŒã€æ¨¡æ¿ç¼–è¯‘è§£ææ¨¡æ¿ 1234567let template = `&lt;ul&gt; &lt;% for(let i=0; i &lt; data.supplies.length; i++) &#123; %&gt; &lt;li&gt;&lt;%= data.supplies[i] %&gt;&lt;/li&gt; &lt;% &#125; %&gt;&lt;/ul&gt;`; è§£æå‡½æ•° 1234567891011121314151617181920212223242526272829function compile(template) &#123; let m = template .replace(/&lt;%=(.+?)%&gt;/g, ' `) \\n echo(`$1`) \\n echo(`') .replace(/&lt;%(.+?)%&gt;/g, '`) \\n $1 \\n echo(` '); m = 'echo(` ' + m + '`)'; // è¦è§£ææˆè¿™æ · // echo('&lt;ul&gt;') // for(let i=0; i &lt; data.supplies.length; i++) &#123; // echo('&lt;li&gt;') // echo(data.supplies[i]) // echo('&lt;/li&gt;') // &#125; // echo('&lt;/ul&gt;') // è¿™ä¸ªéœ€è¦åŠ å°æ‹¬å·ï¼Œå¦åˆ™evalè§£æä¸å‡ºæ¥ let script = `(function parse(data)&#123; let outHtml='' function echo(html)&#123; outHtml+=html &#125; $&#123;m&#125; return outHtml &#125;)`; return eval(script);&#125;let x = compile(template);x(&#123; supplies: ['broom', 'mop', 'cleaner'] &#125;); åä¸‰ã€è¡¥å…¨å­—ç¬¦ä¸²12345// å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚padStart()ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼ŒpadEnd()ç”¨äºå°¾éƒ¨è¡¥å…¨'12'.padStart(10, 'YYYY-MM-DD'); // \"YYYY-MM-12\"'09-12'.padStart(10, 'YYYY-MM-DD'); // \"YYYY-09-12\"'xxx'.padEnd(4, 'ab'); //\"xxxa\" é™„åŠ çŸ¥è¯†ç‚¹ äºŒã€CSSä¸€ã€ä»€ä¹ˆæ˜¯åŒ…å«å—ï¼Ÿæ€ä¹ˆç¡®å®šåŒ…å«å—ï¼Ÿä¸€ä¸ªå…ƒç´ çš„å¤§å°å’Œä½ç½®è¦ä¾æ®ä¸€ä¸ªçŸ©å½¢æ¡†æ¥è®¾ç½®ï¼Œè¿™ä¸ªçŸ©å½¢æ¡†å°±æ˜¯åŒ…å«å— 1. ç¡®å®šåŒ…å«å—ä¸€ä¸ªå…ƒç´ çš„åŒ…å«å—å®Œå…¨ä¾èµ–äºè¿™ä¸ªå…ƒç´ çš„positionå±æ€§ å¦‚æœ postion å±æ€§ä¸º static/relative,åŒ…å«å—å°±æ˜¯ä»–æœ€è¿‘çš„ç¥–å…ˆå—å…ƒç´ çš„å†…å®¹åŒºçš„è¾¹ç¼˜ç»„æˆçš„ï¼ˆæ³¨æ„æ˜¯å—å…ƒç´ å“¦ï¼‰ä¸‹é¢å‡ æ¡æ³¨æ„äº†ï¼Œæ˜¯å†…è¾¹è·çš„å¤–è¾¹ç¼˜(è¾¹æ¡†çš„å†…è¾¹ç¼˜)ï¼Œè€Œä¸æ˜¯å†…å®¹åŒºåŸŸè¾¹ç¼˜äº†,ä¸Šé¢çš„æ˜¯å†…å®¹åŒºè¾¹ç¼˜ å¦‚æœ position å±æ€§ä¸º absolute,åŒ…å«å—å°±æ˜¯ç”±å®ƒçš„æœ€è¿‘çš„ position çš„å€¼ä¸æ˜¯ static ï¼ˆä¹Ÿå°±æ˜¯å€¼ä¸º fixed, absolute, relative æˆ– stickyï¼‰çš„ç¥–å…ˆå…ƒç´ çš„å†…è¾¹è·åŒºçš„å¤–è¾¹ç¼˜ç»„æˆã€‚ å¦‚æœ position å±æ€§æ˜¯ fixedï¼ŒåŒ…å«å—æ˜¯ viewport(æµè§ˆå™¨ä¸­å°±æ˜¯ windowï¼Œå¯è§†åŒºåŸŸ) å¦‚æœ position å±æ€§æ˜¯ absolute/fixedï¼ŒåŒ…å«å—ä¹Ÿå¯èƒ½æ˜¯ç”±æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æœ€è¿‘çˆ¶çº§å…ƒç´ çš„å†…è¾¹è·åŒºçš„å¤–è¾¹ç¼˜ç»„æˆçš„ transform æˆ– perspective å±æ€§ï¼ˆä¸ä¸º noneï¼‰ å‰©ä¸‹å‡ æ¡éƒ½æ˜¯äº›æµè§ˆå™¨ä¸æ€ä¹ˆå…¼å®¹çš„å±æ€§ï¼Œç•¥ å‚è€ƒé“¾æ¥ 2. æ ¹æ®åŒ…å«å—å®šä½åƒ margin/position:absolute è¿™ç±»çš„å…ƒç´ ï¼Œå¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œåˆ™ä¼šæ ¹æ®å®ƒçš„åŒ…å«å—çš„å¤§å°æ¥è®¡ç®—å®šä½ps: margin ä¸ç®¡æ˜¯ margin-top è¿˜æ˜¯ margin-left ç­‰éƒ½æ˜¯æ ¹æ® çˆ¶å…ƒç´ å®½åº¦æ¥è®¡ç®—çš„ css çš„offsetParent æŒ‡çš„æ˜¯ç¥–å…ˆå…ƒç´ ä¸­å·²ç»å®šä½ï¼ˆposition/transfrom/perspectiveï¼‰çš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰å°±æ˜¯ bodycss çš„parentNode æŒ‡çš„æ˜¯çˆ¶çº§å…ƒç´  äºŒã€å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ BFCBFC éš”ç¦»äº†çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ åˆ›å»º BFCï¼š å…ƒç´  æµ®åŠ¨å…ƒç´ ï¼ˆfloat ä¸æ˜¯ noneï¼‰ ç»å¯¹å®šä½å…ƒç´ ï¼ˆposition å–å€¼ä¸º absolute æˆ– fixedï¼‰ display å–å€¼ä¸º inline-block,table-cell, table-caption,flex, inline-flex ä¹‹ä¸€çš„å…ƒç´  overflow ä¸æ˜¯ visible çš„å…ƒç´  æ¯”å¦‚ï¼š 123&lt;div id=\"box\" style=\"margin-top:10px\"&gt; &lt;div id=\"son\" style=\"margin-top:5px\"&gt;&lt;/div&gt;&lt;/div&gt; è¿™ç§æƒ…å†µå®é™…ä¸Šä¼šå‘ç”Ÿå¤–è¾¹è·é‡å ï¼ˆæµè§ˆå™¨è¯•ä¸€ä¸‹å°±æ˜ç™½ï¼‰ï¼Œå®é™…æˆ‘æƒ³è¦ä¸è®©å®ƒä»¬é‡å ï¼Œä¹Ÿå°±æ˜¯ box é‡Œçš„å…ƒç´ ä¸è¦å½±å“åˆ°å¤–é¢æˆ–è€…å¤–é¢çš„å…ƒç´ å±æ€§ä¸è¦å½±å“åˆ°é‡Œé¢ï¼Œé‚£ä¹ˆç»™ box åˆ›å»ºä¸€ä¸ª BFC å³å¯ ä¸‰ã€å—çº§å…ƒç´ çš„å‚ç›´å±…ä¸­123&lt;div class=\"f\"&gt; &lt;div class=\"s\"&gt;sadf&lt;/div&gt;&lt;/div&gt; å­å…ƒç´ å¿…é¡»å›ºå®šå¤§å° 123456789101112131415.f &#123; position: relative; width: 200px; height: 400px;&#125;.s &#123; width: 100px; height: 100px; margin: auto; position: absolute; top: 0; left: 0; right: 0; bottom: 0;&#125; å­å…ƒç´ å®½é«˜æ²¡æœ‰é™åˆ¶ 12345678910.f &#123; position: relative; width: 200px; height: 400px;&#125;.s &#123; position: absolute; top: 50%; transform: translate(-50%, -50%);&#125; å­å…ƒç´ å®½é«˜æ²¡æœ‰é™åˆ¶ 123456789.f &#123; display: table-cell; vertical-align: middle; width: 200px; height: 400px;&#125;.s &#123; margin: auto;&#125; å­å…ƒç´ è¦å›ºå®šå¤§å° 1234567891011.f &#123; width: 200px; height: 400px;&#125;.s &#123; position: absolute; top: 50%; left: 50%; height: 100px; margin: -50px 0 0 -50px;&#125; å­å…ƒç´ å®½é«˜æ²¡æœ‰é™åˆ¶ 1234567.f &#123; width: 200px; height: 400px; display: flex; justify-content: center; align-items: center;&#125; å­å…ƒç´ å®½é«˜æ²¡æœ‰é™åˆ¶ 12345678.f &#123; display: grid; align-content: center; justify-content: center; /* align-content: center; justify-content: center; */&#125;","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"},{"name":"http","slug":"http","permalink":"http://yoursite.com/tags/http/"},{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"},{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}]},{"title":"å®ç°ä¸€ä¸ªpromise","slug":"å®ç°ä¸€ä¸ªpromise","date":"2019-09-10T03:35:22.000Z","updated":"2021-01-25T10:48:26.380Z","comments":true,"path":"2019/09/10/å®ç°ä¸€ä¸ªpromise/","link":"","permalink":"http://yoursite.com/2019/09/10/å®ç°ä¸€ä¸ªpromise/","excerpt":"","text":"ä¸€ã€æé—®ç¯èŠ‚ç»è¿‡å­¦ä¹ ï¼Œå­¦ä¼šäº†promiseå®ç°ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸æ‡‚ï¼Œ å°±æ˜¯ _resolveã€_reject é‡Œé¢ä¸ºä»€ä¹ˆç”¨å¼‚æ­¥ï¼Ÿ setTimeout(run, 0); 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221/* * @Description: å®ç°ä¸€ä¸ªpromise * @Author: ymbo * @Date: 2019-09-09 11:07:26 * @LastEditTime: 2019-09-11 17:49:59 * @LastEditors: Please set LastEditors */const PENDING = 'PENDING'const FULFILLED = 'FULFILLED'const REJECTED = 'REJECTED'class myPromise &#123; constructor(handle) &#123; // åˆ¤æ–­handleæ˜¯å¦ä¸ºå‡½æ•° if (typeof handle !== 'function') &#123; throw new Error('handle must be a functionï¼') &#125; // promiseçŠ¶æ€ this._status = PENDING // å½“å‰valueå€¼ this._value = undefined // æˆåŠŸé˜Ÿåˆ— this._fulfilledQueues = [] // å¤±è´¥é˜Ÿåˆ— this._rejectedQueues = [] try &#123; handle(this._resolve.bind(this), this._reject.bind(this)) &#125; catch (error) &#123; this._reject(error) &#125; &#125; // æˆåŠŸ // 1.è¿™ä¸ªvalueä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªpromiseï¼Œè¿™ä¸ªpromiseçš„çŠ¶æ€å’Œå€¼éƒ½å°†èµ‹ç»™å½“å‰çš„valueå’Œstatus _resolve(value) &#123; // å¦‚æœä¸æ˜¯pendingçŠ¶æ€åˆ™è¡¨ç¤ºå·²å®Œæˆï¼Œå°±ä¸æ‰§è¡Œäº† if (this._status !== PENDING) &#123; return &#125; let run = () =&gt; &#123; let runFulfilled = (val) =&gt; &#123; let cd = undefined // å½“ä»pendingå˜ä¸ºfulfilled/rejectedæ—¶ï¼Œæ‰§è¡ŒæˆåŠŸé˜Ÿåˆ—çš„å†…å®¹ while (cd = this._fulfilledQueues.shift()) &#123; cd(val) &#125; &#125; let runRejected = (err) =&gt; &#123; let cd = undefined // å½“ä»pendingå˜ä¸ºfulfilled/rejectedæ—¶ï¼Œæ‰§è¡ŒæˆåŠŸé˜Ÿåˆ—çš„å†…å®¹ while (cd = this._rejectedQueues.shift()) &#123; cd(err) &#125; &#125; if (value instanceof myPromise) &#123; value.then(val =&gt; &#123; this._value = val this._status = FULFILLED runFulfilled(val) &#125;, err =&gt; &#123; this._value = err this._status = REJECTED runRejected(err) &#125;) &#125; else &#123; this._value = value this._status = FULFILLED runFulfilled(value) &#125; &#125; setTimeout(run, 0); &#125; _reject(err) &#123; // å¦‚æœä¸æ˜¯pendingçŠ¶æ€åˆ™è¡¨ç¤ºå·²å®Œæˆï¼Œå°±ä¸æ‰§è¡Œäº† if (this._status !== PENDING) &#123; return &#125; let run = () =&gt; &#123; // çŠ¶æ€å˜æ›´ this._status = REJECTED // å€¼å˜æ›´ this._value = err let cd = undefined // å½“ä»pendingå˜ä¸ºfulfilled/rejectedæ—¶ï¼Œæ‰§è¡ŒæˆåŠŸé˜Ÿåˆ—çš„å†…å®¹ while (cd = this._rejectedQueues.shift()) &#123; cd(_value) &#125; &#125; setTimeout(run, 0); &#125; // thenå‡½æ•° // 1.thenæ¥å—ä¸¤ä¸ªå‡½æ•°å‚æ•° // 2.thenè¿”å›ä¸€ä¸ªæ–°çš„promsie // 3. then(onFulfilled, onRejected) &#123; const &#123; _value, _status &#125; = this return new myPromise((resolve, reject) =&gt; &#123; let fulfilled = value =&gt; &#123; try &#123; // å¦‚æœthençš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å‡½æ•°ï¼Œåˆ™ç›´æ¥å°†å€¼ä¼ é€’ä¸‹å» if (typeof onFulfilled !== 'function') &#123; resolve(value) &#125; else &#123; let res = onFulfilled(value) // å¦‚æœresæ˜¯ä¸€ä¸ªpromiseï¼Œåˆ™éœ€è¦ç­‰å¾…è¿™ä¸ªpromiseæ‰§è¡Œå®Œæ¯•ï¼Œå†ä¼ é€’å€¼ console.log('æ˜¯ä¸€ä¸ªpromise', res instanceof myPromise) if (res instanceof myPromise) &#123; res.then(resolve, reject) &#125; else &#123; // å¦‚æœè¿”å›å€¼æ˜¯å€¼ç±»å‹,åˆ™ç›´æ¥ä¼ é€’ä¸‹å» resolve(res) &#125; &#125; &#125; catch (error) &#123; resolve(error) &#125; &#125; let rejected = err =&gt; &#123; try &#123; // å¦‚æœthençš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å‡½æ•°ï¼Œåˆ™ç›´æ¥å°†å€¼ä¼ é€’ä¸‹å» if (typeof onRejected !== 'function') &#123; reject(err) &#125; else &#123; let res = onRejected(err) // å¦‚æœresæ˜¯ä¸€ä¸ªpromiseï¼Œåˆ™éœ€è¦ç­‰å¾…è¿™ä¸ªpromiseæ‰§è¡Œå®Œæ¯•ï¼Œå†ä¼ é€’å€¼ if (res instanceof myPromise) &#123; res.then(resolve, reject) &#125; else &#123; // å¦‚æœè¿”å›å€¼æ˜¯å€¼ç±»å‹,åˆ™ç›´æ¥ä¼ é€’ä¸‹å» reject(res) &#125; &#125; &#125; catch (error) &#123; reject(error) &#125; &#125; switch (_status) &#123; // å¦‚æœè¿˜åœ¨pendingä¸­å°±æŠŠå‡½æ•°æ”¾åˆ°æŒ‡å®šé˜Ÿåˆ—é‡Œ case PENDING: this._fulfilledQueues.push(fulfilled) this._rejectedQueues.push(rejected) break; // å¦‚æœå¤„äº fulfilled åˆ™ç›´æ¥æ‰§è¡Œ case FULFILLED: fulfilled(_value) break; case REJECTED: rejected(_value) break; &#125; &#125;) &#125; finally(cb) &#123; return this.then( value =&gt; MyPromise.resolve(cb()).then(() =&gt; value), reason =&gt; MyPromise.resolve(cb()).then(() =&gt; &#123; throw reason &#125;) ); &#125; //catch catch (onRejected) &#123; return this.then(undefined, onRejected) &#125; // é™æ€resolve static resolve(value) &#123; if (value instanceof myPromise) &#123; return value &#125; else &#123; return new myPromise((resolve, reject) =&gt; &#123; resolve(value) &#125;) &#125; &#125; // é™æ€reject static reject(err) &#123; return new myPromise((resolve, reject) =&gt; &#123; reject(err) &#125;) &#125; //all // listå†…å®¹å¯ä»¥æ˜¯promise æˆ–è€…å…¶ä»– static all(list) &#123; return new myPromise((resolve, reject) =&gt; &#123; /** * è¿”å›å€¼çš„é›†åˆ */ let values = [] let count = 0 for (let [i, p] of list.entries()) &#123; // æ•°ç»„å‚æ•°å¦‚æœä¸æ˜¯MyPromiseå®ä¾‹ï¼Œå…ˆè°ƒç”¨MyPromise.resolve this.resolve(p).then(res =&gt; &#123; values[i] = res count++ // æ‰€æœ‰çŠ¶æ€éƒ½å˜æˆfulfilledæ—¶è¿”å›çš„MyPromiseçŠ¶æ€å°±å˜æˆfulfilled if (count === list.length) resolve(values) &#125;, err =&gt; &#123; // æœ‰ä¸€ä¸ªè¢«rejectedæ—¶è¿”å›çš„MyPromiseçŠ¶æ€å°±å˜æˆrejected reject(err) &#125;) &#125; &#125;) &#125; static race(list) &#123; return new myPromise((resolve, reject) =&gt; &#123; for (let [i, p] of list.entries()) &#123; this.resolve(p).then(res =&gt; &#123; resolve(res) &#125;, err =&gt; &#123; reject(err) &#125;) &#125; &#125;) &#125;&#125;","categories":[],"tags":[{"name":"promise","slug":"promise","permalink":"http://yoursite.com/tags/promise/"}]},{"title":"colorful","slug":"colorful","date":"2019-09-02T02:38:34.000Z","updated":"2021-01-25T10:48:26.375Z","comments":true,"path":"2019/09/02/colorful/","link":"","permalink":"http://yoursite.com/2019/09/02/colorful/","excerpt":"","text":"ä¸€ã€å‰è¨€æœ¬æ¥æ˜¯æƒ³å¤šæ‹ç‚¹çš„ï¼Œå¯æ˜¯åˆšåˆ°åœ°æ–¹ï¼Œå¥½å‹ä»¥æ‰‹æœºæ²¡ç”µä¸ºç”±éè¦å›å»ï¼Œæˆ‘åªèƒ½åŒ†åŒ†æ‹äº†å‡ ä¸ªç´ æï¼Œè€Œä¸”å»çš„æ—¶å€™æ˜¯ä¸­åˆï¼Œå¤ªé˜³å¾ˆè¶³ï¼Œå°±æ›´åŠ ç–²æƒ«äº†ï¼Œæ‰€ä»¥å‰æœŸæ‹æ‘„çš„è§†é¢‘ç´ æå¹¶ä¸æ˜¯å¤ªå¤šï¼Œæ‰€ä»¥ç»“æœåªæœ‰å¤§çº¦ä¸€åˆ†åŠé’Ÿæœ€å¥½é€‰æ‹©è¶…æ¸…è§‚çœ‹ï¼Œ360pçœ‹çš„å¤ªéš¾å—äº†ä¸Šæ¬¡çš„ã€Šè§†é¢‘demoã€‹æˆ‘æ˜¯é€šè¿‡ä¼ åˆ°githubä¸Šï¼Œç„¶åé€šè¿‡videoæ ‡ç­¾æ’­æ”¾äº†ï¼Œæœç„¶è¿™ç§å…è´¹çš„åšå®¢å¤ªæ°´äº†ï¼Œä¸Šä¼ æ…¢ä¸è¯´ï¼Œæ’­æ”¾è¿˜è¦ç­‰ä¸€å¹´ï¼Œæ‰€ä»¥è¿™æ¬¡ç”¨äº†bilibiliçš„æ’­æ”¾å™¨ï¼Œå› ä¸ºæˆ‘æ¯”è¾ƒå–œæ¬¢bilibiliçš„æ’­æ”¾å™¨ äºŒã€æ­£æ–‡ ä¸‰ã€æ€»ç»“æœ€åçš„æ—¶å€™æœ‰äº›é•œå¤´æ™ƒåŠ¨çš„å¹…åº¦å¤ªå¤§ï¼Œæ²¡å‰ªå¥½åº”è¯¥æ’‡æ‰ä¸€äº›æ™ƒåŠ¨å¹…åº¦å¤§çš„ç´ ææ¢æˆæ¯”è¾ƒç¨³ç´ æï¼Œè¿™æ ·é…åˆéŸ³ä¹ï¼Œé™è°§ã€äº”å½©ç¼¤çº·ã€è‡ªç„¶çš„è¿™ç§æ„Ÿè§‰ä¼šæ›´å¼ºçƒˆæœ€å¥‡æ€ªçš„æ˜¯ï¼Œæ­£å¸¸æ‹çš„æ˜¯1920 x 1080 çš„è§†é¢‘ï¼Œæˆ‘ç”¨äº†æ…¢åŠ¨ä½œæ‹æ‘„ï¼Œè§†é¢‘å¤§å°ç«Ÿç„¶æ˜¯ 1280 x 760çš„ï¼Œå¥½å¥‡æ€ªï¼Œå›å¤´å†ç ”ç©¶ä¸€ä¸‹å‡†å¤‡æŠŠä¸Šä¸€ä¸ªè§†é¢‘ä¹Ÿæ¢æˆbilibiliçš„æºäº†ï¼Œè¦ä¸å¤ªéš¾ç”¨äº†","categories":[],"tags":[{"name":"åæœŸå‰ªè¾‘","slug":"åæœŸå‰ªè¾‘","permalink":"http://yoursite.com/tags/åæœŸå‰ªè¾‘/"}]},{"title":"è§†é¢‘demo","slug":"è§†é¢‘demo","date":"2019-08-25T09:11:17.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"2019/08/25/è§†é¢‘demo/","link":"","permalink":"http://yoursite.com/2019/08/25/è§†é¢‘demo/","excerpt":"","text":"iphone premiere å¥½å‹ ä¸€ã€æ•ˆæœ äºŒã€çŸ¥è¯†ç‚¹ è¶…çº§æ…¢åŠ¨ä½œæ•ˆæœ æ³¨æ„ï¼šå› ä¸ºé€Ÿåº¦æ”¾æ…¢çš„åŸå› ä¼šå¯¼è‡´è§†é¢‘çœ‹èµ·æ¥å¡é¡¿æ•ˆæœï¼Œæ‰€ä»¥æ”¾æ…¢çš„åŒæ—¶è¦é€‰æ‹© æ—¶é—´æ’å€¼&gt;å…‰æµæ³• è¿™ä¸ªé€‰é¡¹ä¼šæŠŠç©ºå¸§ç”¨ç®—æ³•è¡¥å…¨ï¼Œä¸è¿‡ç”¨è¿™ä¸ªçš„è¯ï¼Œè§†é¢‘é‡Œä¸èƒ½æœ‰å¤ªå¤šæ‚è‰²ï¼Œå¦åˆ™ä¼šæœ‰è¿™ç§æ•ˆæœ ä¿¡å·æŸåæ•ˆæœï¼ˆç‰‡å¤´æ–‡å­—å’Œ0:00:01-0:00:02ï¼‰ ä½ç½®ï¼š è§†é¢‘æ•ˆæœ&gt;æ‰­æ›²&gt;æ³¢å½¢å˜å½¢ æ³¨æ„ï¼šæˆ‘é€‰æ‹©çš„æ˜¯æ³¢å½¢ç±»å‹æ˜¯æ­£æ–¹å½¢å’Œæ‚è‰²ï¼Œæ­£æ–¹å½¢æ¨¡æ‹Ÿä¿¡å·æœ€ä¸å¥½çš„æ—¶å€™ï¼Œæ‚è‰²æ¨¡æ‹Ÿä¿¡å·å¿«æ¢å¤çš„æ—¶å€™ï¼Œåç§»è§’åº¦æ¯ä¸€å¸§è¦æœ‰å˜åŠ¨ rgbé¢œè‰²åˆ†ç¦»ï¼ˆ3Dè‰²å·®å¤±çœŸï¼‰ ä½ç½®ï¼š è§†é¢‘æ•ˆæœ&gt;å›¾åƒæ§åˆ¶&gt;é¢œè‰²å¹³è¡¡ï¼ˆRGBï¼‰&amp;&amp;ä¸åŒæ˜åº¦&gt;æ··åˆæ¨¡å¼ é€‰æ‹©æ»¤è‰² è§†é¢‘å¤åˆ¶ä¸¤æ¬¡ï¼Œæ¯ä¸€æ¬¡çš„è§†é¢‘RGBä¸‰ä¸ªé€šé“é€‰æ‹©ä¸€ä¸ªå•ä¸€é€šé“ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªè§†é¢‘R:100 G:0 B:0,ç¬¬äºŒä¸ªR:0 G:100 B:0,ç¬¬ä¸‰ä¸ªä¸ªR:0 G:0 B:100ï¼Œç„¶åé€šè¿‡å˜æ¢æ¯ä¸ªè§†é¢‘çš„ä½ç½®ï¼Œå¤§å°ç­‰å½¢æˆè‰²å·® çœ‹å›¾ï¼š ç¼©æ”¾é•œå¤´æ¨¡ç³Šè½¬åœºï¼ˆ00:00:00:21ï¼‰ ä½ç½®ï¼š è§†é¢‘æ•ˆæœ&gt;æ‰­æ›²&gt;å˜æ¢ï¼ˆç¼©æ”¾&amp;&amp;å¿«é—¨è§’åº¦&amp;&amp;å…³é—­æ˜¯ç”¨åˆæˆçš„å¿«é—¨è§’åº¦ï¼‰ ä¸ºäº†çœ‹èµ·æ¥æ›´æµç•… ä¸‰ã€æ€»ç»“ è¿åŠ¨é‡Œçš„æ“ä½œå’Œå˜æ¢é‡Œçš„æ“ä½œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè¿åŠ¨åªèƒ½ç”¨åœ¨è§†é¢‘ç‰‡æ®µä¸Šï¼Œä¸èƒ½ç”¨åœ¨è°ƒæ•´å›¾å±‚ä¸Š å¿«é—¨è§’åº¦ï¼Ÿ0-360æŒ‡çš„æ˜¯æ›å…‰æ—¶é—´","categories":[],"tags":[{"name":"åæœŸå‰ªè¾‘","slug":"åæœŸå‰ªè¾‘","permalink":"http://yoursite.com/tags/åæœŸå‰ªè¾‘/"}]},{"title":"æ–‡å­—é•‚ç©ºæ•ˆæœ","slug":"æ–‡å­—é•‚ç©ºæ•ˆæœ","date":"2019-08-19T09:51:18.000Z","updated":"2021-01-25T10:48:26.381Z","comments":true,"path":"2019/08/19/æ–‡å­—é•‚ç©ºæ•ˆæœ/","link":"","permalink":"http://yoursite.com/2019/08/19/æ–‡å­—é•‚ç©ºæ•ˆæœ/","excerpt":"","text":"ä¸€ã€å‰è¨€é—²é€›è‹¹æœå®˜ç½‘çš„æ—¶å€™ï¼Œçœ‹åˆ°ä¸€ä¸ªæ•ˆæœï¼š iphoneXR åœ¨ç²—ç•¥çš„çœ‹è¿‡å®ç°ä»¥åï¼Œæƒ³å½“ç„¶çš„è®¤ä¸ºä¸å°±æ˜¯æ–‡å­—è®¾ä¸ºé€æ˜ï¼Œç„¶ååŠ ä¸€ä¸ªèƒŒæ™¯ä¹ˆã€‚æ­£å¥½ä»Šå¤©æœ‰ç©ºï¼Œæµ‹è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°ç«Ÿç„¶æ²¡æœ‰æƒ³çš„é‚£æ ·ï¼Œæ‰€ä»¥åˆ‡è®°çœ¼é«˜æ‰‹ä½ï¼Œåœ¨ä»”ç»†åˆ†æå®ç°æ–¹å¼åï¼Œç»ˆäºæ‰¾åˆ°äº†åŸå› ï¼Œå…±æœ‰ä¸¤ç‚¹æ”¶è· äºŒã€æ•ˆæœå®ç°1. htmlé¦–å…ˆhtmlçš„å®ç°æ˜¯æ²¡æœ‰å¼‚è®®çš„123&lt;div class='bg'&gt; &lt;p&gt;æµ‹è¯•æ–‡å­—&lt;/p&gt;&lt;/div&gt; 2. csså…³äºcssç”¨åˆ°äº†ä¸¤ä¸ªç‚¹ @supports @supports CSS at-rule å…³è”äº†ä¸€ç»„åµŒå¥—çš„CSSè¯­å¥,è¿™äº›è¯­å¥è¢«æ”¾ç½®åœ¨ä¸€ä¸ªCSSåŒºå—ä¸­,è¯¥åŒºå—ä»¥å¤§æ‹¬å·åˆ†å‰², è¿˜æœ‰ä¸€ä¸ªç”±å¤šä¸ªCSSå£°æ˜æ£€æµ‹ç»„æˆçš„æ¡ä»¶,å®ƒæ˜¯ä¸€ä¸ªé”®å€¼ç»„åˆ, ç”±é€»è¾‘ä¸,é€»è¾‘æˆ–,é€»è¾‘éç»„åˆè€Œæˆ. è¿™æ ·çš„æ¡ä»¶è¯­å¥ç§°ä¸ºæ”¯æŒæ¡ä»¶. demo 123456@supports (animation-name: test) &#123; â€¦ /* å¦‚æœæ”¯æŒä¸å¸¦å‰ç¼€çš„animation-name,åˆ™ä¸‹é¢æŒ‡å®šçš„CSSä¼šç”Ÿæ•ˆ */ @keyframes &#123; /* @supportsæ˜¯ä¸€ä¸ªCSSæ¡ä»¶ç»„at-rule,å®ƒå¯ä»¥åŒ…å«å…¶ä»–ç›¸å…³çš„at-rules */ â€¦ &#125;&#125; background-clip: text","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"}]},{"title":"axiosæºç åˆ†æ","slug":"axiosæºç åˆ†æ","date":"2019-06-10T03:38:32.000Z","updated":"2021-01-25T10:48:26.373Z","comments":true,"path":"2019/06/10/axiosæºç åˆ†æ/","link":"","permalink":"http://yoursite.com/2019/06/10/axiosæºç åˆ†æ/","excerpt":"","text":"ä¸€ã€å‰è¨€å…¶å®ä¸€å¼€å§‹æ˜¯ä¸æƒ³çœ‹æºç çš„ï¼Œä½†æ˜¯ä¹‹å‰æœ‰æ¬¡ä½¿ç”¨axiosçš„cancelå–æ¶ˆè¯·æ±‚åŠŸèƒ½åï¼Œå¯¹è¿™ä¸€å—çš„å®ç°æ¯”è¾ƒå¥½å¥‡ï¼Œå°±å†³å®šçœ‹ä¸€ä¸‹æºç è¿™ä¸€éƒ¨åˆ†çš„å®ç°ï¼Œä½†æ˜¯çœ‹ç€çœ‹ç€æœ€åè¿˜æ˜¯éœ€è¦çœ‹axiosä¸»è¦åŠŸèƒ½çš„å®ç°ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚æˆ‘ç”»äº†ä¸€ä¸ªå…³äºaxiosçš„æµç¨‹å›¾ï¼Œæºç é…åˆè¿™ä¸ªæµç¨‹å›¾çœ‹èƒ½è®©è„‘ä¸­æœ‰ä¸€ä¸ªæ•´ä½“çš„æ¶æ„ï¼Œå¯¹axiosçš„ç»“æ„æ›´æ¸…æ™° 1.1ã€æµç¨‹å›¾è¯´æ˜æµç¨‹å›¾åˆ†ä¸ºå›¾ç‰‡ç‰ˆå’Œhtmlåœ¨çº¿äº¤äº’ç‰ˆ htmläº¤äº’ç‰ˆ name ä¼˜åŠ¿ åŠ£åŠ¿ å›¾ç‰‡ç‰ˆ åŠ è½½ç›¸å¯¹è¾ƒå¿«ï¼ˆå…¶å®ä¹ŸæŒºæ…¢2Mçš„å›¾ï¼‰ å›¾ç‰‡è´¨é‡æœ‰é™ htmlç‰ˆ æä¾›å¥½çš„äº¤äº’ï¼Œå›¾ç¤ºæ›´æ¸…æ™° åŠ è½½ç›¸å¯¹è¾ƒæ…¢ï¼ˆåŠ è½½è¿‡ä¸€æ¬¡åç”±äºç¼“å­˜çš„åŸå› ä¼šå¿«å¾ˆå¤šï¼‰ 1.2ã€æµç¨‹å›¾é¢„è§ˆ tipï¼šåœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€æ›´æ¸…æ™°å“¦ å›¾ç‰‡ç‰ˆaxiosæµç¨‹å›¾ äºŒã€å…³é”®ç‚¹Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œæ‰€ä»¥é˜…è¯»æºç å‰å¯¹Promiseçš„äº†è§£ç¨‹åº¦å¾ˆé‡è¦ axios Promiseé˜Ÿåˆ— ä¸‰ã€æµç¨‹ axiosçš„cancelå–æ¶ˆè¯·æ±‚çš„å®ç° ä»¥åŠæ‹¦æˆªå™¨åŸç† nodeå’Œwebç¯å¢ƒçš„é€‚é…éƒ½åœ¨ä¸Šé¢çš„å¯¼å›¾é‡Œæ¸…æ™°çš„è¯´æ˜äº†,è¿›å…¥htmläº¤äº’ç‰ˆæˆ–ä¸Šé¢çš„å›¾ç‰‡ç‰ˆä»”ç»†æŸ¥çœ‹","categories":[],"tags":[{"name":"axios","slug":"axios","permalink":"http://yoursite.com/tags/axios/"}]},{"title":"gitç‰ˆæœ¬å›é€€","slug":"gitç‰ˆæœ¬å›é€€","date":"2019-05-29T03:36:19.000Z","updated":"2021-01-25T10:48:26.376Z","comments":true,"path":"2019/05/29/gitç‰ˆæœ¬å›é€€/","link":"","permalink":"http://yoursite.com/2019/05/29/gitç‰ˆæœ¬å›é€€/","excerpt":"","text":"ä¸€ã€ç‰ˆæœ¬å›é€€ fileå¯ä»¥ç”¨â€œ.â€ä»£æ›¿ï¼Œè¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ 1.ä¸¢å¼ƒå·¥ä½œåŒºä¿®æ”¹git checkout -- file 2.ä¸¢å¼ƒæš‚å­˜åŒºgit reset HEAD &lt;file&gt;åï¼Œä¼šå°†æŒ‡å®šæ–‡ä»¶å›é€€åˆ°å·¥ä½œåŒº 3.å›é€€ç‰ˆæœ¬åº“3.1ã€å›é€€ä¸”æš‚å­˜åŒºã€å·¥ä½œåŒºä¿å­˜ä¿®æ”¹git reset --soft commitâ€“softå‚æ•°å‘Šè¯‰Gité‡ç½®HEADåˆ°å¦å¤–ä¸€ä¸ªcommitï¼Œä½†ä¹Ÿåˆ°æ­¤ä¸ºæ­¢ã€‚å¦‚æœä½ æŒ‡å®šâ€“softå‚æ•°ï¼ŒGitå°†åœæ­¢åœ¨é‚£é‡Œè€Œä»€ä¹ˆä¹Ÿä¸ä¼šæ ¹æœ¬å˜åŒ–ã€‚è¿™æ„å‘³ç€æš‚å­˜åŒº,å·¥ä½œåŒºéƒ½ä¸ä¼šåšä»»ä½•å˜åŒ–ï¼Œæ‰€æœ‰çš„åœ¨original HEADå’Œä½ é‡ç½®åˆ°çš„é‚£ä¸ªcommitä¹‹é—´çš„æ‰€æœ‰å˜æ›´é›†éƒ½æ”¾åœ¨æš‚å­˜åŒºåŒºåŸŸä¸­ã€‚å·¥ä½œåŒº=æš‚å­˜åŒº!=ç‰ˆæœ¬åº“ tip:ä»…æŠŠæ”¹åŠ¨å†…å®¹å›é€€åˆ°æš‚å­˜åŒº soft 3.2ã€å›é€€ä¸”ä¸¢å¼ƒä¿®æ”¹git reset --hard commitå›é€€åˆ°commitç‰ˆæœ¬ä¸”ï¼Œä»HEADåˆ°å¦å¤–ä¸€ä¸ªcommitä¹‹é—´çš„æ‰€æœ‰ä¿®æ”¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œç°åœ¨æš‚å­˜åŒºï¼Œå·¥ä½œåŒºï¼Œç‰ˆæœ¬åº“çš„å†…å®¹éƒ½æ˜¯commitè¿™ä¸ªç‚¹çš„å†…å®¹å·¥ä½œåŒº=æš‚å­˜åŒº=ç‰ˆæœ¬åº“ hard 3.3ã€å›é€€ä¸”ä¿å­˜ä¿®æ”¹åˆ°å·¥ä½œåŒºgit reset --mixed commitå‚æ•°é»˜è®¤ï¼Œå¯ä»¥ä¸å†™åŸç†åŒä¸Šï¼Œåªä¸è¿‡ä¿®æ”¹ä¼šä¿å­˜åœ¨å·¥ä½œåŒºï¼Œæš‚å­˜åŒºä¼šè·Ÿç‰ˆæœ¬åº“ä¸€è‡´å·¥ä½œåŒº!=æš‚å­˜åŒº=ç‰ˆæœ¬åº“ mixed","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}]},{"title":"è®°å½•ä¸€æ¬¡gitæ“ä½œï¼ˆgitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´ï¼‰","slug":"è®°å½•ä¸€æ¬¡gitæ“ä½œ","date":"2019-05-26T03:55:36.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"2019/05/26/è®°å½•ä¸€æ¬¡gitæ“ä½œ/","link":"","permalink":"http://yoursite.com/2019/05/26/è®°å½•ä¸€æ¬¡gitæ“ä½œ/","excerpt":"","text":"èƒŒæ™¯é¡¹ç›®è¿œç¨‹ä»“åº“åœ°å€æ˜¯Aï¼Œå°†é¡¹ç›®ä»¥åç§°ä¸ºappcloneåœ¨æœ¬åœ°ï¼Œè€Œä¸”åœ¨æœåŠ¡å™¨ä¸Šä¹Ÿä»¥é¡¹ç›®åç§°ä¸ºappcloneã€‚ç”±äºä¸€äº›åŸå› ï¼Œå°†è¿œç¨‹ä»“åº“Aè¿ç§»åˆ°è¿œç¨‹ä»“åº“B,æ‰€ä»¥éœ€è¦å°†è¿œç¨‹æœåŠ¡å™¨appçš„ä»“åº“åœ°å€ç”±Aæ”¹ä¸ºBï¼Œä½†ç”±äºæœåŠ¡å™¨çš„ä¸€äº›ç¨‹åºçš„é™åˆ¶ï¼Œappæ–‡ä»¶åç§°ä¸å¯ä»¥å˜ï¼Œåªéœ€è¦å˜åŠ¨é‡Œé¢çš„é¡¹ç›®å†…å®¹ è¿œç¨‹ä»“åº“ï¼Œæœ‰ä¸‰æ¬¡æäº¤è®°å½• è¿œç¨‹ä»“åº“ æœ¬åœ°ä»“åº“ æœ¬åœ°ä»“åº“ ä»“åº“åœ°å€ ä¸€ã€ä»“åº“è¿ç§»1. å°†Aä»“åº“é•œåƒåˆ°Bä»“åº“åç§°ä¸ºoldä»“åº“è¿ç§»åˆ°äº†åç§°ä¸ºnewä»“åº“é‡Œ æ–°çš„ä»“åº“åœ°å€ 2.æœ¬åœ°é¢å¤–æäº¤åˆ°oldä»“åº“ä¸¤æ¬¡è®°å½• oldä»“åº“çš„æäº¤è®°å½• newä»“åº“çš„æäº¤è®°å½• å¯ä»¥çœ‹åˆ°oldä»“åº“é¢†å…ˆnewä»“åº“ä¸¤æ¬¡æäº¤ è¿œç¨‹æœåŠ¡å™¨ä»“åº“çš„æäº¤è®°å½• 3. å°†newä»“åº“å†…å®¹ä¸oldä»“åº“å†…å®¹åŒæ­¥å› ä¸ºoldé‡Œé¢å†…å®¹è¾ƒæ–°ï¼Œæ‰€ä»¥è®²oldæ–‡ä»¶åŒæ­¥åˆ°newä¸Šï¼Œå¹¶ä¸”åŒæ­¥åå†æäº¤ä¸€æ¬¡è®°å½•åˆ°newä¸Š è¿œç¨‹æœåŠ¡å™¨ä»“åº“çš„æäº¤è®°å½• 4. å°†æœåŠ¡å™¨ä»“åº“çš„åœ°å€å˜æ›´ä¸ºnewä»“åº“åœ°å€å¹¶æ›´æ–°4.1. æœåŠ¡å™¨åœ°å€åˆ‡æ¢ è¿œç¨‹æœåŠ¡å™¨ä»“åº“åœ°å€åˆ‡æ¢ 4.2. æœåŠ¡å™¨git pull è¿œç¨‹æœåŠ¡å™¨git pull å¯ä»¥çœ‹åˆ°æ›´æ–°å¤±è´¥éœ€è¦æ‰‹åŠ¨å¤„ç†å†²çªï¼Œå…¶å®å…³é”®å°±åœ¨è¿™é‡Œå¦‚æœæœåŠ¡è·‘ä¸€ä¸ªç¨‹åºæ¯”å¦‚è¯´webæœåŠ¡ï¼Œè¿™äº›æ–‡ä»¶æ˜¯webé¡µé¢ï¼Œé‚£ä¹ˆæ­¤æ—¶webé¡µé¢å°±ä¼šå±•ç¤ºé”™è¯¯ï¼Œå› ä¸ºæ–‡ä»¶é‡Œæœ‰å¾…è§£å†³çš„å†²çªï¼Œé‚£æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ äºŒã€è§£å†³æ–¹æ¡ˆå…¶å®ä¸‹é¢1ã€2æ–¹æ³•åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ˜¯ä¸€ä¸ªæ„æ€ 1. æ–¹æ³•1æœåŠ¡å™¨cloneæœ€æ–°çš„newä»“åº“åˆ°appçš„åŒçº§ç›®å½•ï¼Œç„¶åå°†æœ¬æ¥å­˜åœ¨çš„appåˆ é™¤ï¼Œå¹¶å°†newä»“åº“æ”¹åä¸ºappå³å¯ï¼ˆmvä¹Ÿå¯ä»¥æ”¹åï¼‰ 2. æ–¹æ³•2æœåŠ¡å™¨cloneæœ€æ–°çš„newä»“åº“åˆ°appçš„åŒçº§ç›®å½•ï¼Œå°†newæ–‡ä»¶ä¸‹çš„.git éšè—æ–‡ä»¶ï¼ˆå·¥ä½œåŒºï¼‰ç§»åŠ¨åˆ°appæ–‡ä»¶ä¸‹æ›¿æ¢appçš„.gitï¼Œgit reset â€“hard HEAD^ågit pullå³å¯ 3 git remote -set-url origin &lt;æ–°åœ°å€&gt; é¦–å…ˆgit remote -set-url origin &lt;æ–°åœ°å€&gt; git fetchï¼ˆæ‹‰å–æ›´æ–°ä½†ä¸åˆå¹¶ï¼‰ git reset â€“hard origin/master ï¼ˆç”¨è¿œç¨‹æœåŠ¡å™¨çš„origin/masteræ›¿æ¢æœ¬åœ°ã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“ï¼‰ tip: å½“æ›´æ–°ä»“åº“çš„æ—¶å€™ç”¨ git pull ï¼Œä½†æ˜¯git pull åŒ…å«äº†ä¸¤ä¸ªæ“ä½œ ï¼Œgit fetch å’Œgit merge,git fetch æ˜¯å°†è¿œç¨‹çš„masterï¼ˆé»˜è®¤ï¼‰åˆ†æ”¯å­˜å‚¨åˆ°æœ¬åœ°çš„origin/masterå‘½åç©ºé—´ä¸­ï¼Œä¸ä¼šè¿›è¡Œåˆå¹¶ä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬æƒ³ç”¨è¿œç¨‹ä»“åº“çš„å†…å®¹å®Œå…¨æ›¿æ¢åˆ°æœ¬åœ°çš„å®¹ï¼šgit reset â€“hard origin/masteræ’¤é”€æœ¬åœ°ã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“(ç”¨è¿œç¨‹æœåŠ¡å™¨çš„origin/masteræ›¿æ¢æœ¬åœ°ã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“) æ€»ç»“ä¸Šé¢è¯´äº†è¿™ä¹ˆä¸€å¤§å †ï¼Œå…¶å®éƒ½æ˜¯æˆ‘å®é™…ä¸­é‡åˆ°çš„å‘å‘ï¼Œå·®ç‚¹å‘æ­»æˆ‘ï¼Œä¸è¿‡ä¸Šé¢è¯´çš„ç¡®å®æ˜¯å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥å†æ€»ç»“ä¸€ä¸‹é—®é¢˜ï¼šåˆ‡æ¢è¿œç¨‹åˆ†æ”¯é¿å…é‡åˆ°mergeï¼Œæˆ–è€…è¯´æ€ä¹ˆæ›´å¥½çš„åˆ‡æ¢è¿œç¨‹åˆ†æ”¯å¹¶æ›´æ–°è§£å†³æ–¹æ¡ˆï¼šä¸Šé¢ä¸‰ç§","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}]},{"title":"linuxå‘½ä»¤nohupå’Œ&åŒºåˆ«","slug":"linuxå‘½ä»¤nohupå’Œ-åŒºåˆ«","date":"2019-01-15T06:27:22.000Z","updated":"2021-01-25T10:48:26.377Z","comments":true,"path":"2019/01/15/linuxå‘½ä»¤nohupå’Œ-åŒºåˆ«/","link":"","permalink":"http://yoursite.com/2019/01/15/linuxå‘½ä»¤nohupå’Œ-åŒºåˆ«/","excerpt":"","text":"ä¸€ã€å‰è¨€å› ä¸ºæˆ‘æƒ³æŠŠä¸€ä¸ªç¨‹åºä¸€ç›´è¿è¡Œåœ¨centosç³»ç»Ÿä¸Šï¼Œåæ¥çš„çŸ¥ nohup ï¼Œ&amp; å‘½ä»¤éƒ½å¯ä»¥ï¼Œåœ¨ç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™åï¼Œå¯¹è¿™äº›èµ„æ–™è¿›è¡Œæ•´ç†ï¼Œè®©è¿™ä¸¤æ¡å‘½ä»¤çš„å¼‚åŒæ›´ç›´è§‚çš„å±•ç°å‡ºæ¥ äºŒã€nohupå‘½ä»¤nohup æ˜¯ no hang up çš„ç¼©å†™,ä¸æŒ‚æ–­çš„æ„æ€ è¯­æ³•ï¼šnohup Command [ Arg â€¦ ] [ &amp; ]ä½œç”¨ï¼šä¸æŒ‚æ–­çš„è¿è¡ŒæŒ‡å®šç¨‹åºä¸‹é¢æˆ‘ä¼šæŒ‰ç…§ nohup command &gt; myout.file 2&gt;&amp;1 è¿™æ¡å‘½ä»¤è¿›è¡Œæ‹†åˆ†è®²è§£ 1ã€nohup command ä¸æŒ‚èµ·çš„æ‰§è¡Œ command ç¨‹åº,å½“ ctrl+c çš„æ—¶å€™ä¼šé€€å‡º command ç¨‹åº ï¼ˆå› ä¸ºå¯¹SIGINTä¿¡å·ä¸å…ç–«ï¼‰ 2ã€ &gt; myout.file 2&gt;&amp;1 æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯éƒ½æ‰“å°åˆ°å½“å‰ç›®å½•ä¸‹çš„myout.fileæ–‡ä»¶é‡Œ å¦‚æœç›´æ¥æ‰§è¡Œ nohup command æ²¡æœ‰åé¢çš„ä¸€ä¸²ï¼Œé‚£ä¹ˆå°†åœ¨å½“å‰ç›®å½•è‡ªåŠ¨åˆ›å»º nohup.outæ–‡ä»¶ï¼Œå¹¶shellä¸­æç¤º appending output to nohup.outï¼Œè¾“å‡ºéƒ½å°†é™„åŠ åˆ°è¿™ä¸ªæ–‡ä»¶é‡Œã€‚ å¦‚æœæ²¡æœ‰å½“å‰ç›®å½•åˆ›å»ºæ–‡ä»¶çš„æƒé™ï¼Œé‚£ä¹ˆè¾“å‡ºé‡å®šå‘åˆ°è·Ÿç›®å½•ä¸‹çš„ /nohup.out æ–‡ä»¶ä¸­ï¼Œ å¦‚æœæ²¡æœ‰æ–‡ä»¶èƒ½åˆ›å»ºæˆ–æ‰“å¼€ä»¥ç”¨äºè¿½åŠ ï¼Œé‚£ä¹ˆé‚£ä¹ˆ Command å‚æ•°æŒ‡å®šçš„å‘½ä»¤ä¸å¯è°ƒç”¨ï¼ˆæ‰§è¡Œå¤±è´¥ï¼‰ 2.1ã€é—®é¢˜1ï¼š 2&gt;&amp;1 ä»€ä¹ˆæ„æ€ï¼Ÿæ“ä½œç³»ç»Ÿä¸­æœ‰ä¸‰ä¸ªå¸¸ç”¨çš„æµï¼š 0ï¼šæ ‡å‡†è¾“å…¥æµ stdin 1ï¼šæ ‡å‡†è¾“å‡ºæµ stdout 2ï¼šæ ‡å‡†é”™è¯¯æµ stderrä¸€èˆ¬å½“æˆ‘ä»¬ç”¨ &gt; console.txtï¼Œå®é™…æ˜¯ 1&gt;console.txtçš„çœç•¥ç”¨æ³•ï¼›&lt; console.txt ï¼Œå®é™…æ˜¯ 0 &lt; console.txtçš„çœç•¥ç”¨æ³•ã€‚è¡¥å…… :&gt; console.txt æ¯æ¬¡æ‰§è¡Œä¼šè¦†ç›–æ–‡ä»¶å†…å®¹ï¼Œä½¿ç”¨ &gt;&gt; console.txt è¿›è¡Œè¿½åŠ ï¼Œåˆ™console.txtä¸ä¼šè¢«è¦†ç›– æœ‰æ—¶å€™å¸Œæœ›å°†é”™è¯¯çš„ä¿¡æ¯é‡æ–°å®šå‘åˆ°è¾“å‡ºï¼Œå°±æ˜¯å°†2çš„ç»“æœé‡å®šå‘è‡³1ä¸­å°±æœ‰äº†â€2&gt;1â€è¿™æ ·çš„æ€è·¯ï¼Œå¦‚æœæŒ‰ç…§ä¸Šé¢çš„å†™æ³•ï¼Œç³»ç»Ÿä¼šé»˜è®¤å°†é”™è¯¯çš„ä¿¡æ¯ï¼ˆSTDERRï¼‰2é‡å®šå‘åˆ°ä¸€ä¸ªåå­—ä¸º1çš„æ–‡ä»¶ä¸­ï¼Œè€Œéæ‰€æƒ³çš„ï¼ˆSTDOUTï¼‰ä¸­ã€‚å› æ­¤éœ€è¦åŠ &amp;è¿›è¡ŒåŒºåˆ†ã€‚å°±æœ‰äº† 2&gt;&amp;1 è¿™æ ·çš„ç”¨æ³• è¿™å¥è¯æ„æ€æ˜¯æŠŠæ ‡å‡†é”™è¯¯ï¼ˆ2ï¼‰é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºä¸­ï¼ˆ1ï¼‰ï¼Œè€Œæ ‡å‡†è¾“å‡ºåˆå¯¼å…¥æ–‡ä»¶myout.fileé‡Œé¢ï¼Œæ‰€ä»¥ç»“æœæ˜¯æ ‡å‡†é”™è¯¯å’Œæ ‡å‡†è¾“å‡ºéƒ½å¯¼å…¥æ–‡ä»¶myout.fileé‡Œé¢äº† 2.2ã€é—®é¢˜2ï¼š ä¸ºä½•2&gt;&amp;1è¦å†™åœ¨&gt;myout.fileåé¢ï¼Ÿcommand &gt; file 2&gt;&amp;1 é¦–å…ˆæ˜¯command &gt; fileå°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°fileä¸­ï¼Œ 2&gt;&amp;1 æ˜¯æ ‡å‡†é”™è¯¯æ‹·è´äº†æ ‡å‡†è¾“å‡ºçš„è¡Œä¸ºï¼Œä¹Ÿå°±æ˜¯åŒæ ·è¢«é‡å®šå‘åˆ°fileä¸­ï¼Œæœ€ç»ˆç»“æœå°±æ˜¯æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯éƒ½è¢«é‡å®šå‘åˆ°fileä¸­ã€‚command 2&gt;&amp;1 &gt;file 2&gt;&amp;1 æ ‡å‡†é”™è¯¯æ‹·è´äº†æ ‡å‡†è¾“å‡ºçš„è¡Œä¸ºï¼Œä½†æ­¤æ—¶æ ‡å‡†è¾“å‡ºè¿˜æ˜¯åœ¨ç»ˆç«¯ã€‚&gt;file åè¾“å‡ºæ‰è¢«é‡å®šå‘åˆ°fileï¼Œä½†æ ‡å‡†é”™è¯¯ä»ç„¶ä¿æŒåœ¨ç»ˆç«¯ã€‚ 3ã€ä¾‹å­ï¼šæ‰§è¡ŒjenkinsæœåŠ¡nohup java -jar jenkins.war --ajp13Port=-1 --httpPort=8088 &gt; /Users/admin/nohup.out 2&gt;&amp;1 å¯åŠ¨jenkins,å¹¶å°†è¾“å‡ºå¯¼å…¥åˆ°æ–‡ä»¶nohup.outé‡Œ æ‰§è¡Œç»“æœ å¯ä»¥çœ‹åˆ°æ‰§è¡ŒæˆåŠŸäº†ï¼Œæ–°å»ºçª—å£ å†çœ‹çœ‹æ—¥å¿—æ–‡ä»¶æ‰“å¼€ /Users/admin/nohup.out è¿™ä¸ªæ–‡ä»¶ï¼š æ–‡ä»¶å†…å®¹ ç»“è®ºï¼šæ§åˆ¶å°æ²¡æœ‰è¾“å…¥jenkinsçš„å¯åŠ¨ä¿¡æ¯ 4ã€å…³é—­å½“å‰ç»ˆç«¯ å…³é—­å¯åŠ¨jenkinsçš„ç»ˆç«¯ ç»“è®º ï¼šå¯ä»¥çœ‹åˆ°å…³æ‰ç»ˆç«¯ä¸ä¼šå…³é—­jenkinsè¿›ç¨‹ 5ã€æ³¨æ„æ³¨æ„ï¼ctrl+cå¯ä»¥ä»æ‰§è¡Œç»“æœå›¾çœ‹åˆ°ï¼Œä»»åŠ¡å¼€å§‹åç»ˆç«¯æ˜¯ä¸èƒ½è¾“å…¥çš„ï¼Œé‚£æˆ‘æ‰§è¡Œ ctrl+c è®©ç»ˆç«¯ç¼–ç¨‹å¯è¾“å…¥çŠ¶æ€ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ æ‰§è¡Œctrl+cåä»»åŠ¡ç»“æŸäº† å¯ä»¥çœ‹åˆ°ä»»åŠ¡ç»“æŸï¼ï¼ ç»“è®ºï¼šctrl+cä½¿jenkinsè¿›ç¨‹ç»“æŸäº† 6ã€ nohupæ€»ç»“ nohup Command [ Arg â€¦ ] [ &amp; ]:ç¨‹åºè¿è¡Œä¸æŒ‚èµ·ï¼Œé»˜è®¤ä¼šå°†è¾“å‡ºé‡å®šå‘nohup.outæ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶ï¼Œctrl+cçš„è¯ä¼šé€€å‡ºa.shè¿›ç¨‹ï¼ˆå› ä¸ºå¯¹SIGINTä¿¡å·ä¸å…ç–«ï¼‰ï¼Œå…³é—­Command, Commandè¿›ç¨‹è¿˜æ˜¯å­˜åœ¨çš„ï¼ˆå¯¹SIGHUPä¿¡å·å…ç–«ï¼‰ ä¸‰ã€&amp;å‘½ä»¤1ã€command &amp;è®©commandç¨‹åºåœ¨åå°è¿è¡Œ 2ã€è¿˜ä»¥jenkinsä¸ºä¾‹å­æµ‹è¯• å¯åŠ¨jenkins ç»“è®ºï¼šæ§åˆ¶å°è¾“å‡ºäº†jenkinsçš„å¯åŠ¨ä¿¡æ¯ 3ã€æ‰§è¡Œctrl+c æ‰§è¡Œctrl+c ç»“è®ºï¼šctrl+cä¸ä¼šä½¿jenkinsè¿›ç¨‹åœæ­¢ 4ã€å…³é—­å½“å‰ç»ˆç«¯ å…³é—­å½“å‰ç»ˆç«¯ ç»“è®ºï¼šå…³é—­ç»ˆç«¯ä¼šä½¿jenkinsè¿›ç¨‹åœæ­¢ 5ã€è¡¥å……è¿™æ—¶æˆ‘çªç„¶æƒ³åˆ°äº†ï¼Œä¸Šé¢ä»‹ç»äº† &gt;a.txt è¿™æ ·å¯ä»¥æŠŠä¿¡æ¯è¾“å…¥åˆ°a.txtæ–‡ä»¶é‡Œï¼Œé‚£å¯ä¸å¯ä»¥ Command &gt;a.txt &amp;è¿™æ ·ç”¨å‘¢ï¼Ÿjava -jar jenkins.war --ajp13Port=-1 --httpPort=8088 &gt; /Users/admin/nohup.out 2&gt;&amp;1 &amp; çŒœæƒ³æµ‹è¯• ç»“è®ºï¼šcommand &gt;a.txt &amp;å¯ä»¥ä¸åœ¨ç»ˆç«¯è¾“å‡ºä¿¡æ¯ 6ã€&amp;æ€»ç»“ Command &amp; :&amp;çš„æ„æ€æ˜¯åœ¨åå°è¿è¡Œï¼Œ å½“ä½ åœ¨æ‰§è¡Œ Command &amp; çš„æ—¶å€™ï¼Œ å³ä½¿ä½ ç”¨ ctrl+C, é‚£ä¹ˆCommandç…§æ ·è¿è¡Œï¼ˆå› ä¸ºå¯¹SIGINTä¿¡å·å…ç–«ï¼‰ã€‚ ä½†æ˜¯è¦æ³¨æ„ï¼Œ å¦‚æœä½ ç›´æ¥ å…³æ‰ç»ˆç«¯ åï¼Œ é‚£ä¹ˆï¼ŒCommandè¿›ç¨‹åŒæ ·æ¶ˆå¤±ï¼ˆå› ä¸ºå¯¹SIGHUPä¿¡å·ä¸å…ç–«ï¼‰ã€‚ å››ã€è¡¨æ ¼å¯¹æ¯” å‘½ä»¤æ–¹å¼ ctrl+cå…³é—­åè¿›ç¨‹æ˜¯å¦å…³é—­ ç›´æ¥å…³é—­ç»ˆç«¯åè¿›ç¨‹æ˜¯å¦å…³é—­ æ˜¯å¦ç»ˆç«¯è¾“å‡ºä¿¡æ¯ nohup å…³é—­ ä¸å…³é—­ ä¸è¾“å‡ºï¼Œæ— è®ºæ˜¯å¦åŠ ä¸Š &gt;nohup.outï¼Œä¿¡æ¯éƒ½è¢«å¯¼å…¥åˆ°nohup.outï¼ˆæŒ‡å®šï¼‰æ–‡ä»¶ &amp; ä¸å…³é—­ å…³é—­ é»˜è®¤è¾“å‡ºï¼Œä½†åŠ ä¸Š&gt;nohup.outåˆ™ä¼šä¸è¾“å‡ºï¼Œä¿¡æ¯è¢«å¯¼å…¥åˆ°nohup.outï¼ˆæŒ‡å®šï¼‰æ–‡ä»¶ äº”ã€å®é™…åº”ç”¨é‰´äºå®ƒä»¬ä¸ªè‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œä¸€èˆ¬éƒ½æ˜¯è¿™æ ·ç”¨nohup command &gt; myout.file 2&gt;&amp;1 &amp;","categories":[],"tags":[{"name":"linux","slug":"linux","permalink":"http://yoursite.com/tags/linux/"}]},{"title":"Djangoå¼€å‘å®‰è£…MySQL-pythonè§£å†³è¿‡ç¨‹","slug":"Djangoå¼€å‘å®‰è£…MySQL-pythonè§£å†³è¿‡ç¨‹","date":"2018-12-19T09:52:13.000Z","updated":"2021-01-25T10:48:26.372Z","comments":true,"path":"2018/12/19/Djangoå¼€å‘å®‰è£…MySQL-pythonè§£å†³è¿‡ç¨‹/","link":"","permalink":"http://yoursite.com/2018/12/19/Djangoå¼€å‘å®‰è£…MySQL-pythonè§£å†³è¿‡ç¨‹/","excerpt":"","text":"ä¸€ã€å‰è¨€è¿™ç¯‡æ–‡ç« å†™çš„æ˜¯æˆ‘å®‰è£… MySQL-pythoné‡åˆ°çš„é—®é¢˜ï¼Œå› ä¸ºä½¿ç”¨djangoå¼€å‘æ‰€ä»¥æˆ‘è¦å’ŒMySQLæ•°æ®åº“è¿æ¥ï¼Œç„¶åå°±æ­»æ´»å®‰è£…ä¸ä¸Šï¼Œå„ç§æŠ¥é”™ï¼ŒæŠ˜è…¾äº†ä¸€å¤©å¤šï¼Œç»ˆäºè§£å†³äº†ï¼Œè¶ç€ç°åœ¨è¿˜æœ‰ç‚¹å°è±¡ï¼Œèµ¶ç´§å†™ä¸‹æ¥ï¼Œåšä¸ªè®°å½• 1.é—®é¢˜æè¿°djangoæ–°å»ºä¸€ä¸ªmysiteé¡¹ç›®ï¼Œå°†æ•°æ®åº“è®¾ç½®ä¸ºMySQLï¼Œç„¶åæ‰§è¡Œ pip install MySQL-python å®‰è£…æ•°æ®åº“æ¨¡å—å¼€å§‹é‡åˆ°çš„é—®é¢˜ 2. ç¯å¢ƒ macOS 10.13.6django 1.11.17python 2.7.10 äºŒã€è§£å†³é—®é¢˜å†ç¨‹ æ‰§è¡Œ pip install MySQL-python æŠ¥é”™ ç™¾åº¦åè¯´éœ€è¦å®‰è£… mysql-connector-c 1brew install mysql-connector-c å¦‚æœæœ‰è¿™ç§æŠ¥é”™ é‚£å°±æŒ‰æç¤ºçš„è¾“å…¥å‘½ä»¤è§£å†³ï¼ˆåº”è¯¥æ˜¯brew unlink mysqlï¼‰ï¼Œç„¶åå†æ¬¡å®‰è£…mysql-connector-cå®‰è£…å®Œåè®°å¾— å®‰è£…æˆåŠŸåæ‰§è¡Œä¸€æ¬¡brew link mysql å®‰è£… Command Line Tools è¿™ä¸ªå»è‹¹æœå®˜ç½‘ä¸‹å°±å¯ä»¥äº† 100å¤šå…†ï¼Œç½‘ä¸Šè¯´è¦ä¸‹xCodeï¼Œä½†æ˜¯æˆ‘æ²¡ä¸‹xCodeä¹ŸæˆåŠŸäº†å®‰è£…ä¸Šè¿™ä¸ªäº†ï¼Œæ‰€ä»¥ä¸ç”¨ä¸‹xCodeå°±å¯ä»¥ï¼Œç»ˆç«¯è¾“å…¥ which gcc æŸ¥çœ‹ è¿™æ—¶å®‰è£…MySQL-python è‚¯å®šä¾ç„¶æŠ¥é”™ï¼Œåæ­£æˆ‘æ˜¯è¿™æ · ï¼Œç„¶åæ‰§è¡Œ export CC=â€™/usr/bin/gccâ€™export CFLAGS=â€™-isysroot/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk -I/opt/X11/include -arch i386 -arch x86_64â€™export LDFLAGS=â€™-arch i386 -arch x86_64â€™export ARCHFLAGS=â€™-arch i386 -arch x86_64â€™ æˆ‘ä¹Ÿä¸çŸ¥é“è¿™å•¥æ„æ€ï¼Œæƒ­æ„§æƒ­æ„§ã€‚ã€‚ã€‚ å®‰è£… MySQL-pythonï¼Œè¿˜ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ è¿™é‡Œè¦è¯´æ˜ä¸€ä¸‹ ä¹‹å‰æˆ‘çš„mysqlæ˜¯é€šè¿‡ä¸‹è½½dmgåŒ…é‚£ç§æ–¹å¼å®‰è£…çš„ï¼Œä½†æ˜¯ç°åœ¨æ²¡åŠæ³•æˆ‘å¸è½½mysqlååˆç”¨brewæ–¹å¼å®‰è£…äº†ä¸€ä¸‹ï¼Œç‰ˆæœ¬ä¸º 8.0.12 Homebrew ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶ï¼šmysql_config 1234112 # Create options113 libs=&quot;-L$pkglibdir&quot;114 #libs=&quot;$libs -l &quot; ##æ³¨é‡Šæ‰æºä»£ç 115 libs=&quot;$libs -lmysqlclient -lssl -lcrypto &quot; ##ä¿®æ”¹æˆè¿™æ · å®‰è£… MySQL-python å¦‚æœä½ çš„è¿˜æŠ¥é”™ï¼Œé‚£æˆ‘åªèƒ½è¯´å†ç™¾åº¦å§ ï¼Œç¦»å®‰è£…æˆåŠŸä¸è¿œäº†ï¼Œ å› ä¸ºæˆ‘å®‰è£…çš„æ—¶å€™ä¹Ÿæ˜¯ç–¯ç‹‚æŠ¥é”™ï¼Œç°åœ¨æˆ‘å›æƒ³çš„å¯ èƒ½ä¸å¤ªå…¨ï¼Œå› ä¸ºæˆ‘è§£å†³äº†å¥½ä¹… å¥½äº† ç°åœ¨å®‰è£…å¥½äº†MySQL-python ,ç„¶åæ‰§è¡Œ pip install MySQL-pythonï¼Œ å¦ˆçš„ä¾ç„¶æç¤ºDid you install mysqlclient or MySQL-python? å¥½ï¼Œåœ¨djangoæ ¹ç›®å½•init.pyæ–‡ä»¶é‡Œå†™ä¸Š 12import pymysqlpymysql.install_as_MySQLdb() æ‰§è¡Œpip install MySQL-python æŠ¥é”™ ImportError: No module named pymysql ç„¶åå®‰è£… pip install pymysql å†æ¬¡æ‰§è¡Œ python manage.py migrate ç»ˆäºæˆåŠŸäº†ï¼Œæˆ‘å·®ç‚¹å“­å‡ºæ¥ å»æ•°æ®åº“çœ‹ï¼Œå¯¹åº”çš„è¡¨å·²ç»åˆ›å»ºäº†","categories":[],"tags":[{"name":"Django","slug":"Django","permalink":"http://yoursite.com/tags/Django/"},{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"},{"name":"Mysql","slug":"Mysql","permalink":"http://yoursite.com/tags/Mysql/"}]},{"title":"èº«ä»½è®¤è¯-jwt","slug":"èº«ä»½è®¤è¯-jwt","date":"2018-09-27T12:39:51.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"2018/09/27/èº«ä»½è®¤è¯-jwt/","link":"","permalink":"http://yoursite.com/2018/09/27/èº«ä»½è®¤è¯-jwt/","excerpt":"","text":"ä¸€ã€jwtç®€ä»‹å…³äºjwtçš„æ¦‚å¿µç½‘ä¸Šæœ‰å¾ˆå¤šéå¸¸å¥½çš„åšå®¢è®²è§£ï¼Œåœ¨è¿™é‡Œå°±ä¸è§£é‡Šäº†ï¼Œçœ‹ä¸‹é¢å†…å®¹ä¹‹å‰æœ€å¥½å¯¹jwtæœ‰ä¸ªå¤§è‡´çš„äº†è§£ã€‚è¿™é‡Œè®²çš„æ˜¯å‰åå°æ€ä¹ˆåˆ©ç”¨jwtè¿›è¡Œèº«ä»½éªŒè¯ã€‚ï¼ˆreact+axios+nodeï¼‰ äºŒã€åŸºæœ¬é€»è¾‘1. åå°é€»è¾‘å‰å° /login è·¯ç”±è¿›å…¥åï¼Œåœ¨è´¦å·å¯†ç æ­£ç¡®çš„å‰æä¸‹åˆ›å»ºä¸€ä¸ª token(é™„å¸¦ä¸Šè¿‡æœŸæ—¶é—´ç­‰)ï¼Œè¿”å›ç»™å‰å°ï¼Œåç»­å‰å°çš„æ¯æ¬¡è¯·æ±‚ï¼Œéƒ½éœ€è¦ç»è¿‡åå°çš„ä¸€ä¸ªä¸­é—´ä»¶æ¥åˆ¤æ–­ tokenæ˜¯å¦è¿‡æœŸæˆ–è€…æœ‰è¯¯ï¼Œå¦‚æœæœ‰è¯¯ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯ 2. å‰å°é€»è¾‘å‰å°æ”¶åˆ°è¿”å›ä¿¡æ¯åï¼Œå°†tokenå­˜å‚¨åœ¨localStorageæˆ–è€…cookieé‡Œï¼Œç„¶ååç»­çš„æ¯æ¬¡çš„è¯·æ±‚å¸¦ä¸Šè¿™ä¸ªtoken 3.é™„åŠ å…¶å®é™¤äº†æ¯æ¬¡çš„è¯·æ±‚è¦é™„å¸¦tokenæ£€æŸ¥æœ‰æ•ˆä¹‹å¤–ï¼Œè¿˜éœ€è¦åœ¨è·¯ç”±è·³è½¬çš„æ—¶å€™è¿›è¡Œtokenæ£€æŸ¥ï¼Œä¸‹é¢ä¼šè¯´åˆ°ä¸‰ç§æ–¹æ³• ä¸‰ã€ åå°ä»£ç æ‰€ä½¿ç”¨çš„åŒ…ï¼š express-jwt //ç”¨æ¥éªŒè¯token jsonwebtoken //ç”¨æ¥ç”Ÿæˆtokenç»™å®¢æˆ·ç«¯ å½“/loginè¿›å…¥çš„æ—¶å€™ï¼Œç”Ÿæˆtokenè¿”å›12345678910111213141516171819202122232425262728//jwt.sign(payload, secretOrPrivateKey, [options, callback])// ç™»å½•exports.login = function(req, res) &#123; const &#123; user, pwd &#125; = req.body; UserModel.findOne(&#123; user: user, pwd: utility.md5(md5Pwd(pwd)) &#125;, &#123; pwd: 0 &#125;, (err, doc) =&gt; &#123; if (err) &#123; console.log(err) return res.json(&#123; code: 1, msg: 'æœªçŸ¥é”™è¯¯' &#125;) &#125; if (!doc) &#123; return res.json(&#123; code: 1, msg: 'ç”¨æˆ·ä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯' &#125;) &#125; // ç”Ÿæˆtoken // secretOrPrivateKeyï¼šç”¨\"YMBo's club\"å­—ç¬¦ä¸²åŠ å¯† let token = jwt.sign(&#123; name: 'job', &#125;, \"YMBo's club\", &#123; expiresIn: 1 * 60 //è¿‡æœŸæ—¶é—´1åˆ†é’Ÿ &#125;) return res.json(&#123; code: 0, data: doc, token &#125;) &#125;)&#125; /loginåè¿”å›ä¿¡æ¯ æ¯æ¬¡æœ‰è·¯ç”±è¯·æ±‚çš„æ—¶å€™å¯¹tokenåˆ¤æ–­æ˜¯å¦è¿‡æœŸæ·»åŠ ä¸€ä¸ªä¸­é—´ä»¶ï¼š123456789101112131415161718192021222324const expressJWT = require('express-jwt')const secret = \"ymb's club\"app.set(secret, secret)// jwtéªŒè¯app.use(expressJWT(&#123; secret: secret&#125;, &#123; expiresIn: 60&#125;).unless(&#123; path: ['/user/login'] &#125;))// jwtéªŒè¯,å¦‚æœæœ‰é”™è¯¯ï¼ˆtokenä¸å¯¹ï¼Œè¿‡æœŸç­‰é”™è¯¯ï¼‰app.use(function(err, req, res, next) &#123; if (err.name === \"UnauthorizedError\") &#123; res.status(401).send(&#123; code: 1, msg: 'è¯·ç™»å½•' &#125;); &#125;&#125;);app.use(bodyParser.json())app.use('/user', userRouter) è¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®ç‚¹ï¼Œå½“ä½¿ç”¨express-jwtè¿›è¡ŒtokenéªŒè¯çš„æ—¶å€™ï¼Œå‰å°å‘è¿‡æ¥çš„tokenå¿…é¡»æ˜¯å¸¦ Bearerå‰ç¼€çš„ï¼Œæ¯”å¦‚tokenæ˜¯aaa.bbb.cccï¼Œé‚£ä¹ˆåº”è¯¥æ ¼å¼åŒ–ä¸º Bearer aaa.bbb.ccc è¿™ç§å½¢å¼ å››ã€ å‰å°ä»£ç 123// setLocalStorageæ˜¯è‡ªå®šä¹‰çš„æ–¹æ³•ï¼Œå­˜å‚¨tokensetLocalStorage('Authorization', `Bearer $&#123; res.data.token &#125;`)// åå°è¿”å›æ­£ç¡®ä¿¡æ¯å å°†token å­˜å‚¨åœ¨localStorageé‡Œ åœ¨é¡¹ç›®çš„æ€»å…¥å£æˆ–è€…æ¬¡çº§å…¥å£åŠ ä¸Šè¿™ä¸ªï¼Œæ„æ€æ˜¯åç»­çš„æ¯ä¸€æ¬¡axiosè¯·æ±‚éƒ½å°†æºå¸¦Authorizationä¿¡æ¯1axios.defaults.headers.common['Authorization'] = getLocalStorage('Authorization'); äº”ã€éªŒè¯token1. ç¬¬ä¸€ç§æ–¹æ³•ä¸Šé¢è¯´äº†åå°æ·»åŠ ä¸­é—´ä»¶ express-jwt æ¥éªŒè¯ï¼Œç½‘ä¸Šçš„å¥½å¤šæ•™ç¨‹è¯´çš„æ˜¯é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„è·¯ç”± /infoï¼Œæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™å…ˆè¯·æ±‚è¿™ä¸ªè·¯ç”±æ˜¯å¦è¿‡æœŸç­‰ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™ç§æ–¹æ³•å¤ªæµªè´¹äº†ï¼Œä½•å¿…æ¯æ¬¡è¯·æ±‚éƒ½è¦å‘é€è¿™ä¸ª /infoè¿™ä¸ªéªŒè¯è¯·æ±‚å‘¢ 2. ç¬¬äºŒç§æ–¹æ³•1234jwt.decodeï¼ˆtoken [ï¼Œoptions]ï¼‰ //è§£å¯†ï¼Œæ³¨æ„äº†ä¹‹å‰å­˜å‚¨åˆ°localStorageé‡Œçš„tokenæ˜¯å¸¦ Bearer è¦æŠŠå®ƒå»æ‰è¿›è¡Œè§£å¯†ã€‚//è¿”å›è§£ç æ²¡æœ‰éªŒè¯ç­¾åæ˜¯å¦æœ‰æ•ˆçš„payloadã€‚è­¦å‘Šï¼šè¿™ä¸ä¼šéªŒè¯ç­¾åæ˜¯å¦æœ‰æ•ˆã€‚å®ƒåªæ˜¯è¿”å›åç«¯è®¾ç½®çš„payload// ç‰¹ç‚¹ï¼šä¸ç”¨secretOrPrivateKeyè¿›è¡Œè§£å¯† å‰å°çš„é¡¶å±‚è·¯ç”±ï¼ˆå°±æ˜¯è¿›åˆ«çš„è·¯ç”±éƒ½è¦ç»è¿‡çš„è·¯ç”±ï¼‰è¿›è¡Œåˆ¤æ–­ï¼Œæ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿç”¨ jsonwebtoken è¿™ä¸ªåŒ…(ä¸Šé¢ç”¨åˆ°è¿‡) è¿›è¡Œè§£å¯†ï¼Œç„¶åå–å‡ºè®¾å®šçš„ expiresIn è¿‡æœŸæ—¶é—´ï¼Œç„¶åå–åˆ°æœ¬åœ°æ—¶é—´æˆ³ï¼Œä¸è¿™ä¸ªè¿›è¡Œåˆ¤æ–­ï¼Œçœ‹æ˜¯å¦è¿‡æœŸã€‚ 3. ç¬¬ä¸‰ç§æ–¹æ³•12345678910111213jwt.verifyï¼ˆtokenï¼ŒsecretOrPublicKeyï¼Œ[optionsï¼Œcallback]ï¼‰//éªŒè¯tokenåˆæ³•æ€§// å»æ‰äº†Bearer let token = getLocalStorage('Authorization').replace(/Bearer\\s/, '');jwt.verify(token, \"ymb's club\", (err, decoded) =&gt; &#123; if (err) &#123; alert('è¿‡æœŸäº†å¿«å»ç™»å½•') this.props.history.push('/login') &#125;&#125;)//å¦‚æœtokenæ²¡ç”¨äº† ç›´æ¥è¿”å›err//ç”¨åˆ°äº†secretOrPrivateKeyï¼šç”¨\"YMBo's club\"å­—ç¬¦ä¸²è§£å¯†ï¼Œæ³¨æ„è¿™ä¸ªå­—æ®µä¸€å®šè¦å’Œåå°é‚£ä¸ªåŠ å¯†å­—æ®µä¸€è‡´ï¼Œå¦åˆ™å®ƒä¸€è‡´err å…­ã€æ•ˆæœæŸ¥çœ‹è¿‡æœŸæ—¶é—´æˆ‘è®¾ç½®çš„1åˆ†é’Ÿï¼Œä¸ºäº†æ–¹ä¾¿è°ƒè¯• /login è¿”å›tokenæˆåŠŸ è¿”å›tokenæˆåŠŸ åå°express-jwtéªŒè¯tokenæˆåŠŸ åå°express-jwtéªŒè¯tokenæˆåŠŸ è·¯ç”±è·³è½¬å‰éªŒè¯tokenæˆåŠŸ è·¯ç”±è·³è½¬å‰éªŒè¯tokenæˆåŠŸ","categories":[],"tags":[]},{"title":"vueè‡ªå®šä¹‰çˆ¶å­ç»„ä»¶ç»„ä»¶v-modelçš„é€šä¿¡","slug":"vueè‡ªå®šä¹‰çˆ¶å­ç»„ä»¶ç»„ä»¶v-modelçš„é€šä¿¡","date":"2018-09-25T02:38:15.000Z","updated":"2021-01-25T10:48:26.379Z","comments":true,"path":"2018/09/25/vueè‡ªå®šä¹‰çˆ¶å­ç»„ä»¶ç»„ä»¶v-modelçš„é€šä¿¡/","link":"","permalink":"http://yoursite.com/2018/09/25/vueè‡ªå®šä¹‰çˆ¶å­ç»„ä»¶ç»„ä»¶v-modelçš„é€šä¿¡/","excerpt":"","text":"ä¸€ã€å‰è¨€å‰äº›å¤©å†™ä¸€ä¸ªcheckboxçš„vueç»„ä»¶çš„æ—¶å€™æƒ³ç”¨v-modelæ¥è¿›è¡ŒçŠ¶æ€çš„åˆ¤æ–­ï¼Œä½†æ˜¯æƒ³åˆ°è¿™äº†ï¼Œå´ä¸çŸ¥é“v-modelæ€ä¹ˆåœ¨ç»„ä»¶é‡Œé¢å®ç°ï¼Œè¿™ç¯‡æ–‡ç« è®°å½•v-modelçš„å®ç°ä»¥åŠv-modelçš„æ‰©å±•ã€‚å…·ä½“æ•ˆæœå¯ä»¥å‚è€ƒiviewçš„ Checkboxç»„ä»¶å’ŒCheckboxGroupç»„ä»¶ äºŒã€åˆ†æ (åŠŸèƒ½æè¿°)æˆ‘æƒ³åšä¸¤ä¸ªç»„ä»¶ ç¬¬ä¸€ä¸ªå« ButtonSelect ã€ ButtonSelectGroup ButtonSelect : å…¶å®è¿™ä¸ªç»„ä»¶å°±æ˜¯ä¸€ä¸ªcheckboxå¤é€‰æ¡†ï¼Œåªä¸è¿‡æ ·å¼ä¸Šè¿›è¡Œçš„ä¿®æ”¹ï¼Œæˆ‘æƒ³åœ¨è¿™ä¸Šé¢ç»‘å®šv-modelï¼Œé€šè¿‡v-modelæ¥å‘Šè¯‰çˆ¶çº§ç»„ä»¶å½“å‰çš„å¤é€‰æ¡†çŠ¶æ€(true/false)ï¼ŒButtonSelect çš„æ•ˆæœåŒiviewçš„ Checkboxç»„ä»¶ CheckBoxç»„ä»¶æ•ˆæœ ButtonSelectGroup : å½“æœ‰å¤šä¸ª ButtonSelect çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨ ButtonSelectGroupåŒ…è£¹ButtonSelectï¼Œç„¶åé€šè¿‡ ButtonSelectGroup ä¸Šç»‘å®š v-model ï¼Œæ¥è·å¾—æ‰€æœ‰çš„é€‰ä¸­é¡¹ï¼Œæ ¼å¼æ˜¯æ•°ç»„ï¼Œæ•ˆæœåŒiviewçš„ CheckboxGroup CheckboxGroupç»„ä»¶æ•ˆæœ ä¸‰ã€å…³äºv-modelv-model åŒå‘ç»‘å®šæ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„åŠŸèƒ½ï¼Œå¯¹äºä¸åŒçš„ç»„ä»¶v-modelè¿”å›å€¼ä¹Ÿä¸åŒ,ä½†æ˜¯è¿™é‡Œåªè¯´è¯´ checkboxå¤é€‰æ¡†çš„v-model å•ä¸ªå¤é€‰æ¡†ï¼Œç»‘å®šåˆ°å¸ƒå°”å€¼ å¤šä¸ªå¤é€‰æ¡†ï¼Œç»‘å®šåˆ°åŒä¸€ä¸ªæ•°ç»„å®˜ç½‘æè¿° è¿™é‡Œä¸€å®šè¦ä»”ç»†è§‚å¯Ÿï¼Œå½“å¤šä¸ªå¤é€‰æ¡†çš„æ—¶å€™å®ƒçš„v-modelçš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½è¿”å›æ•°ç»„ï¼Œè€Œæ•°ç»„æ¯ä¸€é¡¹çš„å€¼å°±æ˜¯checkboxçš„valueå€¼ 1.è‡ªå®šä¹‰v-modelï¼ˆv-modelä¼ é€’ï¼‰çˆ¶ç»„ä»¶===&gt;å­ç»„ä»¶ï¼šé»˜è®¤åä¸ºvalueçš„propå­ç»„ä»¶===&gt;çˆ¶ç»„ä»¶ï¼šé»˜è®¤åä¸ºinputçš„äº‹ä»¶é€šè¿‡ value å’Œ input æ¥å®Œæˆv-modelçš„èµ‹å€¼å’Œä¼ é€’ ä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬ä¸æƒ³ç”¨valueçš„inputè¿›è¡Œä¼ é€’ï¼Œnameå¯ä»¥ç”¨modelé€‰é¡¹è‡ªå®šä¹‰ï¼š1234model: &#123; prop: 'checked', event: 'change'&#125;, è¿™æ ·å°±å˜æˆäº† propä¸ºchange å’Œ checkedäº‹ä»¶æ¥ä»£æ›¿valueå’Œinputäº† å››ã€ButtonSelectçš„å®ç°æœ€é¡¶çº§çš„ç»„ä»¶ButtonSelectGroupã€ButtonSelectçš„çˆ¶ç»„ä»¶ï¼Œå°±å«ä»–HelloWordç»„ä»¶12345678910111213141516171819202122232425262728&lt;template&gt; &lt;div&gt; &lt;ButtonSelectGroup v-model=&quot;select&quot;&gt; &lt;ButtonSelect label=&apos;ç¬¬ä¸€ä¸ª&apos; &gt;&lt;/ButtonSelect&gt; &lt;ButtonSelect label=&apos;ç¬¬äºŒä¸ª&apos;&gt;&lt;/ButtonSelect&gt; &lt;ButtonSelect label=&apos;ç¬¬ä¸‰ä¸ª&apos;&gt;&lt;/ButtonSelect&gt; &lt;/ButtonSelectGroup&gt; &#123;&#123;select&#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import ButtonSelect from &quot;./ButtonSelect.vue&quot;;import ButtonSelectGroup from &quot;./ButtonSelectGroup.vue&quot;;export default &#123; name: &apos;HelloWorld&apos;, components:&#123; &apos;ButtonSelect&apos;:ButtonSelect, &apos;ButtonSelectGroup&apos;:ButtonSelectGroup &#125;, data()&#123; return&#123; select:[] &#125; &#125;,&#125;&lt;/script&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128&lt;style&gt;@keyframes ani &#123; 0% &#123; background-color: #52c41a; -webkit-box-shadow: 0 0 5px #52c41a; box-shadow: 0 0 5px #52c41a; &#125; 50% &#123; background-color: #73d13d; -webkit-box-shadow: 0 0 10px #73d13d; box-shadow: 0 0 10px #73d13d; &#125; 100% &#123; background-color: #95de64; -webkit-box-shadow: 0 0 5px #95de64; box-shadow: 0 0 5px #95de64; &#125;&#125;.selectBut&#123; display: flex; flex-wrap: nowrap; margin: 5px; border-radius: 5px ; line-height: 30px; height: 30px; position: relative;&#125;.selectBox&#123; display: inline-block; overflow: hidden;&#125;.con&#123; padding:0 5px; box-shadow: 0 0 8px 0px #88d6f7; background: -webkit-linear-gradient(left,#5ec8ff,#4a9fd7); background: -o-linear-gradient(left,#63e77d,#3e8aa6); background: -moz-linear-gradient(left,#63e77d,#3e8aa6); background: linear-gradient(left,#63e77d,#3e8aa6);&#125;.check&#123; position: absolute; top: 0; bottom: 0; left: 0; right: 0; z-index: 1; cursor: pointer; opacity: 0; width: 100%; height: 100%; box-sizing: border-box; padding: 0; margin: 0;&#125;input.check:checked+.light&#123; /* background: #19be6b; */ animation: ani 3s infinite alternate;&#125;.num&#123; padding: 0 5px; border-radius:0 5px 5px 0; color: #fff; font-weight: bold; text-shadow: 0 -1px 1px #40a9ff; /* box-shadow: 0 0 8px 0px #88d6f7; */ background: -webkit-linear-gradient(left,#4a9fd7,#2d60a2); background: -moz-linear-gradient(left,#3e8aa6,#2c5d9d); background: -o-linear-gradient(left,#3e8aa6,#2c5d9d); background: linear-gradient(left,#3e8aa6,#2c5d9d);&#125;.lightbox&#123; position: relative; width: 20px; height: 100%;&#125;.light&#123; transition:all .5; background: #ccc; height: 100%; cursor: pointer; border-radius: 5px 0 0 5px;&#125;&lt;/style&gt;&lt;template&gt; &lt;div class=&quot;selectBox&quot;&gt; &lt;div class=&quot;selectBut&quot;&gt; &lt;div class=&quot;lightbox&quot;&gt; &lt;input type=&quot;checkbox&quot; class=&quot;check&quot; :checked=&quot;currentValue&quot; @change=&quot;change&quot;/&gt; &lt;div class=&quot;light&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;con&quot;&gt; &lt;slot name=&quot;con&quot;&gt;ssss&lt;/slot&gt; &lt;/div&gt; &lt;div class=&quot;num&quot;&gt; &lt;slot name=&quot;num&quot;&gt;aaa&lt;/slot&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name:&apos;ButtonSelect&apos;, data()&#123; return&#123; //æ ¹æ®v-modelåˆå§‹åŒ–å½“å‰ç»„ä»¶çŠ¶æ€ currentValue:this.value &#125; &#125;, props:&#123; // v-modelè·å– value:&#123; type:[Array,Boolean], default:false &#125; &#125;, methods:&#123; change(event)&#123; var value=event.target.checked; // èµ‹å€¼v-model this.$emit(&apos;input&apos;,value) &#125; &#125;&#125;&lt;/script&gt; å…³é”®ç‚¹ï¼š templateçš„ inputscript:propsçš„valueå’Œdataé‡ŒcurrentValueï¼ˆè·å¾—åˆå§‹çŠ¶æ€ï¼‰script: changeé‡Œthis.$emit(â€˜inputâ€™) å•ä¸ªçš„å¤é€‰æ¡†ç»„ä»¶åŸºæœ¬åŠŸèƒ½å®Œæˆ äº”ã€ButtonSelectGroupç»„ä»¶å®é™…åº”ç”¨ä¸­ButtonSelectä¼šæœ‰å¾ˆå¤šä¸ªï¼Œæˆ‘éœ€è¦è·å–æ¯ä¸€ä¸ªçš„é€‰ä¸­çŠ¶æ€æˆ–è€…å€¼ï¼ˆå‚è€ƒä¸Šé¢çš„CheckBoxGroupç»„ä»¶ï¼‰ 1. åˆ†æ è®©å¤šä¸ªcheckboxè¿”å›æ•°ç»„çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ ä¸Šé¢æåˆ°äº†ï¼Œæ˜¯ç»™æ¯ä¸€ä¸ªcheckboxç›¸åŒçš„modelï¼Œæ‰€ä»¥å°±è¦åœ¨çˆ¶ç»„ä»¶ï¼ˆButtonSelectGroupï¼‰é‡Œç»™æ‰€æœ‰å­ç»„ä»¶ï¼ˆButtonSelectï¼‰ç›¸åŒçš„v-model å½“æ‰€æœ‰çš„å­ç»„ä»¶å…¶ä¸­æœ‰ä¸€ä¸ªæ”¹å˜çš„æ—¶å€™ï¼Œåº”è¯¥ç»™çˆ¶ç»„ä»¶è¿”å›å˜åŒ–åçš„æ•°ç»„ï¼Œçˆ¶ç»„ä»¶ï¼ˆä¸Šé¢æåˆ°äº†ï¼Œæ˜¯ç»™æ¯ä¸€ä¸ªcheckboxç›¸åŒçš„modelï¼Œæ‰€ä»¥å°±è¦åœ¨çˆ¶ç»„ä»¶ï¼ˆButtonSelectGroupï¼‰é‡Œç»™æ‰€æœ‰å­ç»„ä»¶ï¼ˆButtonSelectï¼‰è®¾ç½®ç›¸åŒçš„v-modelï¼‰å†å°†è¯¥æ•°ç»„é€šè¿‡inputäº‹ä»¶è¿”å›ç»™ButtonSelectGroupçš„è°ƒç”¨è€…(ButtonSelectGroupçš„çˆ¶ç»„ä»¶)ï¼Œå®Œæˆv-modelçš„ä¼ é€’ å½“ButtonSelectGroupçš„çˆ¶ç»„ä»¶ç»™å®šä¸€ä¸ªåˆå§‹v-modelå€¼çš„æ—¶å€™ï¼Œéœ€è¦æŠŠæ¯ä¸€ä¸ªButtonSelectè¿›è¡ŒçŠ¶æ€çš„å˜æ¢ 2. å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;style&gt;&lt;/style&gt;&lt;template&gt; &lt;div&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;// å¯»æ‰¾å­ç»„ä»¶function findComponentsDownward (context, componentName) &#123; return context.$children.reduce((components, child) =&gt; &#123; if (child.$options.name === componentName) components.push(child); const foundChilds = findComponentsDownward(child, componentName); return components.concat(foundChilds); &#125;, []);&#125;export default &#123; name:&apos;ButtonSelectGroup&apos;, props:&#123; value:&#123; type:Array, default()&#123; return [] &#125; &#125; &#125;, data()&#123; return&#123; childrens:[], &#125; &#125;, mounted()&#123; this.updateModel() &#125;, methods:&#123; updateModel()&#123; this.childrens = findComponentsDownward(this, &apos;ButtonSelect&apos;); if(this.childrens)&#123; const &#123; value &#125;=this; // ç»™å­ç»„ä»¶è®¾ç½®ç›¸åŒçš„model this.childrens.forEach(child=&gt;&#123; child.model=value; child.group = true; &#125;) &#125; &#125;, change(data)&#123; // é€šçŸ¥ä¸Šçº§ç»„ä»¶çš„v-model this.$emit(&apos;input&apos;,data); &#125; &#125;, watch: &#123; value () &#123; this.updateModel(); &#125; &#125;&#125;&lt;/script&gt; æ³¨æ„æ³¨æ„æ³¨æ„ è¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸éå¸¸éå¸¸é‡è¦çš„ç‚¹ï¼Œå°±æ˜¯è¿™ä¸ªwatché‡Œé¢è¿™ä¸ªvalueç›‘å¬è§¦å‘updateModelæ–¹æ³•ï¼Œä½ å¯ä»¥å°è¯•å»æ‰è¿™ä¸ªwatchæ˜¯ä»€ä¹ˆç»“æœã€‚æˆ‘å°±åœ¨è¿™é‡Œå¡äº†å¥½ä¹…ã€‚æ¥è§£é‡Šä¸€ä¸‹åŸå› ï¼šæ¥ä¸€èµ·æƒ³ä¸€ä¸‹ï¼Œå­ç»„ä»¶(ButtonSelect)çš„modelæ˜¯ä»–çˆ¹(ButtonSelectGruop)ç»™çš„ï¼Œæ¯æ¬¡æˆ‘ç‚¹å‡»äº† ButtonSelectä¼šé€šè¿‡this.parent.change(this.model) æ¥å‘Šè¯‰çˆ¶ç»„ä»¶å»æ›´æ–°ä½¿ç”¨çš„HelloWordé‡Œçš„ selectï¼Œå¥½äº†æ­¤æ—¶æ­¤åˆ»æˆ‘å·²ç»æ›´æ–°å®Œäº†HelloWordé‡Œçš„ v-model(select),ä½†æ˜¯æ³¨æ„å­ç»„ä»¶ï¼ˆButtonSelectï¼‰çš„v-modelæ˜¯é€šè¿‡ çˆ¶ç»„ä»¶ ï¼ˆButtonSelectGroupï¼‰èµ‹å€¼è¿‡æ¥äº†ï¼Œå¹¶ä¸èƒ½ç›´æ¥æ›´æ”¹ï¼Œæ‰€ä»¥ButtonSelectGruopå¦‚æœä¸åŠ  watchçš„valueç›‘å¬çš„è¯ï¼Œå­ç»„ä»¶çš„v-modelæ°¸è¿œæ˜¯[]ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ButtonSelect changeçš„æ—¶å€™æ‰“å°ä¸€ä¸‹ï¼Œæ¯æ¬¡æ•°ç»„ä¸€å®šæ˜¯ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥è¦ç”¨è¿‡watchç›‘å¬ï¼Œæ¯ä¸€æ¬¡HelloWordçš„v-modelå˜åŠ¨ï¼Œéƒ½è¦é‡æ–°ç»™ButtonSelectèµ‹å€¼ä¸€æ¬¡ï¼Œè¿™æ ·æ‰èƒ½è¾¾åˆ°é¢„æœŸç›®çš„ ä¸åŠ watchçš„æ ·å­ï¼š ä¸åŠ watch åŠ watchçš„æ ·å­ï¼š åŠ watch äº”ã€æ€»ç»“ä¸Šé¢ä»€ä¹ˆinputäº‹ä»¶ã€é»˜è®¤valueä»€ä¹ˆçš„éƒ½è¿˜å¥½ç†è§£ï¼Œæœ€æœ€æœ€é‡è¦çš„ç‚¹å°±æ˜¯ä¸Šé¢è¯´çš„watchæ¥ç›‘å¬valueï¼Œå¬æˆ‘è¿™ä¹ˆè¯´å¯èƒ½äº‘é‡Œé›¾é‡Œï¼Œéœ€è¦è‡ªå·±åŠ¨æ‰‹å®è·µä¸€ä¸‹ï¼Œæ‰èƒ½æ˜ç™½å…¶ä¸­çš„æ„æ€","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"pythonæ ¼å¼åŒ–å­—ç¬¦","slug":"pythonæ ¼å¼åŒ–å­—ç¬¦","date":"2018-08-09T03:38:07.000Z","updated":"2021-01-25T10:48:26.378Z","comments":true,"path":"2018/08/09/pythonæ ¼å¼åŒ–å­—ç¬¦/","link":"","permalink":"http://yoursite.com/2018/08/09/pythonæ ¼å¼åŒ–å­—ç¬¦/","excerpt":"","text":"ä¸€ã€å‰è¨€æœ¬æ–‡æ˜¯æˆ‘åˆå­¦pythonå¯¹æ ¼å¼åŒ–å­—ç¬¦æ“ä½œä¸­çš„ä¸€äº›ç›¸å¯¹ç–‘éš¾é—®é¢˜çš„è®°å½•å’Œç†è§£ äºŒã€pythonä¸­æ ¼å¼åŒ–æ–¹æ³•format1.ç®€å•ç”¨æ³•å¯¹äºformatæœ€ç®€å•çš„ç”¨æ³•å°±æ˜¯è¿™æ ·äº†123name='YMBo'age=18print '&#123;0&#125; is &#123;1&#125; years old'.format(name,age) è¾“å‡ºä¸º YMBo is 18 years old å¯¹äºè¿™ç§å­—ç¬¦ä¸²æ‹¼æ¥ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹å¼ï¼š123name='YMBo'age=18print name+' and '+str(age) æ³¨æ„ï¼è¿™ç§æ–¹å¼çš„å­—ç¬¦ä¸²æ‹¼æ¥ç±»å‹éƒ½è¦ä¸º strï¼Œæ‰€ä»¥ageè¿™ä¸€é¡¹è¦è½¬ä¸ºstrï¼Œè€Œformatè¿™ä¸­æ–¹å¼å°±ä¸ç”¨ 2.å¤æ‚ç”¨æ³•123name='YMBo'print('lalallala :&#123;0:3&#125;'.format(name))# &#123;0:3&#125; 0ï¼šè¿™é‡Œçš„ 0 è¡¨ç¤ºç¬¬å‡ ä¸ªå‚æ•°ï¼Œè¿™é‡Œåªæœ‰ä¸€ä¸ªæ‰€ä»¥æ˜¯ 0 3ï¼šè¿™ä¸ª3è¡¨ç¤ºè¾“å‡ºå®½åº¦ï¼Œå¦‚æœè¾“å‡ºå®½åº¦å°äºå­—ç¬¦ä¸²å®½åº¦åˆ™æœ€åè¾“å‡ºå®½åº¦ä¸ºå­—ç¬¦ä¸²å®½åº¦ 123name='YMBo'print('lalallala :&#123;0:^3&#125;'.format(name))# &#123;0:^3&#125; è¿™é‡Œå¤šäº†ä¸ª ^è¡¨ç¤ºå³å¯¹é½ 12print('lalallala :&#123;0:.3f&#125;'.format(1.0/3))# &#123;0:.3f&#125; 0è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•° ï¼šåé¢æ²¡æœ‰æ•°å­—è¡¨ç¤ºå®½åº¦åˆ™è‡ªåŠ¨åˆ†é… .3è¡¨ç¤ºå°æ•°ç‚¹å3ä½ fè¡¨ç¤ºæŒ‰ç…§æµ®ç‚¹æ•°è¾“å‡º 12print(' :&#123;0:_^100.3f&#125;'.format(1.0/3))# &#123;0:.3f&#125; è¿™é‡Œçš„ä¸‹æ»‘çº¿æ˜¯å¡«å……æ–‡æœ¬ æ€»ç»“å¯¹æ¯”ä¸€ä¸‹ï¼Œpythonå­—ç¬¦ä¸²æ ¼å¼åŒ–æ“ä½œå’ŒJavaScriptå¾ˆç›¸ä¼¼çš„éƒ½æœ‰ä¸¤ç§æ–¹å¼1.å­—ç¬¦ä¸²å’Œå˜é‡++++è¿™ç§æ“ä½œï¼Œä½†æ˜¯pythonéœ€è¦å°†ä¸æ˜¯strç±»å‹çš„å˜é‡è½¬ä¸ºstrç±»å‹ï¼Œè€Œjsä¸ç”¨2.pythonä¸­â€™{}â€™.format()ï¼Œjsä¸­`${}`è¿™ç§æ“ä½œ","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://yoursite.com/tags/python/"}]},{"title":"webpacké…ç½®ä»£ç åˆ†å‰²","slug":"webpacké…ç½®ä»£ç åˆ†å‰²","date":"2018-05-21T10:05:27.000Z","updated":"2021-01-25T10:48:26.380Z","comments":true,"path":"2018/05/21/webpacké…ç½®ä»£ç åˆ†å‰²/","link":"","permalink":"http://yoursite.com/2018/05/21/webpacké…ç½®ä»£ç åˆ†å‰²/","excerpt":"","text":"ä¸€ã€å‰è¨€webpack 4.0 ä½¿ç”¨ optimization.splitChunks.cacheGroups é…ç½®é¡¹æ¥è¿›è¡ŒåŒ…çš„æ‹†åˆ†ï¼Œå…¶å®é»˜è®¤æƒ…å†µä¸‹ï¼Œwebpackæ˜¯ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ†å‰²çš„ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¹Ÿéœ€è¦è‡ªå®šä¹‰é…ç½®ï¼Œä¸‹é¢æ¥è¯´ä¸‹æˆ‘å¯¹è¿™ä¸ªé…ç½®é¡¹çš„ç†è§£ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œçƒ¦è¯·æŒ‡å‡º äºŒã€é…ç½®é¡¹è¯´æ˜ cacheGroups ç”¨è¿™ä¸ªé…ç½®é¡¹æ¥è‡ªå®šä¹‰ç”Ÿæˆçš„æ–‡ä»¶ test é™åˆ¶èŒƒå›´ï¼Œå¯ä»¥æ˜¯æ­£åˆ™ï¼ŒåŒ¹é…æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶ name ç”Ÿæˆçš„æ–‡ä»¶å priority ä¼˜å…ˆçº§ï¼Œå½“æœ‰chunksæ»¡è¶³å¤šä¸ªåˆ†ç»„æ¡ä»¶çš„æ—¶å€™ï¼Œä¼˜å…ˆé€‰æ‹©ä¼˜å…ˆçº§é«˜çš„ minSize åˆ†å‡ºæ¥çš„åŒ…æœ€å°å°ºå¯¸å¿…é¡»å¤§äºæ­¤å€¼ï¼Œé»˜è®¤30000B minChunks è¡¨ç¤ºåˆ†ç¦»å‰è¢«å¼•ç”¨æ¬¡æ•°,é»˜è®¤ä¸º1 maxInitialRequests æœ€å¤§åˆå§‹åŒ–åŠ è½½æ¬¡æ•°ï¼Œä¸€ä¸ªå…¥å£æ–‡ä»¶å¯ä»¥å¹¶è¡ŒåŠ è½½çš„æœ€å¤§æ–‡ä»¶æ•°é‡ï¼Œé»˜è®¤1 maxAsyncRequests æœ€å¤§æŒ‰éœ€åŠ è½½æ¬¡æ•°ï¼Œæœ€å¤§å¼‚æ­¥åŠ è½½æ¬¡æ•°ï¼Œé»˜è®¤1 enforce: true ä¼˜å…ˆå¤„ç†ï¼Œè¿™ä¸€é¡¹å¥½åƒå’Œpriorityæœ‰äº›é‡å äº† reuseExistingChunk:true è¡¨ç¤ºå¯ä»¥ä½¿ç”¨å·²ç»å­˜åœ¨çš„å—ï¼Œå³å¦‚æœæ»¡è¶³æ¡ä»¶çš„å—å·²ç»å­˜åœ¨å°±æ˜¯ç”¨å·±æœ‰çš„çš„ï¼Œä¸å†åˆ›å»ºä¸€ä¸ªæ–°çš„å— chunks å€¼ä¸ºâ€initialâ€, â€œasyncâ€ï¼ˆé»˜è®¤ï¼‰ æˆ– â€œallâ€ initial å…¥å£chunkï¼Œå¯¹äºå¼‚æ­¥å¯¼å…¥çš„æ–‡ä»¶ä¸å¤„ç† async å¼‚æ­¥chunkï¼Œåªå¯¹å¼‚æ­¥å¯¼å…¥çš„æ–‡ä»¶å¤„ç† all å…¨éƒ¨chunk 12.1234567891011121314151617181920runtimeChunk: &#123; name: 'manifest' /* ç®¡ç†è¢«åˆ†å‡ºæ¥çš„åŒ…ï¼Œruntime æŒ‡çš„æ˜¯ webpack çš„è¿è¡Œç¯å¢ƒ(å…·ä½“ä½œç”¨å°±æ˜¯æ¨¡å—è§£æ, åŠ è½½) å’Œ æ¨¡å—ä¿¡æ¯æ¸…å•ï¼Œ æ¨¡å—ä¿¡æ¯æ¸…å•åœ¨æ¯æ¬¡æœ‰æ¨¡å—å˜æ›´(hash å˜æ›´)æ—¶éƒ½ä¼šå˜æ›´ */&#125;,cacheGroups:&#123;//è®¾ç½®ç¼“å­˜chunks priority: 0,//ç¼“å­˜ç»„ä¼˜å…ˆçº§ //å½“éœ€è¦ä¼˜å…ˆåŒ¹é…ç¼“å­˜ç»„çš„è§„åˆ™æ—¶ï¼Œpriorityéœ€è¦è®¾ç½®ä¸ºæ­£æ•°ï¼Œå½“éœ€è¦ä¼˜å…ˆåŒ¹é…é»˜è®¤è®¾ç½®æ—¶ï¼Œç¼“å­˜ç»„éœ€è®¾ç½®ä¸ºè´Ÿæ•°ï¼Œ0ä¸ºä¸¤è€…åˆ†å‰²çº¿ default:&#123;//è®¾ç½®ç¼“å­˜ç»„é»˜è®¤é…ç½®ï¼Œå¯é€šè¿‡default:falseç¦ç”¨é»˜è®¤ç¼“å­˜ç»„ï¼Œ //ç„¶åå°±å¯ä»¥è‡ªå®šä¹‰ç¼“å­˜ç»„ï¼Œå°†åˆå§‹åŒ–åŠ è½½æ—¶è¢«é‡å¤å¼•ç”¨çš„æ¨¡å—è¿›è¡Œæ‹†åˆ† minChunks:2,//å¼•ç”¨ä¸¤æ¬¡ priority:-20,//ç¼“å­˜ç»„ä¼˜å…ˆçº§ä¸º-20 reuseExistingChunk:true,//è¡¨ç¤ºå¯ä»¥ä½¿ç”¨å·²ç»å­˜åœ¨çš„å—ï¼Œå³å¦‚æœæ»¡è¶³æ¡ä»¶çš„å—å·²ç»å­˜åœ¨å°±æ˜¯ç”¨å·±æœ‰çš„çš„ï¼Œä¸å†åˆ›å»ºä¸€ä¸ªæ–°çš„å— &#125;ï¼Œ [key]:&#123;//è‡ªå®šä¹‰ç¼“å­˜ç»„ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚ï¼Œè‡ªç”±åˆ›å»º chunks:'initial', test: /vue/,//æ­£åˆ™è§„åˆ™éªŒè¯ï¼Œå¦‚ç¬¦åˆå°±æå–chunkæ”¾å…¥å½“å‰ç¼“å­˜ç»„ï¼Œå€¼å¯ä»¥æ˜¯functionã€booleanã€stringã€RegExpï¼Œé»˜è®¤ä¸ºç©º enforce: true//ä¼˜å…ˆå¤„ç† &#125;&#125; ä¸‰ã€ç–‘éš¾é…ç½®é¡¹ maxInitialRequests :è¿™ä¸ªé…ç½®é¡¹æˆ‘ä¸€ç›´å¾ˆä¸ç†è§£ï¼Œç½‘ä¸Šçš„å¾ˆå¤šèµ„æºéƒ½æ˜¯åƒç¯‡ä¸€å¾‹ï¼Œæœ‰ç”¨çš„åŸºæœ¬æ²¡æœ‰ï¼Œåæ¥æˆ‘å‘ç°äº†è¿™ç¯‡æ–‡ç«  å…³äºwebpackæ¨¡å—æ‹†åˆ†è§„åˆ™ è®©æˆ‘æœ‰å¯¹è¿™ä¸ªé…ç½®é¡¹æœ‰äº†ç‚¹æµ…æ˜¾çš„äº†è§£ ç°åœ¨è¯´è¯´æˆ‘çš„ç†è§£ï¼Œä¸¾ä¸ªå°ä¾‹å­ï¼šè¿™æ˜¯ä¸€ä¸ªå¤šé¡µåº”ç”¨ï¼Œindex.jså’Œshop.jsæ˜¯å…¥å£æ–‡ä»¶æˆ‘çš„ç›®å½•ç»“æ„ï¼š ç›®å½•ç»“æ„ ï¼› è¿™æ˜¯webpackåˆ†å‰²ä»£ç 1234567891011121314151617181920212223runtimeChunk: &#123; name: 'manifest'&#125;,splitChunks: &#123; cacheGroups: &#123; //é¡¹ç›®å…¬å…±ç»„ä»¶ common: &#123; chunks: 'initial', name: 'common', minChunks: 2, maxInitialRequests: 3, //æœ€å¤§åˆå§‹åŒ–åŠ è½½æ¬¡æ•°ï¼Œä¸€ä¸ªå…¥å£æ–‡ä»¶å¯ä»¥å¹¶è¡ŒåŠ è½½çš„æœ€å¤§æ–‡ä»¶æ•°é‡ï¼Œé»˜è®¤1 minSize: 0 //è¡¨ç¤ºåœ¨åˆ†ç¦»å‰çš„æœ€å°æ¨¡å—å¤§å°ï¼Œé»˜è®¤ä¸º0ï¼Œæœ€å°ä¸º30000 &#125;, //ç¬¬ä¸‰æ–¹ç»„ä»¶ vendor: &#123; test: /node_modules/, chunks: \"initial\", name: \"vendor\", priority: 10, enforce: true &#125; &#125;&#125; ç°åœ¨å…ˆåˆ«æ€¥ç€çœ‹åˆ†åŒ…ç»“æœï¼Œå…ˆæ¥åˆ†æä¸€ä¸‹ï¼šå…¶ä¸­é™¤äº†Reactã€ReactDOMæ˜¯ç¬¬ä¸‰æ–¹åŒ…ä»¥å¤–å‰©ä¸‹çš„éƒ½æ˜¯è‡ªå®šä¹‰ç»„ä»¶ index.js(å…¥å£æ–‡ä»¶)ï¼šReactã€ReactDomã€index.jsx(indexç›®å½•ä¸‹)shop.js(å…¥å£æ–‡ä»¶)ï¼šReactã€ReactDomã€index.jsx(shopç›®å½•ä¸‹)index.jsx(shopç›®å½•ä¸‹)ï¼šReactã€Header.jsxã€A.jsxã€B.jsxã€shop.cssindex.jsx(indexç›®å½•ä¸‹)ï¼šReactã€A.jsxã€index.cssA.jsxï¼šReactã€Common.cssB.jsxï¼šReactã€b.cssã€common.cssé‚£ä¹ˆç”»å‡ºçš„ä¾èµ–å›¾å°±æ˜¯è¿™ä¸ªæ ·å­ï¼š ç›®å½•ç»“æ„ è¿™é‡Œæ¥è‡ª node_modules çš„åŒ…è‚¯å®šæ˜¯è¢«æ‰“åŒ…åˆ° vender é‡Œäº†ï¼Œä¸ç”¨ç®¡è¿™ä¸ªï¼Œä¸»è¦æ˜¯çœ‹ common è¿™ä¸ªåŒ…çš„ä¿¡æ¯ æš‚ä¸”å¿½ç•¥æ‰maxInitialRequestsè¿™ä¸ªé…ç½®ï¼ˆå½“ç„¶ä»£ç é‡Œæ˜¯ä¸èƒ½å¿½ç•¥çš„å› ä¸ºæœ‰é»˜è®¤å€¼ï¼Œæƒ³è±¡è¿™ä¸€é¡¹ä¸èµ·ä½œç”¨å°±è¡Œäº†ï¼‰ï¼Œå¦‚æœæŒ‰ç…§ä½¿ç”¨æ¬¡æ•°è¶…è¿‡2æ¬¡ï¼Œå¤§å°è¶…è¿‡0çš„åŒ…ï¼Œæ‰“åŒ…åˆ°ä¸€èµ·ï¼Œé‚£ä¹ˆç»“æœæ˜¯è¿™æ ·çš„ï¼š Commonï¼ˆchunksï¼‰ï¼šA.jsxã€Common.cssvenderï¼ˆchunksï¼‰ï¼šç¬¬ä¸‰æ–¹shop.jsï¼ˆchunksï¼‰ï¼šHeader.jsxã€B.jsxã€b.cssã€shop.cssindex.jsï¼ˆchunksï¼‰ï¼šindex.css é‚£ä¹ˆæ­¤æ—¶çš„maxInitialRequestsï¼ˆåˆå§‹åŠ è½½æ¬¡æ•°ï¼‰æ˜¯ï¼šshopé¡µå…¥å£ï¼šshop.jsã€venderã€Common ä¸€å…±ä¸‰æ¬¡ indexé¡µå…¥å£ï¼šindex.jsã€vender(chunks)ã€Common ä¸€å…±ä¸‰æ¬¡ å¦‚æœæ­¤æ—¶æˆ‘é™åˆ¶äº† maxInitialRequestsï¼š2 ä¸º2çš„è¯ï¼Œé‚£ä¹ˆç»“æœæ˜¯è¿™æ ·çš„ venderï¼ˆchunksï¼‰ï¼šç¬¬ä¸‰æ–¹shop.jsï¼ˆchunksï¼‰ï¼šHeader.jsxã€B.jsxã€b.cssã€shop.cssã€A.jsxã€Common.cssindex.jsï¼ˆchunksï¼‰ï¼šindex.cssã€A.jsxã€Common.css shopé¡µå…¥å£ï¼šshop.jsã€vender ä¸€å…±ä¸¤æ¬¡ indexé¡µå…¥å£ï¼šindex.jsã€venderä¸€å…±ä¸¤æ¬¡çœ‹æˆªå›¾ï¼š maxInitialRequestsï¼š2çš„æƒ…å†µ maxInitialRequestsï¼š3æˆ–å¤§äºä¸‰çš„æƒ…å†µ å¯ä»¥çœ‹åˆ°ä»¥ä¸Šçš„åˆ†ææ˜¯æ­£ç¡®çš„ å››ã€æ€»ç»“ä¸è¿‡è¯è¯´ä¼šæ¥ï¼Œå¦‚æœæ¯æ¬¡é…ç½®wepbackçš„è¿™ä¸€é¡¹éƒ½æŒ‰è¿™ä¹ˆåˆ†æï¼Œé‚£å¾—ç´¯æ­»ï¼Œå¯ä»¥è¿™ä¹ˆåˆ†æï¼Œæ¯æ¬¡é¡µé¢åˆå§‹åŠ è½½æˆ‘æƒ³è®©å®ƒçš„å¹¶å‘è¯·æ±‚ä¸è¶…è¿‡è‡ªå·±çš„é¢„æœŸå°±å¯ä»¥äº†","categories":[],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"}]},{"title":"webpack4.0ä¸­çš„modeå’Œ.babelrcçš„env.developmenté…ç½®é¡¹ç›®","slug":"webpack4-0ä¸­çš„modeå’Œ-babelrcçš„env-developmenté…ç½®é¡¹ç›®","date":"2018-04-12T06:29:57.000Z","updated":"2021-01-25T10:48:26.379Z","comments":true,"path":"2018/04/12/webpack4-0ä¸­çš„modeå’Œ-babelrcçš„env-developmenté…ç½®é¡¹ç›®/","link":"","permalink":"http://yoursite.com/2018/04/12/webpack4-0ä¸­çš„modeå’Œ-babelrcçš„env-developmenté…ç½®é¡¹ç›®/","excerpt":"","text":"ä¸€ã€å‰è¨€ä¹‹å‰å†™è¿‡æ€ä¹ˆåœ¨webpackä¸­ä½¿ç”¨react-hot-loaderåšçƒ­æ›´æ–°åŠŸèƒ½ï¼Œä¸å¾—ä¸è¯´æ˜¯çœŸçš„éå¸¸éº»çƒ¦ï¼Œä»Šå¤©å‘ç°äº†æ›´å¥½ç”¨çš„åŠæ³•æ¥è®°å½•ä¸€ä¸‹ 1.è¿™ç¯‡æ–‡ç« è®²çš„ä»€ä¹ˆï¼Ÿ1.æ›´ç®€å•çš„é…ç½® çƒ­æ›´æ–°çš„æ–¹æ³•2.webpack4.0çš„modeé…ç½®é¡¹æœ‰å•¥ç”¨ï¼Ÿ3.babelrcä¸­çš„env.developmentæ˜¯å¹²å•¥çš„ï¼Ÿ äºŒã€çƒ­æ›´æ–°æ³¨æ„ï¼Œæœ¬éƒ¨åˆ†ç€é‡è®²è§£çš„æ˜¯çƒ­æ›´æ–°ï¼Œè‡³äºä¸Šé¢æåˆ°çš„2å’Œ3æ”¾åœ¨ä¸‹ä¸ªéƒ¨åˆ†webpack.config.jsçš„ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657const webpack=require('webpack')const opn=require('opn')const merge=require('webpack-merge')const path=require('path')const baseWebpackConfig=require('./webpack.base.config')const webpackFile=require('./webpack.file.config')const htmlWebpackPlugin=require('html-webpack-plugin')let config=merge(baseWebpackConfig,&#123; mode:'development', output:&#123; path:path.join(webpackFile.devDirectory), filename:'js[name].[hash].js', publicPath:'' &#125;, plugins:[ /*çƒ­æ›´æ–°*/ new webpack.HotModuleReplacementPlugin(), new htmlWebpackPlugin(&#123; template:path.join(__dirname,'../template/index.html') &#125;) ], module:&#123; rules:[ &#123; test:/\\.(js|jsx)$/, use:'babel-loader', include:[ path.join(__dirname,'../client') ], exclude:path.join(__dirname,'../node_modules') &#125; ] &#125;, devServer:&#123; host:'0.0.0.0', port:'8888', hot:true, overlay:&#123; errors:true &#125;, contentBase:path.join(__dirname,webpackFile.devDirectory), historyApiFallback: true, proxy:[ &#123; context:['/api'], target:'localhost:8888', secure: false &#125; ], /*æ‰“å¼€æµè§ˆå™¨*/ after()&#123; opn('http://localhost:'+this.port) &#125; &#125;&#125;)module.exports=config; .babelrc 123456789&#123; \"presets\":['react','env'], \"env\":&#123; /*å¼€å‘ç¯å¢ƒä¸‹æ‰§è¡Œ*/ \"development\":&#123; \"presets\":[\"react-hmre\"] &#125; &#125; &#125; package.jsonæ–‡ä»¶çš„å¯åŠ¨å‘½ä»¤1\"dev\": \"webpack-dev-server --config build/webpack.dev.config.js\" ç°åœ¨é…ç½®çƒ­æ›¿æ¢ä»…éœ€ä¸‰ä¸ªæ­¥éª¤ webpackä¸­devServer.hot=true webpackä¸­pluginsæ·»åŠ new webpack.HotModuleReplacementPlugin() â€˜.babelrcâ€™æ–‡ä»¶ä¸­ä½¿ç”¨ react-hmre ï¼ˆnpm i babel-presets-react-hmreï¼‰é¢„è®¾ é…ç½®å®Œæˆæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿçœ‹çœ‹æ‰§è¡Œç»“æœ hmr ä¸‰ã€webpack4.0çš„modeé…ç½®é¡¹æœ‰å•¥ç”¨ï¼Ÿmodeé…ç½®é¡¹ä¼šå‘Šè¯‰webpackä½¿ç”¨ç›¸åº”çš„å†…ç½®ä¼˜åŒ– webpackè¿è¡Œæ—¶è¿˜ä¼šæ ¹æ®modeè®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡process.env.NODE_ENV,è¿™é‡Œçš„process.env.NODE_ENVä¸æ˜¯nodeä¸­çš„ç¯å¢ƒå˜é‡,è€Œæ˜¯webpack.DefinePluginä¸­å®šä¹‰çš„å…¨å±€å˜é‡,å…è®¸ä½ æ ¹æ®ä¸åŒçš„ç¯å¢ƒæ‰§è¡Œä¸åŒçš„ä»£ç . å‚æ•°ï¼š é€‰é¡¹ æè¿° development Provides process.env.NODE_ENV with value development. Enables NamedChunksPlugin and NamedModulesPlugin. production Provides process.env.NODE_ENV with value production. Enables FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin and UglifyJsPlugin. ä»ç½‘ä¸Šæ‰¾åˆ°äº†æ›´è¯¦ç»†çš„ä¼˜åŒ–è¯´æ˜åˆ—å‡ºäº†é’ˆå¯¹è¿™ä¸¤ç§æƒ…å†µåšçš„å¯¹åº”ä¼˜åŒ–development1234567891011121314151617181920//è°ƒè¯•devtool:eval//ç¼“å­˜æ¨¡å—, é¿å…åœ¨æœªæ›´æ”¹æ—¶é‡å»ºå®ƒä»¬ã€‚cache:true//ç¼“å­˜å·²è§£å†³çš„ä¾èµ–é¡¹, é¿å…é‡æ–°è§£æå®ƒä»¬ã€‚module.unsafeCache:true//åœ¨ bundle ä¸­å¼•å…¥ã€Œæ‰€åŒ…å«æ¨¡å—ä¿¡æ¯ã€çš„ç›¸å…³æ³¨é‡Šoutput.pathinfo:true//åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ç¡®å®šæ¯ä¸ªæ¨¡å—çš„å¯¼å‡º,è¢«ç”¨äºå…¶ä»–ä¼˜åŒ–æˆ–ä»£ç ç”Ÿæˆã€‚optimization.providedExports:true//æ‰¾åˆ°chunkä¸­å…±äº«çš„æ¨¡å—,å–å‡ºæ¥ç”Ÿæˆå•ç‹¬çš„chunkoptimization.splitChunks:true//ä¸º webpack è¿è¡Œæ—¶ä»£ç åˆ›å»ºå•ç‹¬çš„chunkoptimization.runtimeChunk:true//ç¼–è¯‘é”™è¯¯æ—¶ä¸å†™å…¥åˆ°è¾“å‡ºoptimization.noEmitOnErrors:true//ç»™æ¨¡å—æœ‰æ„ä¹‰çš„åç§°ä»£æ›¿idsoptimization.namedModules:true//ç»™æ¨¡chunkæœ‰æ„ä¹‰çš„åç§°ä»£æ›¿idsoptimization.namedChunks:true production1234567891011121314//æ€§èƒ½ç›¸å…³é…ç½®performance:&#123;hints:\"error\"....&#125;//æŸäº›chunkçš„å­chunkå·²ä¸€ç§æ–¹å¼è¢«ç¡®å®šå’Œæ ‡è®°,è¿™äº›å­chunksåœ¨åŠ è½½æ›´å¤§çš„å—æ—¶ä¸å¿…åŠ è½½optimization.flagIncludedChunks:true//ç»™ç»å¸¸ä½¿ç”¨çš„idsæ›´çŸ­çš„å€¼optimization.occurrenceOrder:true//ç¡®å®šæ¯ä¸ªæ¨¡å—ä¸‹è¢«ä½¿ç”¨çš„å¯¼å‡ºoptimization.usedExports:true//è¯†åˆ«package.json or rules sideEffects æ ‡å¿—optimization.sideEffects:true//å°è¯•æŸ¥æ‰¾æ¨¡å—å›¾ä¸­å¯ä»¥å®‰å…¨è¿æ¥åˆ°å•ä¸ªæ¨¡å—ä¸­çš„æ®µã€‚- -optimization.concatenateModules:true//ä½¿ç”¨uglify-jså‹ç¼©ä»£ç optimization.minimize:true ä¾‹å¦‚: 12345if(process.env.NODE_ENV === 'development')&#123; //å¼€å‘ç¯å¢ƒ do something&#125;else&#123; //ç”Ÿäº§ç¯å¢ƒ do something&#125; æœ€ç»ˆå°†ç¼–è¯‘æˆ 12345if(true)&#123; //å¼€å‘ç¯å¢ƒ do something&#125;else&#123; //ç”Ÿäº§ç¯å¢ƒ do something&#125; ç”Ÿäº§ç¯å¢ƒä¸‹,uglifyæ‰“åŒ…ä»£ç æ—¶ä¼šè‡ªåŠ¨åˆ é™¤ä¸å¯è¾¾ä»£ç ,ä¹Ÿå°±æ˜¯è¯´ç”Ÿäº§ç¯å¢ƒå‹ç¼©åæœ€ç»ˆçš„ä»£ç ä¸º:1//ç”Ÿäº§ç¯å¢ƒ do something å››ã€babelrcä¸­çš„env.developmentæ˜¯å¹²å•¥çš„ï¼Ÿenvé€‰é¡¹å¯ä»¥é’ˆå¯¹ç‰¹å®šç¯å¢ƒè¿›è¡Œè®¾ç½®ã€‚æ­¤envå€¼ä¼šä»process.env.BABEL_ENVä¸­è·å–ï¼›å¦‚æœè¯¥å€¼ä¸å­˜åœ¨ï¼Œä¼šä½¿ç”¨process.env.NODE_ENVï¼›äºŒè€…éƒ½ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤å€¼â€developmentâ€ã€‚ å¯åŠ¨å‘½ä»¤è®¾ç½®process.env.BABEL_ENV1\"dev\": \"cross-env BABEL_ENV=development webpack-dev-server --config build/webpack.dev.config.js\" 123456789&#123; \"presets\":['react','env'], \"env\":&#123; /*å¼€å‘ç¯å¢ƒä¸‹æ‰§è¡Œ*/ \"development\":&#123; \"presets\":[\"react-hmre\"] &#125; &#125; &#125; è¿™æ ·å°±ä¼šæ‰§è¡Œâ€developmentâ€ä¸‹é…ç½®çš„å†…å®¹","categories":[],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"}]},{"title":"reactç”Ÿå‘½å‘¨æœŸè¯¦è§£","slug":"reactç”Ÿå‘½å‘¨æœŸè¯¦è§£","date":"2018-03-27T09:11:54.000Z","updated":"2021-01-25T10:48:26.379Z","comments":true,"path":"2018/03/27/reactç”Ÿå‘½å‘¨æœŸè¯¦è§£/","link":"","permalink":"http://yoursite.com/2018/03/27/reactç”Ÿå‘½å‘¨æœŸè¯¦è§£/","excerpt":"","text":"ä¸€ã€reactç”Ÿå‘½å‘¨æœŸ componentWillMount componentDidMount componentWillReceiveProps shouldComponentUpdate componentWillUpdate componentDidUpdate componentUnmountæ¯ä¸ªç”Ÿå‘½å‘¨æœŸæ¦‚å¿µä¸æ˜¯æœ¬æ–‡è®²è§£é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯ç”Ÿå‘½å‘¨æœŸåœ¨ç»„ä»¶æ¸²æŸ“æ—¶å€™å®¹æ˜“é€ æˆçš„æ··æ·† äºŒã€componentWillReceiveProps å’Œ componentWillUpdate ï¼Ÿï¼ŸcomponentWillReceiveProps ï¼š ç»„ä»¶æ¥æ”¶åˆ°ä¸€ä¸ªæ–°çš„propsä¼šè¢«è°ƒç”¨ï¼Œåœ¨åˆå§‹åŒ–renderæ—¶ä¸ä¼šè°ƒç”¨componentWillUpdate : ç»„ä»¶æ¥æ”¶åˆ°ç³»çš„propsæˆ–stateæ—¶è¢«è°ƒç”¨ï¼Œåˆå§‹åŒ–ä¸ä¼šè¢«è°ƒç”¨ çœ‹èµ·æ¥å¥½åƒä¸€æ ·å•Šï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæ¥çœ‹ä¸‹é¢ 1.æ¥åšæµ‹è¯•å…ˆå®šä¹‰ä¸¤ä¸ªç»„ä»¶ï¼ŒAppå’ŒSonï¼Œæˆ‘ä»¬çš„ç›®çš„å°±æ˜¯çœ‹çœ‹ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä¸åŒï¼Œæ‰€ä»¥è¿™ä¸€éƒ¨åˆ†æš‚ä¸è®¨è®ºæ¯ä¸ªç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåºï¼Œç•™åœ¨ä¸‹ä¸€èŠ‚è®¨è®ºã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091class App extends Component&#123; constructor()&#123; super() this.state=&#123; word:'å„¿å­' &#125; &#125; componentWillMount()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillMount') &#125; componentDidMount()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidMount') &#125; componentWillReceiveProps(nextprops)&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillReceiveProps') &#125; shouldComponentUpdate()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šshouldComponentUpdate') return true; &#125; componentWillUpdate(nextprops,nextstates)&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUpdate') &#125; componentDidUpdate()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidUpdate') &#125; componentWillUnmount()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUnmount') &#125; handleClick(word)&#123; this.setState(&#123; word:this.state.word ==='å„¿å­' ? 'å­™å­':'å„¿å­' &#125;) &#125; render()&#123; console.log('ä»–çˆ¹render') return( &lt;div&gt; &lt;button onClick=&#123;this.handleClick.bind(this)&#125;&gt;Appç‚¹æˆ‘&lt;/button&gt; &lt;Son word=&#123;this.state.word&#125; /&gt; &lt;/div&gt; ) &#125;&#125;class Son extends Component&#123; constructor()&#123; super() this.state=&#123; word:'' &#125; &#125; componentWillMount()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillMount') this.setState(&#123; word:this.props.word &#125;) &#125; componentDidMount()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidMount') &#125; componentWillReceiveProps(nextprops)&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillReceiveProps') &#125; shouldComponentUpdate()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šshouldComponentUpdate') return true; &#125; componentWillUpdate(nextprops,nextstates)&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUpdate') &#125; componentDidUpdate()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidUpdate') &#125; componentWillUnmount()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUnmount') &#125; handleClick()&#123; this.setState(&#123; word:this.state.word ==='å„¿å­' ? 'å­™å­':'å„¿å­' &#125;) &#125; render()&#123; console.log('å„¿å­ï¼šrender') return( &lt;div&gt; &#123;this.state.word&#125; &lt;button onClick=&#123;this.handleClick.bind(this)&#125;&gt;å„¿å­æŒ‰é’®&lt;/button&gt; &lt;/div&gt; ) &#125;&#125; é€»è¾‘å¾ˆç®€å•ï¼Œçˆ¶ç»„ä»¶å’Œå­ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡å„è‡ªçš„æŒ‰é’®æ”¹å˜å­ç»„ä»¶æ–‡å­—çš„å†…å®¹ å…ˆç‚¹å‡» å„¿å­æŒ‰é’® æŒ‰é’®ï¼Œä¹Ÿå°±æ˜¯å­ç»„ä»¶Soné‡Œçš„æŒ‰é’® æ‰§è¡Œç»“æœ å¯ä»¥çœ‹åˆ° componentWillReceiveProps æ²¡æœ‰æ‰§è¡Œ ç„¶åç‚¹å‡» APPç‚¹æˆ‘ æŒ‰é’®ï¼šç‚¹ä¹‹å‰ï¼š ç‚¹ä¹‹å‰ ç‚¹ä¹‹åï¼š ç‚¹ä¹‹å å¯ä»¥çœ‹åˆ°å­ç»„ä»¶çš„æ–‡å­—å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæ‰§è¡Œäº†ä¸Šå›¾ä¸­çš„è¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚ æ‰€ä»¥å¯ä»¥å¾—åˆ°ç»“è®ºï¼šcomponentWillReceivePropsè§¦å‘æ¡ä»¶æ˜¯propsæ›´æ–°ï¼Œè€ŒcomponentWillUpdateè§¦å‘æ¡ä»¶æ˜¯propsæˆ–è€…statesæ›´æ–°ï¼Œä¸Šé¢è¯´çš„æ—¶å€™ä¹Ÿç€é‡æ ‡è®°äº† ä¸ºäº†è®©çˆ¶ç»„ä»¶çš„æŒ‰é’®èƒ½æ›´æ”¹å­ç»„ä»¶çš„å†…å®¹ï¼Œæˆ‘éœ€è¦åœ¨componentWillReceivePropsæˆ–componentWillUpdateé‡Œå†™ä¸Š123this.setState(&#123; word:nextprops.word&#125;) å®˜ç½‘ä¸Šè¯´ä¸èƒ½å†™åœ¨componentWillUpdateé‡Œï¼Œå»ºè®®å†™åœ¨componentWillReceivePropsï¼Œæˆ‘å°±ä¸æ˜ç™½äº†ï¼Œæˆ‘éå¾—å†™åœ¨componentWillUpdateé‡Œï¼Œçœ‹çœ‹æ‰§è¡Œç»“æœ æŠ¥é”™ çœ‹ æ­»å¾ªç¯äº†ï¼Œå› ä¸ºä¸Šé¢æåˆ°componentWillUpdateè§¦å‘æ¡ä»¶æ˜¯ states å˜åŒ– å’Œ propså˜åŒ–ï¼Œå†™åœ¨äº†è¿™é‡Œå°±ä¸åœçš„setState statesçš„å€¼ï¼Œæ‰€ä»¥å°±ä¸åœçš„è§¦å‘componentWillUpdateï¼Œå› æ­¤åƒè¿™ç§çˆ¶ç»„ä»¶æ›´æ”¹å­ç»„ä»¶çš„å†…å®¹åº”è¯¥å†™åœ¨ componentWillReceiveProps é‡Œï¼Œæ¥è¯•è¯•ï¼š ojbk å¥½ï¼Œä¸€åˆ‡æ­£å¸¸ï¼ æ€»ç»“ï¼š åç§° componentWillReceiveProps componentWillUpdate è§¦å‘æ¡ä»¶ propså˜åŒ– propsæˆ–stateså˜åŒ– æ³¨æ„äº‹é¡¹ setStateçš„æ›´æ–°è¦å†™åœ¨componentWillReceivePropsé‡Œ ä¸‰ã€ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåºè¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ 1.åˆå§‹åŒ–æ—¶çˆ¶å­ç»„ä»¶çš„å£°æ˜å‘¨æœŸæ‰§è¡Œé¡ºåº ç»“æœ 2.ç‚¹å‡»çˆ¶ç»„ä»¶çš„æŒ‰é’®æ—¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº ç»“æœ 3.ç‚¹å‡»å­ç»„ä»¶æ‰§è¡Œé¡ºåº ç»“æœ 4.è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œç‚¹å‡»å­ç»„ä»¶è§¦å‘çˆ¶ç»„ä»¶å†…å®¹çš„æ›´æ”¹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980class Son extends Component&#123; ponentWillMount()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillMount') &#125; componentDidMount()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidMount') &#125; componentWillReceiveProps(nextprops)&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillReceiveProps') &#125; shouldComponentUpdate()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šshouldComponentUpdate') return true; &#125; componentWillUpdate(nextprops,nextstates)&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUpdate') &#125; componentDidUpdate()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidUpdate') &#125; componentWillUnmount()&#123; console.log('å„¿å­ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUnmount') &#125; handleClick()&#123; var word=this.props.word === 'å„¿å­' ? 'å­™å­':'å„¿å­' this.props.click(word) &#125; render()&#123; console.log('å„¿å­ï¼šrender') return( &lt;div&gt; &lt;button onClick=&#123;this.handleClick.bind(this)&#125;&gt;å„¿å­æŒ‰é’®&lt;/button&gt; &lt;/div&gt; ) &#125;&#125;class App extends Component&#123; constructor()&#123; super() this.state=&#123; word:'å„¿å­' &#125; &#125; componentWillMount()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillMount') &#125; componentDidMount()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidMount') &#125; componentWillReceiveProps(nextprops)&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillReceiveProps') &#125; shouldComponentUpdate()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šshouldComponentUpdate') return true; &#125; componentWillUpdate(nextprops,nextstates)&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUpdate') &#125; componentDidUpdate()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentDidUpdate') &#125; componentWillUnmount()&#123; console.log('ä»–çˆ¹ç”Ÿå‘½å‘¨æœŸï¼šcomponentWillUnmount') &#125; handleClick(word)&#123; this.setState(&#123; word:word &#125;) &#125; render()&#123; console.log('ä»–çˆ¹render') return( &lt;div&gt; &#123;this.state.word&#125; &lt;Son word=&#123;this.state.word&#125; click=&#123;this.handleClick.bind(this)&#125; /&gt; &lt;/div&gt; ) &#125;&#125; ç»“æœ ä¸Šè¿°çš„å‡ ç§æ‰§è¡Œç»“æœä¹Ÿå¾ˆç®€å•ï¼Œçœ‹ä¸€çœ‹å°±ä¼šæ‰§è¡Œé¡ºåºå°±ä¼šå˜å¾—æ¸…æ™°äº†","categories":[],"tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"body-parserä½¿ç”¨æ³¨æ„","slug":"body-parserä½¿ç”¨æ³¨æ„","date":"2018-03-08T07:53:13.000Z","updated":"2021-01-25T10:48:26.375Z","comments":true,"path":"2018/03/08/body-parserä½¿ç”¨æ³¨æ„/","link":"","permalink":"http://yoursite.com/2018/03/08/body-parserä½¿ç”¨æ³¨æ„/","excerpt":"","text":"ä¸€ã€å‰è¨€è¿™å‡ å¤©åœ¨å­¦ä¹ æœåŠ¡ç«¯æ¸²æŸ“çš„æ—¶å€™ç”¨åˆ°äº†è¿™ä¸ªåŒ… body-parser ,å¾ˆæ–¹ä¾¿çš„ä¸€ä¸ªåŒ…ï¼Œè¿™ä¸ªæ¨¡å—æä¾›äº†å››ç§è§£æå™¨ JSON body parser Raw body parser Text body parser URL-encoded form body parser æ¯ä¸€é¡¹è¯¦ç»†çš„é…ç½®éƒ½èƒ½åœ¨ç½‘ä¸Šæ‰¾åˆ°ï¼Œè¿™ç¯‡è®°ä¸‹çš„æ˜¯æˆ‘åœ¨ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜ bodyParser.json(option)å’ŒbodyParser.urlencoded(option)çš„ä¸åŒï¼Œåœ¨ç½‘ä¸Šæœè¿™ä¸ªé—®é¢˜ï¼Œå¾—åˆ°çš„ç­”æ¡ˆè¿˜æ˜¯è®©æˆ‘ä¸€å¤´é›¾æ°´ï¼Œç»ˆäºè¯•äº†å‡ æ¬¡å¹¶ç»“åˆèµ„æ–™å¼„æ¸…æ¥šä¸¤è€…çš„ä½¿ç”¨åœºæ™¯ äºŒã€åŒºåˆ«çœ‹å®˜æ–¹çš„è§£é‡Šï¼šbodyParser.json(options)ï¼šä¸­é—´ä»¶åªä¼šè§£æ json ï¼Œå…è®¸è¯·æ±‚ä»»æ„Unicodeç¼–ç ,æ”¯æŒ gzip å’Œ deflate ç¼–ç ã€‚ bodyParser.urlencoded(option)ï¼šä¸­é—´ä»¶åªè§£æurlencoded è¯·æ±‚ä½“ï¼Œå¹¶è¿”å›ï¼Œåªæ”¯æŒUTF-8ç¼–å·æ–‡æœ¬ï¼Œæ”¯æŒgzip deflate å‹ç¼©ã€‚(tip:ä¸€èˆ¬è¿™ä¸€é¡¹æ˜¯æ¥æ”¶è¡¨å•æäº¤form) ä¸‰ã€ä¾‹å­çœ‹åˆ°è¿™é‡Œæˆ‘æ˜ç™½äº†ä¸€ä¸ªæ¥å—formè¯·æ±‚ï¼Œä¸€ä¸ªæ¥å—jsonè¯·æ±‚ï¼Œå¥½ï¼Œæˆ‘å†™äº†ä¸‹é¢çš„ä¾‹å­ï¼š12345678910111213141516171819202122232425262728293031323334//serverç«¯å…³é”®ä»£ç var jsonParser =bodyParser.json();app.post('/login',jsonParser,function(req,res)&#123; console.log(req.body) res.send(req.body)&#125;)//å®¢æˆ·ç«¯è¯·æ±‚&lt;form method=\"post\" action=\"/login\"&gt; &lt;div class=\"form-group\"&gt; &lt;label for=\"inputTitle\" class=\"col-sm-3 control-label\"&gt;ç”µå½±åç§°&lt;/label&gt; &lt;input id=\"inputTitle\" type=\"text\" name=\"title\" value=\"\" class=\"form-control\" /&gt; &lt;/div&gt; &lt;div class=\"form-group\"&gt; &lt;label for=\"inputLanguage\" class=\"col-sm-3 control-label\"&gt;æµ·æŠ¥&lt;/label&gt; &lt;input id=\"inputLanguage\" type=\"text\" name=\"poster\" value=\"\" class=\"form-control\" /&gt; &lt;/div&gt;&lt;button type=\"submit\" class=\"btn btn-default\"&gt;ç¡®å®š&lt;/button&gt;&lt;/form&gt;setTimeout(function()&#123; $.ajax(&#123; type:'post', url:'login', data:&#123; url:'login', name:'123', password:123456 &#125;, success:function(data)&#123; console.log(data) &#125; &#125;)&#125;,1000) å®¢æˆ·ç«¯æœ‰ä¸€ä¸ªç”¨äºæµ‹è¯•çš„è¡¨å•å’Œä¸€ä¸ª1såå‘é€postè¯·æ±‚çš„ajax å…ˆçœ‹ä¸€ä¸‹è¡¨å•è¯·æ±‚çš„ç»“æœï¼š è¡¨å•è¯·æ±‚ è¡¨å•æ–¹å¼è¯·æ±‚åæœåŠ¡ç«¯è¿”å›ç»“æœ ajaxæ–¹å¼è¯·æ±‚åæœåŠ¡ç«¯è¿”å›ç»“æœ å¯ä»¥çœ‹åˆ°bodyParser.json()å¹¶æ²¡æœ‰è§£æåˆ°ajaxå’Œformè¡¨å•è¯·æ±‚ï¼Œç°åœ¨æ¥æ¢bodyParser.urlencoded(option)çš„è§£ææ–¹å¼12345var urlencodedParser = bodyParser.urlencoded(&#123; extended: false &#125;);app.post('/login',urlencodedParser,function(req,res)&#123; console.log(req.body) res.send(req.body)&#125;) è¡¨å•æ–¹å¼è¯·æ±‚åæœåŠ¡ç«¯è¿”å›ç»“æœ ajaxæ–¹å¼è¯·æ±‚åæœåŠ¡ç«¯è¿”å›ç»“æœ å¯ä»¥çœ‹åˆ°è¿™ç§è§£ææ–¹å¼æˆåŠŸå°†è¯·æ±‚è§£æåˆ°äº†bodyé‡Œã€‚åˆ°äº†è¿™é‡Œï¼Œæˆ‘åˆæœ‰ç–‘é—®äº†ï¼ŒçŸ¥é“äº†bodyParser.urlencodedæœŸæœ›çš„æ•°æ®å½¢å¼ï¼Œé‚£bodyParser.jsoné€‚ç”¨äºä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ çœ‹ä¸‹é¢ä¾‹å­ï¼Œæ—¢ç„¶apiè¯´bodyParser.jsoné€‚ç”¨äºjsonçš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æˆ‘å°†ajaxçš„content-Typeè®¾ç½®ä¸ºjson 123456789101112131415setTimeout(function()&#123; $.ajax(&#123; type:'post', url:'login', contentType:'application/json', data:&#123; url:'login', name:'123', password:123456 &#125;, success:function(data)&#123; console.log(data) &#125; &#125;)&#125;,1000) è¯·æ±‚ç»“æœï¼š è¿”å›ç»“æœ è¯·æ±‚å¤±è´¥ï¼Œé‚£ä¹ˆç–‘é—®æ¥äº†ï¼Œæˆ‘è®¾ç½®äº†jsonæ ¼å¼çš„è¯·æ±‚ï¼Œä¸ºä»€ä¹ˆbodyParser.jsonè§£æä¸äº† å…³é”®ï¼š jqçš„ajax é»˜è®¤çš„ContentTypeçš„å€¼ä¸º:application/x-www-form-urlencoded; charset=UTF-8æ­¤æ ¼å¼ä¸ºè¡¨å•æäº¤æ ¼å¼ï¼Œæ•°æ®ä¸º key1=value1&amp;key2=value2çš„æ ¼å¼ è™½ç„¶ajaxçš„dataå±æ€§å€¼æ ¼å¼ä¸º:{key1:value1,key2:value2},ä½†æœ€åä¼šè½¬ä¸ºkey1=value1&amp;key2=value2çš„æ ¼å¼æäº¤åˆ°åå° å¦‚æœæƒ³ä¼ jsonæ ¼å¼æ•°æ®ï¼Œcontent-typeè®¾ç½®å¥½åï¼Œajaxå¿…é¡»å°†dateå±æ€§å€¼è½¬ä¸ºjsonå­—ç¬¦ä¸²ï¼Œä¸èƒ½ä¸ºjsonå¯¹è±¡ï¼ˆjså¯¹è±¡ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºkey=valueå½¢å¼ï¼‰,è¿™æ ·ä¼ è¾“çš„æ—¶å€™æ‰æ˜¯jsonæ ¼å¼ æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹ï¼š123456789101112131415setTimeout(function()&#123; $.ajax(&#123; type:'post', url:'login', contentType:'application/json', data:JSON.stringify(&#123; url:'login', name:'123', password:123456 &#125;), success:function(data)&#123; console.log(data) &#125; &#125;)&#125;,1000) è¿”å›ç»“æœ ç°åœ¨å°±å¯ä»¥è¯·æ±‚æˆåŠŸå•¦","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://yoursite.com/tags/npm/"}]},{"title":"mobxåŸºæœ¬ç”¨æ³•","slug":"mobxåŸºæœ¬ç”¨æ³•","date":"2018-03-06T01:59:46.000Z","updated":"2021-01-25T10:48:26.378Z","comments":true,"path":"2018/03/06/mobxåŸºæœ¬ç”¨æ³•/","link":"","permalink":"http://yoursite.com/2018/03/06/mobxåŸºæœ¬ç”¨æ³•/","excerpt":"","text":"ä¸€ã€å‰è¨€æœ¬æ–‡æ˜¯æˆ‘åˆå­¦mobxæ—¶å¯¹mobxä¸€äº›åŸºæœ¬çš„è®¤è¯†ï¼Œå¦‚æœæ–°å‘ç°ä¼šç»§ç»­æ›´æ–° äºŒã€reduxå’Œmobxç›¸åŒç‚¹ï¼šéƒ½æ˜¯ç”¨æ¥ç®¡ç†JavaScriptåº”ç”¨çš„çŠ¶æ€ï¼Œä»–ä»¬ä¸ä¸€å®šè¦è·Ÿreactç»“åˆä½¿ç”¨ï¼Œè¿˜å¯ä»¥ä¸åˆ«çš„æ¡†æ¶ç»“åˆ ä¸åŒç‚¹ï¼š reduxå­¦ä¹ æˆæœ¬ç›¸å¯¹äºmobxæˆæœ¬è¦é«˜å¾ˆå¤šï¼Œæœ‰reducerã€actionã€dispatchç­‰æ¦‚å¿µï¼Œè§„åˆ™å¤šï¼Œæ¯”å¦‚æ›´æ–°æ•°æ®å¿…é¡»è¦ç”¨ dispatchï¼Œæ›´æ–°çš„é€»è¾‘å¿…é¡»è¦ç”¨ actionï¼Œåˆšå­¦çš„æ—¶å€™å¯èƒ½æœ‰ç‚¹æ‡µã€‚mobxæ¯”è¾ƒè‡ªç”±ï¼Œå¯ä»¥ç”¨obj.key çš„æ–¹å¼æ›´æ–° reduxæ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œè¦å°†æ›´æ–°æ•°æ®çš„æ•´ä¸ªå¯¹è±¡æ›¿æ¢ä¸ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ‰å¯ä»¥è§¦å‘æ›´æ–°(è¿™ç‚¹æ¥è§¦è¿‡reduxçš„ä¼šæœ‰æ„Ÿå—)ï¼Œè€Œmobxè‡ªå§‹è‡³ç»ˆæ˜¯ä¸€ä»½å¼•ç”¨ï¼Œæ‰€ä»¥reduxæ¯æ¬¡ä¼šè§¦å‘å¾ˆå¤šçš„ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œä¸ºäº†ä¼˜åŒ–ä¼šé…åˆimmutableã€‚mobxåˆ™æ˜¯æ›´æ–°å“ªä¸ªå±æ€§ï¼Œä»…ä»…è¿™ä¸ªå±æ€§æ‰€åœ¨çš„ä½ç½®ä¼šé‡æ–°æ¸²æŸ“ï¼ˆä¸æ˜¯ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œä¸è§¦å‘componentWillMountç­‰æ–¹æ³•ï¼Œä¼šè§¦å‘componentWillUpdataï¼‰ ä»¥ä¸Šä¸ºè‡ªå·±ç†è§£ï¼Œå¦‚æœ‰é”™è¯¯çƒ¦è¯·æŒ‡å‡º ä¸‰ã€mobxåŸºæœ¬æ¦‚å¿µ tip:ä»¥ä¸‹æåˆ°çš„ @ æ˜¯ES7é‡Œçš„ä¿®é¥°å™¨ï¼Œå¯ä»¥åˆ°ç½‘ä¸Šæ‰¾èµ„æºå­¦ä¹  es7çš„ä¿®é¥°å™¨ 1. @observable å°†å±æ€§è½¬ä¸ºå¯è§‚å¯Ÿçš„ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™å˜é‡æ‰€å¤„çš„ä½ç½®ä¼šç«‹å³å‘ç”Ÿå˜åŒ– 2. @computedè¿™æ˜¯ä¸€ä¸ªæœ‰ç‚¹ä¸å¥½ç†è§£çš„APIï¼Œè€Œä¸”å®˜ç½‘æè¿°çš„ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä¸‹é¢æ˜¯æˆ‘çš„ç†è§£ï¼Œå¦‚æœæœ‰è¯¯ï¼Œè¯·æŒ‡å‡ºè®²è¿™ä¸ªAPIä¹‹å‰å…ˆçœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657/************************************mobx********************************/import &#123; observable ,computed,autorun,action &#125; from 'mobx'class AppState &#123; @observable count=0; @observable max = 5; @computed get msg()&#123; console.log('msgçš„getteré‡Œæ‰§è¡Œ...') return `msgç»“æœ===&gt;$&#123;this.max&gt;this.count&#125;` &#125; @action add()&#123; this.count +=1; &#125; @action changeName(c)&#123; this.max=c &#125;&#125;const appState = new AppState;setInterval(()=&gt;&#123; appState.add()&#125;,2000)export default appState;/************************************index.jsx********************************/import React,&#123; Component &#125; from 'react'import &#123;observer,inject&#125; from 'mobx-react'import PropTypes from 'prop-types'@inject('appState')@observerexport default class TopicList extends Component&#123; constructor()&#123; super() this.changeName=this.changeName.bind(this) &#125; componentWillUpdate()&#123; console.log('æ›´æ–°ï¼') &#125; changeName(event)&#123; this.props.appState.changeName(event.target.value) &#125; render()&#123; return ( &lt;div&gt; &lt;input type=\"text\" onChange=&#123;this.changeName&#125;/&gt; &lt;span&gt;&#123;this.props.appState.msg&#125;&lt;/span&gt; &lt;/div&gt; ) &#125;&#125;TopicList.propTypes=&#123; appState:PropTypes.object&#125; é€»è¾‘æ˜¯æœ‰ä¸¤ä¸ªå˜é‡ countå’Œmaxï¼Œåœ¨msgçš„getteré‡Œåˆ¤æ–­max&gt;countçš„æƒ…å†µ,å…¶ä¸­maxä¸ºå›ºå®šå€¼ï¼Œcountæ¯ç§’+1ã€‚ åœ¨ç¬¬äºŒèŠ‚çš„reduxå’Œmobxå¼‚åŒä¹‹å¤„æå‡ºäº†mobxæ•°æ®å˜åŒ–çš„æ—¶å€™ç»„ä»¶åªä¼šè§¦å‘ componentWillUpdata ï¼ˆæ²¡ä»€ä¹ˆæ¥æºï¼Œè‡ªå·±è¯•çš„ï¼‰ï¼Œä¸‹é¢æ¥çœ‹çœ‹ä¸Šé¢ä»£ç  (mobxé‡Œmsgéƒ¨åˆ†åŠ äº† @computed) è¿è¡Œæƒ…å†µï¼š å¯ä»¥çœ‹åˆ°åªæœ‰å½“ msg å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰ä¼šè§¦å‘ componentWillUpdata ï¼Œä¹Ÿå°±æ˜¯å‰5s msgçš„ç»“æœä¸€ç›´ä¸º trueæ—¶ï¼Œç»„ä»¶é‡Œæ˜¯æ²¡æœ‰æ¥æ”¶åˆ°æ–°çš„ {this.props.appState.msg} çš„ï¼ˆå› ä¸ºæ¥å—æ–°çš„propså€¼ä¼šè§¦å‘ componentWillUpdataï¼‰ ä¸‹é¢å†æ¥çœ‹çœ‹ mobxé‡Œmsgéƒ¨åˆ†ä¸åŠ  @computed è¿è¡Œæƒ…å†µ1234get msg()&#123; console.log('msgçš„getteré‡Œæ‰§è¡Œ...') return `msgç»“æœ===&gt;$&#123;this.max&gt;this.count&#125;`&#125; ä¸åŠ  @computed å¯ä»¥çœ‹åˆ°æ¯ä¸€æ¬¡çš„countå€¼å˜åŒ–éƒ½ä¼šè§¦å‘ç»„ä»¶çš„componentWillUpdata çœ‹æ˜ç™½äº†ä¸Šé¢çš„ä¾‹å­å’Œè¿è¡Œæ—¶çš„ä¸åŒï¼Œå†çœ‹çœ‹ä¸‹é¢çš„æ€»ç»“å°±ä¼šå¥½ç†è§£äº† æ€»ç»“ï¼šå¦‚æœä½¿ç”¨äº†@computed ï¼ˆ@computed msg getter()ï¼‰ï¼Œé‚£ä¹ˆmsgçš„å€¼å°†ä¼šè¢«ç¼“å­˜ï¼Œå¦‚æœcountçš„å˜åŒ–æ²¡æœ‰è§¦å‘msgå€¼çš„å˜è¯ï¼Œé‚£ä¹ˆmsgçš„getter()å€¼å°±ä¸ä¼šæ”¹å˜ï¼Œindex.jsxç»„ä»¶ä¹Ÿä¸ä¼šæ”¶åˆ°é€šçŸ¥(componentWillUpdata)ã€‚ï¼ˆç¬¬ä¸€ç§æƒ…å†µï¼‰ å¦‚æœä¸ä½¿ç”¨@computedå±æ€§ï¼Œç›´æ¥msg getter()çš„è¯ï¼Œé‚£ä¹ˆä¸€æ—¦countæ”¹å˜ï¼Œæ‰€æœ‰ç”¨åˆ°msg getter()çš„åœ°æ–¹éƒ½å°†é‡æ–°è®¡ç®—(ç¬¬äºŒç§æƒ…å†µ)ã€‚ @computedçš„æ„ä¹‰åœ¨äºå®ƒèƒ½å¤Ÿç”±MobXè¿›è¡Œæ›´æ™ºèƒ½çš„ä¼˜åŒ– 3. autorun å®šä¹‰çš„ @observable å˜é‡å¦‚æœå‘ç”Ÿå˜åŒ–ï¼Œautorunä¼šè‡ªåŠ¨æ‰§è¡Œç›¸åº”çš„æ–¹æ³•,ä¾‹å¦‚å°†ä¸Šé¢çš„mobxä¿®æ”¹ï¼Œindex.jsxä¸å˜ 1234567891011121314151617181920212223242526 import &#123; observable ,computed,autorun,action &#125; from 'mobx' class AppState &#123; @observable count=0; @observable max = 5; @computed get msg()&#123; console.log('msgçš„getteré‡Œæ‰§è¡Œ...') return `msgç»“æœ===&gt;$&#123;this.max&gt;this.count&#125;` &#125; @action add()&#123; this.count +=1; &#125; @action changeName(c)&#123; this.max=c &#125; &#125; const appState = new AppState;// æ·»åŠ äº† autorun autorun(()=&gt;&#123; console.log(`$&#123;appState.count&#125; è¿è¡Œè¿è¡Œ~`) &#125;) setInterval(()=&gt;&#123; appState.add() &#125;,1000) export default appState; å› ä¸ºautoruné‡Œçš„å‡½æ•°ä¾èµ–äº† count ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡setIntervalçš„æ—¶å€™ï¼Œéƒ½ä¼šæ‰§è¡Œautoruné‡Œçš„å‡½æ•° 4. @action å¦‚æœè¦æ›´æ–°storeé‡Œçš„å†…å®¹ï¼Œå°±è¦åœ¨ç›¸åº”çš„å‡½æ•°å‰åŠ ä¸Š @action ä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œæ ‡è®°ä¸º@action ã€‚ ä½œç”¨ï¼šåœ¨mobx-reacté«˜çº§æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä½¿ç”¨transactionå¯ä»¥å°†å¤šä¸ªåº”ç”¨çŠ¶æ€(Observable)çš„æ›´æ–°è§†ä¸ºä¸€æ¬¡æ“ä½œï¼Œå¹¶åªè§¦å‘ä¸€æ¬¡ç›‘å¬è€…(Reactions)çš„åŠ¨ä½œ(UIæ›´æ–°ã€ç½‘ç»œè¯·æ±‚ç­‰)ï¼Œä»è€Œæ›´å¤§ç¨‹åº¦åœ°æå‡åº”ç”¨çš„æ€§èƒ½ï¼Œé¿å…å¤šä½™çš„UIæ¸²æŸ“å’Œç½‘ç»œè¯·æ±‚ã€‚actionä¸­å°è£…äº†transactionï¼Œå¯¹å‡½æ•°ä½¿ç”¨actionä¿®é¥°ç¬¦åï¼Œæ— è®ºå‡½æ•°ä¸­å¯¹@observableå˜é‡ï¼ˆåº”ç”¨çŠ¶æ€ï¼‰æœ‰å¤šå°‘æ¬¡ä¿®æ”¹ï¼Œéƒ½åªä¼šåœ¨å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œè§¦å‘ä¸€æ¬¡å¯¹åº”çš„ç›‘å¬è€…ã€‚å¦‚ä¸‹ä»£ç ï¼Œresetå‡½æ•°åªä¼šè§¦å‘ä¸€æ¬¡UIæ›´æ–°ã€‚ 123456789101112class TodoItemModel &#123; id; @observable title; @observable completed; //ä½¿ç”¨actionåï¼Œresetå‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œæ‰ä¼šè§¦å‘ä¸€æ¬¡å…¶ç›‘å¬è€… @action reset() &#123; this.completed = false; this.title= ''; &#125;&#125; 5. @oberver observer å‡½æ•°/è£…é¥°å™¨å¯ä»¥ç”¨æ¥å°† React ç»„ä»¶è½¬å˜æˆå“åº”å¼ç»„ä»¶ oberveræ˜¯ç”¨æ¥è¿æ¥mobxä¸ç»„ä»¶çš„ä¸€ä¸ªAPIï¼ˆå‘Šè¯‰mobxæœ¬ç»„ä»¶ä¾èµ–äºmobxçš„çŠ¶æ€ï¼‰ï¼Œç”±ä¸€ä¸ªå•ç‹¬çš„åŒ… mobx-react æä¾›ï¼Œä¾‹å­çœ‹ä¸Šé¢çš„ index.jsxç»„ä»¶ã€‚ä½¿ç”¨äº† observer çš„reactç»„ä»¶ä¸­ç”¨åˆ°çš„å˜é‡å‘ç”Ÿå˜åŒ–ï¼Œç»„ä»¶æ‰ä¼šæ›´æ–° å››ã€è¿è¡Œç¯å¢ƒçš„é…ç½®@(ä¿®é¥°å™¨)æ˜¯ES7çš„ä¸€ä¸ªææ¡ˆï¼ŒBabel è½¬ç å™¨å·²ç»æ”¯æŒ Decoratoréœ€è¦å®‰è£… babel-preset-stage-1 ï¼ˆstage-0ä¹Ÿå¯ä»¥ï¼‰å’Œbabel-plugin-transform-decoratorsï¼Œbabel-plugin-transform-decoratorsä¸€å®šè¦æ”¾åœ¨åˆ«çš„pluginså‰ .babelrcé…ç½® 6. useStaticRenderingæˆ‘ä»¬çŸ¥é“å¯ä»¥é€šè¿‡ä½¿ç”¨@observerï¼Œå°†reactç»„ä»¶è½¬æ¢æˆä¸€ä¸ªç›‘å¬è€…(Reactions)ï¼Œè¿™æ ·åœ¨è¢«ç›‘å¬çš„åº”ç”¨çŠ¶æ€å˜é‡(Observable)æœ‰æ›´æ–°æ—¶ï¼Œreactç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ã€‚è€Œå¯¹äºæœåŠ¡ç«¯çš„Reactç»„ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦å®ƒè¢«æ¸²æŸ“ä¸€æ¬¡ï¼Œè€Œä¸éœ€è¦ç»„ä»¶ç›‘å¬æ¨¡å‹çš„çŠ¶æ€ã€‚äº‹å®ä¸Šï¼Œå¦‚æœæœåŠ¡ç«¯Reactç»„ä»¶åƒå®¢æˆ·ç«¯ç»„ä»¶ä¸€æ ·ç›‘å¬æ¨¡å‹çš„çŠ¶æ€å˜åŒ–ï¼Œå°±ä¼šé€ æˆä¸¥é‡çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚å®˜æ–¹æä¾›äº†useStaticRenderingæ–¹æ³•ï¼Œç”¨äºé¿å…mobxæœåŠ¡ç«¯æ¸²æŸ“çš„å†…å­˜æ³„æ¼é—®é¢˜; è¯¥æ–¹æ³•åªéœ€è¦åœ¨serverå¯åŠ¨æ—¶è®¾ç½®ä¸€æ¬¡ã€‚ useStaticRendering(true);","categories":[],"tags":[{"name":"mobx","slug":"mobx","permalink":"http://yoursite.com/tags/mobx/"}]},{"title":"javascriptçš„æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§","slug":"javascriptçš„æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§","date":"2018-02-28T03:25:55.000Z","updated":"2021-01-25T10:48:26.377Z","comments":true,"path":"2018/02/28/javascriptçš„æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§/","link":"","permalink":"http://yoursite.com/2018/02/28/javascriptçš„æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§/","excerpt":"","text":"ä¸€ã€æ•°æ®å±æ€§1.åŸºæœ¬è®¤è¯†1.1æ¦‚å¿µæ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªæ•°æ®å€¼çš„ä½ç½®ï¼Œåœ¨è¿™ä¸ªä½ç½®å¯ä»¥è¯»å–å’Œå†™å…¥å€¼ æ•°æ®å±æ€§æœ‰4ä¸ªæè¿°å…¶è¡Œä¸ºçš„ç‰¹æ€§ [[Configurable]] : è¡¨ç¤ºèƒ½å¦é€šè¿‡ delte åˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œèƒ½ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼Œæˆ–è€…èƒ½æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚é»˜è®¤true,ï¼ˆè¯´çš„ç£¨ç£¨å”§å”§ï¼Œå…¶å®å°±æ˜¯èƒ½å¦é€šè¿‡deleteåˆ é™¤å±æ€§ã€èƒ½å¦å†ä¿®æ”¹Enumerableã€Writableï¼ˆç‰¹æ®Šï¼ŒæŠŠConfigurableè®¾ç½®ä¸ºfalseåï¼Œè¿™ä¸ªå±æ€§ä¹Ÿèƒ½è¢«ä¿®æ”¹ï¼‰ã€Valueï¼ˆæ›´ç‰¹æ®Šï¼Œçœ‹ä¸‹é¢ä¾‹å­ï¼‰ã€Configurableå±æ€§è¿™å››ä¸ªå±æ€§ï¼‰ [[Enumerable]] : è¡¨ç¤ºèƒ½å¦é€šè¿‡ for-in å¾ªç¯è¿”å›å±æ€§ã€‚ é»˜è®¤ true [[Writable]] : è¡¨ç¤ºèƒ½å¦ä¿®æ”¹å±æ€§çš„å€¼ ã€‚ é»˜è®¤ true [[Value]] : åŒ…å«è¿™ä¸ªå±æ€§çš„æ•°æ®å€¼ã€‚ é»˜è®¤ undefined tipï¼šä¸ºäº†è¡¨ç¤ºç‰¹æ€§æ˜¯å†…éƒ¨å€¼ï¼Œè¯¥è§„èŒƒæŠŠä»–ä»¬æ”¾åœ¨äº†ä¸¤å¯¹æ‹¬å·ä¸­ 2.å¯¹æ•°æ®å±æ€§çš„æ“ä½œå¿…é¡»ä½¿ç”¨ ECMAScript 5 çš„ Object.defineProperty() æ–¹æ³•ä¸‰ä¸ªå‚æ•° å±æ€§æ‰€åœ¨çš„å¯¹è±¡ å±æ€§çš„åå­— æè¿°ç¬¦å¯¹è±¡ æ —å­12345678910111213var person = &#123; name:'y'&#125;//ç¦æ­¢ä¿®æ”¹å±æ€§å€¼Object.defineProperty(person,\"name\",&#123; writable:false&#125;)console.log(person.name) // y//å°è¯•ä¿®æ”¹å±æ€§person.name='b';console.log(person.name) //y//å¯ä»¥çœ‹åˆ°ç¦æ­¢ä¿®æ”¹å±æ€§çš„å€¼åï¼Œä¿®æ”¹å±æ€§å€¼æ— æ•ˆ 2.1æ³¨æ„ï¼ï¼ï¼è¿™å››ä¸ªæ•°æ®å±æ€§ä¸­ï¼Œconfigurable æ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ï¼Œä¸€æ—¦æŠŠå±æ€§å®šä¹‰ä¸ºä¸å¯é…ç½®çš„ï¼Œå°±ä¸èƒ½å†æŠŠå®ƒå˜å›å¯é…ç½®äº†ï¼Œæ­¤æ—¶å†è°ƒç”¨ Object.defineProperty æ–¹æ³•ä¿®æ”¹ é™¤writableä¹‹å¤–çš„ç‰¹æ€§ éƒ½ä¼šå¯¼è‡´å¤±è´¥ã€‚1234567891011121314151617181920212223242526272829303132333435363738var b=&#123; age:0&#125;//å®šä¹‰ä¸ºä¸å¯é…ç½®Object.defineProperty(b,'age',&#123; configurable:false&#125;)//å°è¯•åˆ é™¤é…ç½®delete b.ageconsole.log(b.age)// æˆåŠŸæ‰“å°0//å°è¯•ä¿®æ”¹enumerableObject.defineProperty(b,\"age\",&#123; enumerable:false&#125;)/* æŠ¥é”™ï¼šUncaught TypeError: Cannot redefine property: age at Function.defineProperty (&lt;anonymous&gt;) at &lt;anonymous&gt;:3:8 */// çœ‹ä¸‹é¢è¿™ä¿©é¡ºåºğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡//å°è¯•ä¿®æ”¹writableObject.defineProperty(b,\"age\",&#123; writable:false&#125;)/*ä¿®æ”¹æˆåŠŸï¼Œä¸ä¼šæŠ¥é”™*///å°è¯•ä¿®æ”¹valueObject.defineProperty(b,\"age\",&#123; value:1&#125;)/*æŠ¥é”™ï¼šVM17512:1 Uncaught TypeError: Cannot redefine property: age at Function.defineProperty (&lt;anonymous&gt;) at &lt;anonymous&gt;:1:8*/// ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘†ğŸ‘† tip:ä¸Šé¢çš„æ“ä½œåªé’ˆå¯¹äº bå¯¹è±¡çš„age å±æ€§ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘å†æ·»åŠ ä¸€ä¸ªå±æ€§ä¹Ÿæ˜¯æˆåŠŸçš„ï¼Œæ¯”å¦‚123b.name='m';console.log(b)// è¾“å‡º &#123;age: 0, name: \"m\"&#125; tip2:çœ‹ä¸Šé¢çš„ä»£ç  22-37è¡Œï¼Œè¿™ä¿©å±æ€§å¾ˆç‰¹æ®Šï¼Œ å°±ç®—configurable:falseäº†ï¼Œwritableå±æ€§ä¾ç„¶å¯ä»¥è¢«ä¿®æ”¹ æ³¨æ„æ³¨æ„ï¼ï¼ çœ‹åˆ°ä»£ç é‡Œçš„é¡ºåºäº†ä¹ˆï¼Ÿwritableçš„ä¿®æ”¹æ˜¯åœ¨valueçš„ä¿®æ”¹çš„ä¸Šé¢çš„ï¼Œè¿™æ—¶ä¿®æ”¹valueæŠ¥é”™ï¼Œä½†æˆ‘å‘ç°å¦‚æœwritableå’ŒconfigurableåŒæ—¶ä¸ºfalseï¼ˆä¸”çš„å…³ç³»ï¼Œä¸æ˜¯æˆ–ï¼‰ï¼Œè¿™ä¸ªvalueå±æ€§æ‰ä¼šæŠ¥é”™ï¼ˆä¹Ÿå°±æ˜¯ä¿®æ”¹ä¸äº†ï¼‰,å¦åˆ™ä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„ tip3:ES5æœ‰ä¸‰ä¸ªæ“ä½œä¼šå¿½ç•¥enumerableä¸ºfalseçš„å±æ€§ã€‚ forâ€¦inå¾ªç¯ï¼šåªéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾çš„å±æ€§ Object.keys()ï¼šè¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§çš„é”®å JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ äºŒã€è®¿é—®å™¨å±æ€§1.åŸºæœ¬è®¤è¯†æ¦‚å¿µè®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ã€‚å®ƒåŒ…å«ä¸€å¯¹getterå’Œsetterå‡½æ•°ã€‚å½“è¯»å–è®¿é—®å™¨å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨getterå‡½æ•°å¹¶è¿”å›æœ‰æ•ˆå€¼ï¼›å½“å†™å…¥è®¿é—®å™¨å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨setterå‡½æ•°å¹¶ä¼ å…¥æ–°å€¼ï¼Œsetterå‡½æ•°è´Ÿè´£å¤„ç†æ•°æ®ã€‚ è®¿é—®å™¨å±æ€§çš„å››ä¸ªç‰¹æ€§ [[Configurable]]ï¼šé»˜è®¤ä¸ºtrueã€‚è¡¨ç¤ºèƒ½å¦é€šè¿‡deleteåˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œèƒ½å¦ä¿®æ”¹å±æ€§ç‰¹æ€§ï¼Œæˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ï¼› [[Enumerable]]ï¼šé»˜è®¤ä¸ºtrueã€‚è¡¨ç¤ºèƒ½å¦é€šè¿‡for-inå¾ªç¯è¿”å›å±æ€§ï¼› [[Get]]ï¼šè¯»å–å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œé»˜è®¤ä¸ºundefinedï¼› [[Set]]ï¼šå†™å…¥å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œé»˜è®¤ä¸ºundefinedï¼› 2.å¯¹è®¿é—®å™¨å±æ€§çš„æ“ä½œ tip :1.å½“ä½¿ç”¨äº†getteræˆ–setteræ–¹æ³•ï¼Œä¸å…è®¸ä½¿ç”¨ writable å’Œ value è¿™ä¸¤ä¸ªå±æ€§ã€‚2.getå’Œset å‡½æ•°ä¸æ˜¯å¿…é¡»çš„3.å…ˆçœ‹è¿™ç§å†™æ³•ï¼š ç‰¹åˆ«è¦æ³¨æ„è¿™ç§å†™æ³•ï¼Œå®¹æ˜“å†™é”™ï¼ å¯ä»¥çœ‹åˆ° å †æ ˆæº¢å‡º äº†ï¼Œ` åŸå› æ˜¯å› ä¸ºå¦‚æœåœ¨geté‡Œreturn this.year ï¼Œè¿™æ ·å¦‚æœæˆ‘ä»¬åœ¨å¤–é¢ book .yearæ—¶ï¼Œå°±ä¼šè¿è¡Œgetå‡½æ•°ï¼Œè€Œgetå‡½æ•°é‡Œé¢æ‰§è¡Œåˆ°this.yearæ—¶åˆä¼šè¿è¡Œgetå‡½æ•°ï¼Œé€ æˆæ­»å¾ªç¯ã€‚æ­£å¸¸å†™æ³•æ˜¯åˆ©ç”¨ä¸€ä¸ªä¸­é—´å€¼æ¥è®¾ç½®æŸä¸€ä¸ªå±æ€§ï¼Œçœ‹ä¸‹é¢ä»£ç  æ­£ç¡®å†™æ³• _year å‰é¢çš„ä¸‹åˆ’çº¿æ˜¯ä¸€ç§å¸¸ç”¨çš„è®°å·ï¼Œç”¨äºè¡¨ç¤ºåªèƒ½é€šè¿‡å¯¹è±¡æ–¹æ³•è®¿é—®çš„å±æ€§ã€‚ä¸€èˆ¬ä¸Šé¢ä¸Šé¢ä»£ç ç›®çš„æ˜¯ è®¾ç½®ä¸€ä¸ªå±æ€§çš„å€¼ä¼šå¯¼è‡´å…¶ä»–å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¸ç”¨æŠŠå±æ€§å•æ‹¿å‡ºæ¥è®¡ç®—äº†ï¼Œå¾ˆæ–¹ä¾¿ ä¸‰ã€æ€»ç»“1.åˆ°åº•æ€ä¹ˆåˆ¤æ–­æ˜¯æ•°æ®å±æ€§è¿˜æ˜¯è®¿é—®å™¨å±æ€§å¯ä»¥é€šè¿‡ Object.getOwnPropertyNames()æ–¹æ³•è·å–åˆ°æ‰€æœ‰å®ä¾‹ä¸­çš„å±æ€§ï¼ŒåŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§ã€‚ç„¶åï¼Œä½¿ç”¨Object.getOwnPropertyDescriptor(ï¼‰æ–¹æ³•è·å–åˆ°æ¯ä¸€ä¸ªå±æ€§çš„æè¿°ç¬¦ï¼Œå¦‚æœæè¿°ç¬¦ä¸­æœ‰get/setæ–¹æ³•ï¼Œè¯´æ˜å®ƒæ˜¯è®¿é—®å™¨æ–¹æ³•ï¼Œå¦åˆ™å®ƒå°±æ˜¯æ•°æ®å±æ€§ã€‚å…¶å®ç”±äºä¸¤ç§å±æ€§å„è‡ªçš„4ç§ç‰¹å¾éƒ½æ˜¯éƒ½ä¸ä¸€æ ·çš„ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡çš„å±æ€§æè¿°ç¬¦é‡Œå«æœ‰ä¸€ä¸ªå•ç‹¬çš„ç‰¹å¾å°±å¯ä»¥åˆ¤æ–­æ˜¯ä»€ä¹ˆç±»å‹çš„å±æ€§ï¼Œæ¯”å¦‚1234var book=&#123;&#125;;Object.defineProperty(book,'age',&#123; value:5&#125;) æè¿°ç¬¦é‡Œæˆ‘å•ç‹¬å®šä¹‰äº†valueå±æ€§ï¼Œè€Œvalueå±æ€§ä»…ä»…è¾“å…¥æ•°æ®å±æ€§ï¼Œæ‰€ä»¥å¯ä»¥åˆ¤æ–­å‡º ageå±äºæ•°æ®å±æ€§ 2.å®šä¹‰å¤šä¸ªå±æ€§Object.defineProperty()è¿™ç§å†™æ³•æ¯æ¬¡åªèƒ½å®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ Object.defineProperties æ¥å®šä¹‰å¤šä¸ªå±æ€§å®šä¹‰å¤šä¸ªå±æ€§ï¼šè¯·æ³¨æ„ä¸‹é¢å›¾ç‰‡å†…ä»£ç æ˜¯æœ‰é—®é¢˜çš„ï¼Œè¿™æ˜¯ã€Šjsé«˜çº§ç¨‹åºè®¾è®¡ã€‹ é‡Œçš„ä¾‹å­ å®šä¹‰å¤šä¸ªå±æ€§ è¿™ä¸ªæ–¹æ³•å®šä¹‰å¤šä¸ªå±æ€§æ²¡é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä»ä¸Šé¢çš„å›¾çœ‹å‡ºæ¥ï¼Œå®šä¹‰çš„è®¿é—®å™¨å±æ€§yearçš„setæ–¹æ³•é‡Œé¢å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œè¿™ä¿©å±äºæ•°æ®å±æ€§ï¼ŒåŸå› æ˜¯å› ä¸º å®šä¹‰çš„_yearå±æ€§å’Œeditionå±æ€§ä¸èƒ½å¾€é‡Œé¢å†™å€¼äº†ã€‚ è‡ªå·±è§£å†³å†ç¨‹ï¼šæˆ‘è‡ªå·±çŒœæƒ³åŸå› å¯èƒ½æ˜¯è¿™æ ·ï¼Œå› ä¸º_yearå’Œeditionå†™ä¸è¿›å»å€¼äº†ï¼Œæ‰€ä»¥è®¾ç½® enumerable ä¸ºtrueã€‚æˆ‘å°è¯•ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œå¦‚ä¸‹ ç»™ä¸¤ä¸ªæ•°æ®å±æ€§æ·»åŠ äº†writable(å¯è¯»å†™ )ç‰¹å¾ è¿™æ ·è¿è¡ŒæˆåŠŸã€‚ä¸ºäº†éªŒè¯çŒœæƒ³ï¼Œåšäº†å¦‚ä¸‹ä¾‹å­ï¼š æ‰€æœ‰ç‰¹æ€§ ï¼› å¯ä»¥çœ‹åˆ°åªè¦æ˜¯ç”¨ Object.defineProperties() å®šä¹‰çš„å¯¹è±¡çš„å±æ€§ï¼Œé‚£ä¹ˆå®šä¹‰è¿‡çš„æ¯ä¸ªå±æ€§æè¿°ç¬¦çš„4ä¸ªé»˜è®¤å±æ€§ï¼ˆé™¤äº†setå’Œgetå¤–ï¼‰éƒ½é»˜è®¤éƒ½æ˜¯ false æ€»ç»“ï¼šä½¿ç”¨ Object.defineProperties() æ–¹æ³•æ¥å®šä¹‰å¤šä¸ªå±æ€§çš„æ—¶å€™ï¼Œæ¯ä¸ªå±æ€§çš„æè¿°ç¬¦é‡Œçš„å±æ€§éƒ½æ˜¯é»˜è®¤çš„false(é™¤äº†setå’Œgetå¤–)ï¼Œsetæˆ–è€…getæ²¡å®šä¹‰çš„è¯é»˜è®¤ undefined å››ã€å®é™…åº”ç”¨ä»‹ç»äº†è¿™ä¸ªä¸œè¥¿åï¼Œåœ¨å®é™…ä¸­æˆ‘è¯¥åœ¨ä»€ä¹ˆæƒ…å†µç”¨å‘¢ï¼Ÿ æ•°æ®åŒå‘ç»‘å®š ï¼ˆModule&lt;==&gt;Viewï¼‰æ•°æ®åŒå‘ç»‘å®šå°±æ˜¯é€šè¿‡ Object.defineProperty å®ç°çš„ï¼Œæˆ‘ä»¬æ¥æ‰‹å†™ä¸€ä¸ªæ•°æ®ç»‘å®š &lt;input class=\"inputText\" type=\"text\" /&gt; &lt;p class=\"text\"&gt;&lt;/p&gt; var inputText=document.querySelector('.inputText'); var text=document.querySelector('.text'); //module var obj={_txt:null}; Object.defineProperty(obj,'txt',{ get:function(){ return this._txt; }, set:function(value){ this._txt=value; text.innerHTML=value; inputText.value=value } }) //view inputText.addEventListener('input',function(e){ const text=e.target.value; obj.txt=text; },false) æ­¤æ—¶åœ¨inputè¾“å…¥å€¼çš„æ—¶å€™pçš„å†…å®¹å’Œobj.txtå†…å®¹ä¼šå˜ï¼Œåœ¨æµè§ˆå™¨consoleä¸­æ›´æ”¹obj.txtçš„å€¼ï¼Œinputå’Œpä¹Ÿä¼šå˜","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶","slug":"å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶","date":"2018-02-07T02:48:32.000Z","updated":"2021-01-25T10:48:26.380Z","comments":true,"path":"2018/02/07/å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶/","link":"","permalink":"http://yoursite.com/2018/02/07/å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶/","excerpt":"","text":"ä¸€ã€å‰è¨€åœ¨HTMLä¸­ï¼Œè¡¨å•å…ƒç´ ä¾‹å¦‚ input , textarea , select é€šå¸¸æ˜¯æ ¹æ®ç”¨æˆ·çš„è¾“å…¥æ¥ç»´æŠ¤å®ƒä»¬è‡ªå·±çš„çŠ¶æ€ã€‚åœ¨Reactä¸­ï¼Œå¯å˜çŠ¶æ€é€šå¸¸ä¿å­˜åœ¨ state ä¸­ï¼Œåªèƒ½ç”¨ setState() æ¥è¿›è¡Œæ›´æ–°æ“ä½œ äºŒã€å®šä¹‰è§£é‡Šæ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼Œè¡¨å•å…ƒç´ çš„æ•°æ®å¯ä»¥ç”±è‡ªèº«DOMå…ƒç´ æ¥ç®¡ç†ï¼Œä¹Ÿå¯ä»¥ç”±Reactç»„ä»¶æ¥ç®¡ç† 1.controlled_Component ( å—æ§ç»„ä»¶ )å°†è¡¨å•çŠ¶æ€ä¿å­˜åœ¨Reactç»„ä»¶ä¸­ï¼ˆstateï¼‰ï¼Œå‘ˆç°è¡¨å•çš„Reactç»„ä»¶ä¹Ÿä¼šæ§åˆ¶ç”¨æˆ·è¾“å…¥åæ‰€å‘ç”Ÿçš„æƒ…å†µã€‚è¡¨å•å…ƒç´ æ•°æ®æ‰˜ç®¡åˆ°Reactç»„ä»¶ä¸­çš„è¿™ç§æ–¹å¼å«åš å—æ§ç»„ä»¶ Reactèƒ½æ§åˆ¶ 2.uncontrolled_Component ( éå—æ§ç»„ä»¶ )ä¸å—æ§ç»„ä»¶ç›¸åï¼Œè¡¨å•æ•°æ®ç”±domå…ƒç´ è‡ªèº«ç®¡ç†çš„ç»„ä»¶å« éå—æ§ç»„ä»¶ Reactä¸èƒ½æ§åˆ¶ ä¸‰ã€æ —å­1.controlled_Component ( å—æ§ç»„ä»¶ )12345678910111213141516171819202122232425262728class App extends Component &#123; constructor()&#123; super() this.state=&#123; name:'å§“å', text:'è¯·è¾“å…¥' &#125; &#125; handleName(e)&#123; this.setState(&#123; name:e.target.value &#125;) &#125; handleText(e)&#123; this.setState(&#123; text:e.target.value &#125;) &#125; render()&#123; return( &lt;form method='get' action=\"/\"&gt; &lt;input type=\"text\" name='name' value=&#123;this.state.name&#125; onChange=&#123;this.handleName.bind(this)&#125;/&gt; &lt;textarea name=\"text\" value=&#123;this.state.text&#125; onChange=&#123;this.handleText.bind(this)&#125;&gt;&lt;/textarea&gt; &lt;input type=\"submit\"/&gt; &lt;/form&gt; ) &#125;&#125; å¯ä»¥çœ‹åˆ° input å’Œ textareaçš„valueå€¼å…¨éƒ½äº¤ç»™äº†Reactç»„ä»¶æ¥ç®¡ç†ã€‚ æ³¨æ„ :è¿™ç§æƒ…å†µä¸‹æ¯ä¸ªè¡¨å•å…ƒç´ å¿…é¡»è¦æœ‰ onChange äº‹ä»¶ï¼Œè¿™æ ·ç”¨æˆ·æ¯æ¬¡æ“ä½œå¯¹åº”çš„å…ƒç´ ï¼Œå¯¹åº”å…ƒç´ æ•°æ®æ‰èƒ½å¾—åˆ°æ”¹å˜ 2.uncontrolled_Component ( éå—æ§ç»„ä»¶ )123456789101112/*uncontrolled Component*/class App extends Component &#123; render()&#123; return( &lt;form method='get' action=\"/\"&gt; &lt;input type=\"text\" name='name' defaultValue='å§“å'/&gt; &lt;textarea name=\"text\" defaultValue='æƒ³æ³•'&gt;&lt;/textarea&gt; &lt;input type=\"submit\"/&gt; &lt;/form&gt; ) &#125;&#125; å¯ä»¥çœ‹åˆ° input å’Œ textareaçš„valueå€¼å…¨éƒ½æ˜¯ç”±è‡ªèº«DOMå…ƒç´ æ¥ç®¡ç†çš„ã€‚ æ³¨æ„ :éå—æ§ç»„ä»¶è¿™åŠŸä¸­ï¼Œé€šå¸¸ä½ éœ€è¦æŒ‡å®šè¡¨å•å…ƒç´ çš„åˆå§‹å€¼ï¼Œä½†ä¸æ§åˆ¶åç»­çš„æ›´æ–°ï¼Œè¿™ç§æƒ…å†µéœ€è¦æŒ‡å®š defaultValue å±æ€§ï¼Œè€Œä¸æ˜¯ valueå±æ€§å¦‚æœä½ ä¸æƒ³è®©ä»–æœ‰åˆå§‹å€¼ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å†™ defaultValue ä¸‰ã€ä¸¤è€…ä¼˜ç¼ºç‚¹ï¼Ÿ name ä¼˜ç‚¹ ç¼ºç‚¹ éå—æ§ç»„ä»¶ ç®€ç»ƒã€æ“ä½œæ•°æ®çš„æ–¹å¼æ›´ç®€æ´ è¡¨å•éªŒè¯ ã€é€‰æ‹©æ€§å¼€å¯æˆ–è€…å…³é—­æŒ‰é’® ç­‰åŠŸèƒ½ä¸èƒ½å¤„ç† å—æ§ç»„ä»¶ ç›¸æ¯”ä¹‹ä¸‹ç•¥æ˜¾ç¹ç è¡¨å•éªŒè¯ ã€é€‰æ‹©æ€§å¼€å¯æˆ–è€…å…³é—­æŒ‰é’® ç­‰åŠŸèƒ½èƒ½è½»æ¾å¤„ç† æ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹å—æ§ç»„ä»¶æ›´èƒ½æ»¡è¶³æˆ‘ä»¬éœ€æ±‚","categories":[],"tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"sublimeä¸­ä½¿ç”¨EditorConfig","slug":"sublimeä¸­ä½¿ç”¨editconfig","date":"2018-01-19T02:22:50.000Z","updated":"2021-01-25T10:48:26.379Z","comments":true,"path":"2018/01/19/sublimeä¸­ä½¿ç”¨editconfig/","link":"","permalink":"http://yoursite.com/2018/01/19/sublimeä¸­ä½¿ç”¨editconfig/","excerpt":"","text":"ä¸€ã€ä½œç”¨EditorConfigæ˜¯ç»Ÿä¸€ä»£ç æ ¼å¼çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…åœ¨ä¸åŒçš„ç¼–è¾‘å™¨å’ŒIDEä¹‹é—´å®šä¹‰å’Œç»´æŠ¤ä¸€è‡´çš„ä»£ç é£æ ¼ï¼Œæ¯”å¦‚å¤šäººåˆä½œçš„æ—¶å€™ç»Ÿä¸€ä»£ç é£æ ¼ï¼Œé¿å…ä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼Œå¢åŠ ä»£ç å¯è¯»æ€§ äºŒã€ä½¿ç”¨æ–¹æ³•1.ç¼–è¾‘å™¨æ’ä»¶æœ‰äº›ç¼–è¾‘å™¨å·²ç»é›†æˆäº†è¿™ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥ä¸ç”¨å†å®‰è£…ï¼Œè€Œæœ‰äº›ç¼–è¾‘å™¨æ²¡æœ‰é›†æˆè¿™ä¸ªæ’ä»¶ï¼Œéœ€è¦å®‰è£… ä¸‹é¢è¿™äº›ç¼–è¾‘å™¨ä¸éœ€è¦å®‰è£…ï¼š å·²ç»é›†æˆçš„ç¼–è¾‘å™¨ è¿™äº›ç¼–è¾‘å™¨éœ€è¦å®‰è£…ï¼š éœ€è¦å•ç‹¬å®‰è£…æ’ä»¶çš„ç¼–è¾‘å™¨ sublimeé‡Œç›´æ¥æœç´¢ EditorConfig å®‰è£…å³å¯ å®‰è£… 2.é…ç½®æ–‡ä»¶è¯´æ˜åœ¨éœ€è¦çš„åœ°æ–¹é…ç½® .editorconfigæ–‡ä»¶ æ³¨æ„1ï¼š å½“æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼ŒEditorConfigæ’ä»¶ä¼šåœ¨æ‰“å¼€æ–‡ä»¶çš„ç›®å½•å’Œå…¶æ¯ä¸€çº§çˆ¶ç›®å½•æŸ¥æ‰¾.editorconfigæ–‡ä»¶ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶root=trueã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ¯”å¦‚æˆ‘çš„æ–‡ä»¶ç»“æ„æ˜¯è¿™æ ·çš„ï¼š æ–‡ä»¶ç›®å½• åœ¨ b.js é‡Œçš„ä»£ç ï¼Œä¼šå…ˆä»åŒçº§ç›®å½• â€”â€”&gt; çˆ¶çº§ç›®å½• è¿™ä¸ªè·¯å¾„è¿›è¡ŒæŸ¥æ‰¾ï¼ˆå†’æ³¡ ï¼‰ï¼Œå¦‚æœé‡åˆ°äº† .editorconfig é‡Œ root=true åˆ™åœæ­¢ï¼Œå› ä¸º b.js åŒçº§ç›®å½•çš„ .editorconfig é‡Œ root=true æ‰€ä»¥ b.js ç”¨çš„å°±æ˜¯b.jsä¸Šé¢è¿™ä¸ªæ–‡ä»¶é…ç½®çš„è§„åˆ™ æ³¨æ„2ï¼šEditorConfigé…ç½®æ–‡ä»¶ä»ä¸Šå¾€ä¸‹è¯»å–ï¼Œå¹¶ä¸”è·¯å¾„æœ€è¿‘çš„æ–‡ä»¶æœ€åè¢«è¯»å–ã€‚åŒ¹é…çš„é…ç½®å±æ€§æŒ‰ç…§å±æ€§åº”ç”¨åœ¨ä»£ç ä¸Šï¼Œæ‰€ä»¥æœ€æ¥è¿‘ä»£ç æ–‡ä»¶çš„å±æ€§ä¼˜å…ˆçº§æœ€é«˜ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ .editconfig æ„æ€å°±æ˜¯ æˆ‘çš„ jsæ–‡ä»¶ä¼šè¯»å– æ³¨é‡Š2 (ç¬¬åè¡Œ)ä¸‹é¢çš„é…ç½®ï¼Œè€Œpythonæ–‡ä»¶ä¼šè¯»å–ä¸Šé¢ (æ³¨é‡Š1)çš„é…ç½® 3.æ–‡ä»¶æ ¼å¼è¯¦æƒ…EditorConfigæ–‡ä»¶ä½¿ç”¨INIæ ¼å¼ï¼Œæ–œæ (/)ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ï¼Œ#æˆ–è€…;ä½œä¸ºæ³¨é‡Šã€‚æ³¨é‡Šåº”è¯¥å•ç‹¬å ä¸€è¡Œã€‚ 4.æ”¯æŒçš„å±æ€§æ³¨æ„ï¼šä¸æ˜¯æ¯ç§æ’ä»¶éƒ½æ”¯æŒæ‰€æœ‰çš„å±æ€§ï¼Œå…·ä½“å¯è§Wikiã€‚ indent_styleï¼štabä¸ºhard-tabsï¼Œspaceä¸ºsoft-tabsã€‚indent_sizeï¼šè®¾ç½®æ•´æ•°è¡¨ç¤ºè§„å®šæ¯çº§ç¼©è¿›çš„åˆ—æ•°å’Œsoft-tabsçš„å®½åº¦ï¼ˆè¯‘æ³¨ï¼šç©ºæ ¼æ•°ï¼‰ã€‚å¦‚æœè®¾å®šä¸ºtabï¼Œåˆ™ä¼šä½¿ç”¨tab_widthçš„å€¼ï¼ˆå¦‚æœå·²æŒ‡å®šï¼‰ã€‚tab_widthï¼šè®¾ç½®æ•´æ•°ç”¨äºæŒ‡å®šæ›¿ä»£tabçš„åˆ—æ•°ã€‚é»˜è®¤å€¼å°±æ˜¯indent_sizeçš„å€¼ï¼Œä¸€èˆ¬æ— éœ€æŒ‡å®šã€‚end_of_lineï¼šå®šä¹‰æ¢è¡Œç¬¦ï¼Œæ”¯æŒlfã€crå’Œcrlfã€‚charsetï¼šç¼–ç æ ¼å¼ï¼Œæ”¯æŒlatin1ã€utf-8ã€utf-8-bomã€utf-16beå’Œutf-16leï¼Œä¸å»ºè®®ä½¿ç”¨uft-8-bomã€‚trim_trailing_whitespaceï¼šè®¾ä¸ºtrueè¡¨ç¤ºä¼šé™¤å»æ¢è¡Œè¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦ï¼Œfalseåä¹‹ã€‚insert_final_newlineï¼šè®¾ä¸ºtrueè¡¨æ˜ä½¿æ–‡ä»¶ä»¥ä¸€ä¸ªç©ºç™½è¡Œç»“å°¾ï¼Œfalseåä¹‹ã€‚rootï¼šè¡¨æ˜æ˜¯æœ€é¡¶å±‚çš„é…ç½®æ–‡ä»¶ï¼Œå‘ç°è®¾ä¸ºtrueæ—¶ï¼Œæ‰ä¼šåœæ­¢æŸ¥æ‰¾.editorconfigæ–‡ä»¶ã€‚ ä¸‰ã€æˆ‘é‡åˆ°çš„é—®é¢˜çœ‹æˆ‘çš„é…ç½®æ–‡ä»¶ï¼š .editconfig æˆ‘è®¾ç½®äº†ç¼©è¿›æ–¹å¼ä¸º tab,æ¯çº§ç¼©è¿› 8 åˆ—ï¼Œä½†æ˜¯æˆ‘è®¾ç½®å¥½åï¼Œæ‰“å¼€a.jsæ–‡ä»¶åæ¯çº§çš„ç¼©è¿›å¹¶æ²¡æœ‰å˜åŒ–ï¼Œä¸ºæ­¤æˆ‘è¿˜æ‰¾äº†å¥½ä¹…~â•®(â•¯â–½â•°)â•­ï¼Œæœ€åæˆ‘å‘ç°ï¼Œåªè¦æŠŠa.jså…³é—­ï¼Œå†æ‰“å¼€å°±ç”Ÿæ•ˆäº†~ å››ã€æ€»ç»“EditorConfig å¯ä»¥è¯´å¾ˆå¥½ç”¨äº†ï¼Œå¾ˆé€‚åˆå¤šäººåˆä½œæƒ…æ™¯ï¼Œä½†è¿™ä¸ªåªæ˜¯ç¼–è¾‘å™¨çº§åˆ«çš„æ ¼å¼ç»Ÿä¸€ï¼Œæˆ‘ä¼šåœ¨åé¢è¯´åˆ°ä»£ç çº§åˆ«çš„æ£€æµ‹â€”ESLintï¼Œå®ƒå¯ä»¥é€šè¿‡æˆ‘ä»¬é…ç½®å¾ˆè¯¦ç»†çš„é…ç½®æ–‡ä»¶ï¼Œæ¥è§„èŒƒæˆ‘ä»¬çš„ä»£ç é£æ ¼ã€‚","categories":[],"tags":[{"name":"EditorConfig","slug":"EditorConfig","permalink":"http://yoursite.com/tags/EditorConfig/"}]},{"title":"http-proxy-middlewareé…åˆgulpä½¿ç”¨æ—¶çš„ä¸€äº›å‘","slug":"http-proxy-middlewareé…åˆgulpä½¿ç”¨æ—¶çš„ä¸€äº›å‘","date":"2018-01-09T01:23:58.000Z","updated":"2021-01-25T10:48:26.376Z","comments":true,"path":"2018/01/09/http-proxy-middlewareé…åˆgulpä½¿ç”¨æ—¶çš„ä¸€äº›å‘/","link":"","permalink":"http://yoursite.com/2018/01/09/http-proxy-middlewareé…åˆgulpä½¿ç”¨æ—¶çš„ä¸€äº›å‘/","excerpt":"","text":"ä¸€ã€ä»‹ç»åœ¨æˆ‘ä»¬ç”¨gulpã€webpackç­‰æ–¹å¼å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œç”±äºä¼šå¯åŠ¨ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥å¦‚æœè®¿é—®åå°æä¾›çš„æ¥å£å°±æ˜¯è·¨åŸŸäº†ï¼Œè¿™ç§æƒ…å†µè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™å°±æ¶‰åŠåˆ°äº† ä»£ç†æœåŠ¡ çš„é…ç½®ï¼Œreacté¡¹ç›®çš„webpackçš„ä»£ç†æœåŠ¡é…ç½®æˆ‘ä¹‹å‰å·²ç»å†™è¿‡äº†ï¼Œä¼ é€é—¨~~ã€‚å› ä¸ºä½¿ç”¨ http-proxy-middleware ä¹Ÿé‡åˆ°äº†å¤šå¤šå°‘å°‘çš„é—®é¢˜ï¼Œç½‘ä¸Šå…³äºé‡åˆ°çš„é—®é¢˜è§£å†³åŠæ³•å¾ˆå°‘æˆ–æ˜¯æ²¡æœ‰æåŠï¼ˆéš¾é“é—®é¢˜å¤ªå¼±æ™ºï¼Ÿï¼‰ï¼Œæ‰€ä»¥å†™ä¸‹è¿™ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹ï¼ˆå¹²è´§æ»¡æ»¡å‘¦ï¼‰ï¼Œå¦‚æœé”™è¯¯çƒ¦è¯·æŒ‡å‡º~~~ äºŒã€ç¯å¢ƒå…ˆè¯´æ˜æˆ‘çš„ç¯å¢ƒï¼šgulp + é™æ€html ã€‚gulpä¸»è¦æ˜¯å¤„ç† less æ–‡ä»¶å’Œå¯åŠ¨æœåŠ¡å™¨æ–¹ä¾¿ç¨‹åºè°ƒè¯• ä¸‰ã€ç›®çš„æœ¬åœ°çš„æœåŠ¡å™¨ä¸ºï¼šlcoalhost:8080ï¼Œæƒ³è¦è¯·æ±‚çš„åœ°å€ä¸ºï¼šhttps://c.y.qq.com/soso/fcgi-bin/client_search_cp?ct=24&amp;qqmusic_ver=1298&amp;new_json=1&amp;remoteplace=txt.yqq.center&amp;searchid=36602231022813110&amp;t=0&amp;aggr=1&amp;cr=1&amp;catZhida=1&amp;lossless=0&amp;flag_qc=0&amp;p=1&amp;n=20&amp;w=%E7%AB%A5%E5%B9%B4&amp;g_tk=1134636089&amp;jsonpCallback=MusicJsonCallback12090870182687685&amp;loginUin=619697451&amp;hostUin=0&amp;format=jsonp&amp;inCharset=utf8&amp;outCharset=utf-8&amp;notice=0&amp;platform=yqq&amp;needNewCode=0 ï¼ˆè¯·æ±‚åœ°å€æ˜¯æˆ‘ä»QQéŸ³ä¹æ‰¾çš„ï¼Œæ­£å› ä¸ºè¿™æ ·æˆ‘åˆé‡åˆ°äº†å¦å¤–ä¸€ä¸ª ajaxçš„å‘ï¼Œæœ€åä¸€èŠ‚æœ‰è¯´æ˜ï¼Œæ‰€ä»¥è¿™ä¸ªåœ°å€ä¹Ÿå…·æœ‰ä¸€å®šçš„æ•™å­¦æ„ä¹‰ï¼‰ å››ã€é…ç½®1.gulpfile.js1234567891011121314151617181920212223var gulp = require('gulp'), connect = require('gulp-connect'), proxy = require('http-proxy-middleware'), path = require('path'),gulp.task('connect', function() &#123; connect.server(&#123; /*æ ¹è·¯å¾„*/ root: './dist', /*å¼€å¯æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°*/ livereload: true, /*ç«¯å£å·*/ port: 8080, /*ä½¿ç”¨ä»£ç†æœåŠ¡*/ middleware: function(connect, opt) &#123; return [ proxy('/api/', &#123; target: 'https://c.y.qq.com/', changeOrigin:true, &#125;) ] &#125; &#125;);&#125;); è¯´æ˜ proxyé…ç½®é¡¹ï¼š å…¶ä¸­return è¿”å›æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥é€šè¿‡é…ç½®å¤šä¸ªproxyè¿”å›å€¼å¯ä»¥å®ç°å¤šé‡ä»£ç† changeOrigin è¿™ä¸ªæ„æ€æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä»£ç†çš„ç›®æ ‡åœ°å€æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ‰˜ç®¡ç«™ç‚¹ï¼Œæ¯”å¦‚ http://www.baidu.com è¿™ç§åŸŸåçš„å½¢å¼çš„targeté¡¹ï¼Œåˆ™éœ€è¦é…ç½®æ­¤é¡¹ã€‚å¦‚æœtargeté¡¹ä¸ºipå€¼ï¼Œæ¯”å¦‚http://10.10.16.5/ åˆ™ä¸ç”¨é…ç½®æ­¤é¡¹ 2.index.html12345678910$.ajax(&#123; type: 'GET', url: \"/api/soso/fcgi-bin/client_search_cp?ct=24&amp;qqmusic_ver=1298&amp;new_json=1&amp;remoteplace=txt.yqq.center&amp;searchid=36602231022813110&amp;t=0&amp;aggr=1&amp;cr=1&amp;catZhida=1&amp;lossless=0&amp;flag_qc=0&amp;p=1&amp;n=20&amp;w=%E7%AB%A5%E5%B9%B4&amp;g_tk=1134636089&amp;jsonpCallback=MusicJsonCallback12090870182687685&amp;loginUin=619697451&amp;hostUin=0&amp;format=jsonp&amp;inCharset=utf8&amp;outCharset=utf-8&amp;notice=0&amp;platform=yqq&amp;needNewCode=0\", success: function(result)&#123; console.log(result); &#125;, error:function(err)&#123; console.log(err+'å¤±è´¥') &#125;&#125;); 3.ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œè¯·æ±‚å¤±è´¥ /(ã„’oã„’)/~~ 4.è§£å†³åŠæ³•å°±æ˜¯åœ¨è¿™ä¸ªé—®é¢˜ä¸Šæˆ‘å¡äº†ä¸€ä¸‹åˆï¼Œä¸ºäº†èƒ½æ¸¸åˆƒæœ‰ä½™çš„ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œæœ‰äº›åŸºæœ¬çš„å‚æ•°è¿˜æ˜¯è¦éå¸¸æ˜ç™½çš„123pathRewrite: &#123; '^/api/' : '', // rewrite path &#125;, å¾ˆå¤šçš„æŠ€æœ¯æ–‡ç« çš„é…ç½®éƒ½æœ‰å†™è¿™ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯å¾ˆå°‘æœ‰ä»‹ç»è¿™ä¸ªå‚æ•°çš„æ„æ€ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ä¸é…ç½®æ­¤é¡¹çœŸæ­£è¯·æ±‚çš„åœ°å€ï¼š ä¸é…ç½®è¿™ä¸ªå‚æ•°è¯·æ±‚ä»£ç†çš„åœ°å€ï¼šhttps://c.y.qq.com/ api /soso/fcgi-bin/client_search_cp?ct=24&amp;qqmusic_ver=1298&amp;new_json=1&amp;remoteplace=txt.yqq.center&amp;searchid=36602231022813110&amp;t=0&amp;aggr=1&amp;cr=1&amp;catZhida=1&amp;lossless=0&amp;flag_qc=0&amp;p=1&amp;n=20&amp;w=%E7%AB%A5%E5%B9%B4&amp;g_tk=1134636089&amp;jsonpCallback=MusicJsonCallback12090870182687685&amp;loginUin=619697451&amp;hostUin=0&amp;format=jsonp&amp;inCharset=utf8&amp;outCharset=utf-8&amp;notice=0&amp;platform=yqq&amp;needNewCode=0çœ‹æˆ‘æ ‡è®°ç²‰è‰²çš„åœ°æ–¹ï¼Œå†å›è¿‡å¤´å¯¹æ¯”æˆ‘ä»¬è¦è¯·æ±‚çš„åœ°å€ï¼Œæ˜¯ä¸æ˜¯å¤šä¸ªäº† /api/ ? æ‰€ä»¥ pathRewrite è¿™ä¸ªé…ç½®é¡¹çš„æ„æ€æ˜¯ï¼Œå½“æœ‰ /api/ å­—æ®µè¯·æ±‚çš„æ—¶å€™ï¼ŒæŒ‡å®š é‡å†™ /api/ è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™é‡Œä¸ºç©ºã€‚ æ¯”å¦‚ï¼šç›®æ ‡åœ°å€ï¼šhttp://www.baidu.com/aaa/bbb proxyé…ç½®ï¼š12345proxy('/api/', &#123; target: 'http://www.baidu.com/', changeOrigin:true, &#125;) æœ¬åœ°æœåŠ¡å™¨ï¼šhttp://localhost:8888 ajaxï¼š12345678910$.ajax(&#123; type: 'GET', url: \"/api/aaa/bbb\", success: function(result)&#123; console.log(result); &#125;, error:function(err)&#123; console.log(err+'å¤±è´¥') &#125;&#125;); ä½†æ˜¯å®é™…ä¸Šè¯·æ±‚çš„æ˜¯ http://www.baidu.com/api/aaa/bbb è¿™ä¸ªåœ°å€ ï¼ï¼ï¼ï¼ï¼ã€‚ æ‰€ä»¥ç¬¬ä¸€ç§è§£å†³åŠæ³•æ˜¯é…ç½®é‡å†™è·¯å¾„1234567proxy('/api/', &#123; target: 'http://www.baidu.com/', changeOrigin:true, pathRewrite: &#123; '^/api/' : '', // rewrite path &#125;,&#125;) ç¬¬äºŒç§è§£å†³åŠæ³•å°±æ˜¯åˆ©ç”¨å·²æœ‰è·¯å¾„ 1234proxy('/aaa/', &#123; target: 'http://www.baidu.com/', changeOrigin:true,&#125;) å…³äº http-proxy-middleware æˆ‘é‡åˆ°çš„é—®é¢˜ï¼Œå·²ç»è¯´å®Œäº†ã€‚ä¸‹é¢æ¥è¯´ ajaxçš„ä¸€ä¸ªå‘ äº”ã€ajaxç”¨jqçš„ ajaxè¯·æ±‚ä¸€ä¸ªåœ°å€ï¼Œå¦‚æœè¿”å›çš„æ•°æ®æ ¼å¼ä¸ajaxé‡Œé¢„æœŸæ ¼å¼çš„é…ç½®ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨ error å‡½æ•°é‡Œé¢è¿”å›åå°æä¾›çš„æ•°æ® ï¼Œå…·ä½“ä¾‹å­å°±ä¸å†™äº†ï¼Œå¾ˆç®€å•ï¼Œå¯ä»¥è¯•ä¸€è¯•","categories":[],"tags":[{"name":"gulp","slug":"gulp","permalink":"http://yoursite.com/tags/gulp/"},{"name":"ajax","slug":"ajax","permalink":"http://yoursite.com/tags/ajax/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"http://yoursite.com/tags/è·¨åŸŸ/"},{"name":"ä»£ç†","slug":"ä»£ç†","permalink":"http://yoursite.com/tags/ä»£ç†/"}]},{"title":"webpackçƒ­æ›´æ–°(HMR)","slug":"webpackçƒ­æ›´æ–°-HMR","date":"2018-01-02T07:40:44.000Z","updated":"2021-01-25T10:48:26.380Z","comments":true,"path":"2018/01/02/webpackçƒ­æ›´æ–°-HMR/","link":"","permalink":"http://yoursite.com/2018/01/02/webpackçƒ­æ›´æ–°-HMR/","excerpt":"","text":"ä¸€ã€HMRä»‹ç»åœ¨æˆ‘ä»¬å¼€å‘reactåº”ç”¨çš„æ—¶å€™ï¼Œåœ¨é…ç½®äº†webpack-dev-serverçš„å‰æä¸‹æ¯ä¸€æ¬¡çš„ç»„ä»¶å†…å®¹ä¿®æ”¹éƒ½éœ€è¦æ‰‹åŠ¨çš„åˆ·æ–°æµè§ˆå™¨ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æœ‰äº†çƒ­æ›´æ–°è¿™ä¸ªæ¦‚å¿µï¼Œç½‘ä¸Šçš„æ–‡ç« å¼„å¾—æˆ‘ä¸€å¤´é›¾æ°´ï¼Œåœ¨æˆ‘é…ç½®æˆåŠŸåï¼Œè‡ªå·±æ¥è®°å½•ä¸€ä¸‹çƒ­æ›´æ–°çš„é…ç½® æ—¶éš”ä¸‰ä¸ªæœˆä»Šå¤©å‘ç°äº†é…ç½®æ›´ç®€å•çš„çƒ­æ›¿æ¢çš„æ–¹æ³•ï¼Œç‚¹æˆ‘æŸ¥çœ‹ äºŒã€é…ç½®1.ä»é›¶å¼€å§‹â€“é¡¹ç›®åˆå§‹åŒ–é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„reactçš„é¡¹ç›®ï¼Œç„¶åå‘½ä»¤è¡Œè¿è¡Œ npm init ç”Ÿæˆ package.json æ–‡ä»¶ã€‚ æ–°å»º build,client æ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«ç”¨æ¥å­˜æ”¾ webpack é…ç½®ï¼ˆwebpack.config.jsæ–‡ä»¶ï¼‰å’Œ react ç»„ä»¶ã€‚å½“å‰ç›®å½•ç»“æ„ï¼š ç›®å½•ç»“æ„ 2.åŸºæœ¬çš„webpacké…ç½®ä¸ºäº†è‡ªåŠ¨äº§å‡ºhtmlæ–‡ä»¶ï¼Œå®‰è£… html-webpack-plugin ä¸ºäº†è§£æ react ç»„ä»¶å’Œå¯¹es6çš„è§£æï¼Œå®‰è£… babel-loader babel-core babel-preset-es2015 babel-preset-es2015-loose babel-preset-react æ¨¡å—ï¼Œå¹¶åœ¨æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶ .babelrc æ–‡ä»¶ babel çš„é…ç½®æ–‡ä»¶ .babelrc æ­¤æ—¶ package.json æ–‡ä»¶çš„åŒ… package.json æ·»åŠ  webpack-devserver é…ç½®ï¼Œæ­¤æ—¶ webpack-config.js é…ç½®å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738394041const path=require('path');const HtmlWebpackPlugin=require('html-webpack-plugin');module.exports=&#123; entry: &#123; app:path.join(__dirname,'../client/app.js') &#125;, output:&#123; filename:'[name].[hash].js', path:path.join(__dirname,'../dist'), publicPath:'/public/' &#125;, module:&#123; rules:[ &#123; test:/\\.(jsx|js)$/, loader:'babel-loader', exclude:path.join(__dirname,'../node_modules') &#125; ] &#125;, plugins:[ new HtmlWebpackPlugin() ], devServer:&#123; /*ä»£è¡¨æœ¬æœº ä¹Ÿå¯ä»¥é€šè¿‡ipæˆ–è€…localhostè¿™ç§æ–¹å¼ï¼Œä½†æ˜¯ç”¨åé¢çš„ä¸¤ç§æ–¹å¼çš„è¯ï¼Œå±€åŸŸç½‘å†…æ˜¯è®¿é—®ä¸åˆ°æœ¬æœºçš„ï¼Œæ‰€ä»¥ç”¨äº†0.0.0.0*/ host:'0.0.0.0', port:'8888', contentBase:path.join(__dirname,'../dist'), /*æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯*/ overlay:&#123; errors:true &#125;, /*å› ä¸ºä¸Šé¢çš„publicPath:'/public/'ï¼Œæ‰€ä»¥è®¿é—®çš„æ‰€æœ‰è·¯å¾„éƒ½è¦åŠ ä¸Špublic*/ publicPath:'/public/', historyApiFallback:&#123; /*å¦‚æœé¡µé¢404åˆ™è¿”å›ä¸‹é¢é…ç½®çš„é¡µé¢*/ index:'/public/index.html' &#125; &#125;&#125; æ­¤æ—¶å¯åŠ¨webpack-dev-serveråï¼Œè¿è¡ŒæˆåŠŸ package.json å‹æƒ…æç¤ºï¼šï¼š å¦‚æœåœ¨æ‰§è¡Œå‘½ä»¤çš„è¿‡ç¨‹ä¸­æŠ¥é”™ â€˜cannot find â€¦â€™ è¿™ç±»çš„é”™è¯¯ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦å°‘è£…äº†åŒ…ï¼Œå¦‚æœæ²¡æœ‰å°‘è£…ï¼Œåˆ™åˆ é™¤ node_moduleæ–‡ä»¶å¤¹ï¼Œé‡æ–°å®‰è£…ä¸‹ã€‚ å¦‚æœè¿è¡Œ webpack-dev-server å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™ï¼Œç½‘é¡µçš„ js æ–‡ä»¶æ˜¾ç¤º404ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ¬åœ°å·²ç»æœ‰äº†ä¸€ä¸ªç¼–è¯‘å¥½çš„ dist æ–‡ä»¶å¤¹ï¼Œå› ä¸ºwebpack-dev-serverä¼šä¼˜å…ˆè¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œé…ç½®çš„æ—¶å€™æˆ‘ä»¬æ·»åŠ äº† /pubilc/ æ‰€ä»¥æ˜¯è¯»å–ä¸é“å¾·ï¼Œè¿™æ—¶ï¼Œåˆ é™¤æœ¬åœ° distæ–‡ä»¶å¤¹å³å¯ã€‚ï¼ˆè¿™ä¸ªç›¸å½“ç›¸å½“çš„å‘ï¼‰ åœ¨å…¥å£æ–‡ä»¶ä¸­ï¼Œæˆ‘è¿™æ ·å†™ document.body æ˜¯ä¸å¯å–çš„ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ è·å–Idçš„å½¢å¼ã€‚ çŸ¥è¯†ç‚¹ï¼( æ•²é»‘æ¿ )ï¼špath.join å’Œ path.resolve åŒºåˆ« path.joinï¼šæ‹¼æ¥åœ°å€ï¼ˆä¼šæ­£ç¡®ä½¿ç”¨å½“å‰ç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ï¼ŒUnixç³»ç»Ÿæ˜¯/ï¼ŒWindowsç³»ç»Ÿæ˜¯\\ï¼‰æ¯”å¦‚ï¼špath.joinï¼ˆâ€˜mâ€™,â€™/bâ€™ï¼‰ æˆ–è€… path.joinï¼ˆâ€˜mâ€™,â€™bâ€™ï¼‰ è¿”å›m/bè¿™ä¸ªè·¯å¾„path.resolveï¼šå°†å‚æ•°è½¬æ¢ä¸ºç»å¯¹è·¯å¾„æ¯”å¦‚ path.resolve(â€˜mâ€™) ;å¦‚æœå½“å‰å‘½ä»¤çª—å£æ˜¯åœ¨cç›˜æ‰“å¼€çš„ï¼Œé‚£ä¹ˆè¿”å›C:\\m(æ€»æ˜¯è¿”å›ä¸€ä¸ªç»å¯¹è·¯å¾„)å¯¹æ¯”ï¼šä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥è·å¾—å½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„ï¼ˆé€šè¿‡__dirnameï¼‰ï¼Œå› ä¸ºpath.joinå¯ä»¥é€‚åº”unixå’Œwindowsï¼Œæ‰€ä»¥joinå¯èƒ½å¥½ä¸€äº› ä¸‰ã€é‡å¤´æˆ-é…ç½®HMRè¿™é‡Œè¯´æ˜¯ç®€å•ï¼Œä½†æˆ‘è§‰å¾—å¯¹äºåˆæ¬¡ä½¿ç”¨è¿˜æ˜¯æ¯”è¾ƒç¹çï¼Œæ•´ç†ä¸€ä¸‹ï¼Œåˆ†ä¸ºä¸‹é¢å‡ ä¸ªæ­¥éª¤(ä¸é¡ºåºæ— å…³) å®‰è£… react-hot-loader é…ç½® babelrc æ–‡ä»¶ é…ç½® å…¥å£æ–‡ä»¶app.js é…ç½® webpack.config.js 2.é…ç½® .babelrc æ–‡ä»¶ .babelrc 3. é…ç½® å…¥å£æ–‡ä»¶app.js 4. é…ç½® webpack.config.jsæ”¹åŠ¨éƒ¨åˆ†æ ‡è®°ä¸º //add 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748const path=require('path');const HtmlWebpackPlugin=require('html-webpack-plugin');const webpack=require('webpack'); //addmodule.exports=&#123; entry: &#123; app:[ 'react-hot-loader/patch', //add path.join(__dirname,'../client/app.js') ] &#125;, output:&#123; filename:'[name].[hash].js', path:path.join(__dirname,'../dist'), publicPath:'/public/' &#125;, module:&#123; rules:[ &#123; test:/\\.(jsx|js)$/, loader:'babel-loader', exclude:path.join(__dirname,'../node_modules') &#125; ] &#125;, plugins:[ new HtmlWebpackPlugin(), new webpack.HotModuleReplacementPlugin() //add ], devServer:&#123; /*ä»£è¡¨æœ¬æœº ä¹Ÿå¯ä»¥é€šè¿‡ipæˆ–è€…localhostè¿™ç§æ–¹å¼ï¼Œä½†æ˜¯ç”¨åé¢çš„ä¸¤ç§æ–¹å¼çš„è¯ï¼Œå±€åŸŸç½‘å†…æ˜¯è®¿é—®ä¸åˆ°æœ¬æœºçš„ï¼Œæ‰€ä»¥ç”¨äº†0.0.0.0*/ host:'0.0.0.0', port:'8888', contentBase:path.join(__dirname,'../dist'), /*çƒ­åŠ è½½*/ //add hot:true, //add /*æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯*/ overlay:&#123; errors:true &#125;, /*å› ä¸ºä¸Šé¢çš„publicPath:'/public/'ï¼Œæ‰€ä»¥è®¿é—®çš„æ‰€æœ‰è·¯å¾„éƒ½è¦åŠ ä¸Špublic*/ publicPath:'/public/', historyApiFallback:&#123; /*å¦‚æœé¡µé¢404åˆ™è¿”å›ä¸‹é¢é…ç½®çš„é¡µé¢*/ index:'/public/index.html' &#125; &#125;&#125; react-hot-loaderå‚è€ƒ å¥½äº†ï¼Œè¯¥åšçš„åšå®Œäº†ï¼Œæ‰“å¼€æµè§ˆå™¨æµ‹è¯•ï¼Œå‘ç°æ›´æ”¹App.jsxæ–‡ä»¶åæµè§ˆå™¨ç«Ÿç„¶ç‰¹ä¹ˆæ²¡æœ‰å˜åŒ–,è¿™å°±å¾ˆæ°”äººï¼Œæˆ‘ä¹ŸæŒ‰ç…§ä½ å®˜ç½‘ä¸Šå†™çš„åšäº†ï¼Œç°åœ¨å‡ºä¸æ¥ï¼Ÿå¥½å§ï¼Œçœ‹ä¸‹é¢çš„è§£å†³åŠæ³• å››ã€è§£å†³ä¸Šé¢çš„é—®é¢˜app.jsè¿™ä¸ªå…¥å£æ–‡ä»¶ä¸­ï¼Œæ›´æ”¹ä¸ºï¼š æ›´æ”¹ä¸º å¦‚æœæœ‰äº†æ›´æ”¹ï¼Œé‚£ä¹ˆ é‡æ–°ç”¨ require çš„æ–¹å¼è·å–ä¸€ä¸‹è¿™ä¸ªç»„ä»¶ï¼Œç„¶åè¿›è¡Œæ¸²æŸ“ æˆåŠŸå•¦ï¼ æ˜¯ä¸æ˜¯æœ‰äº†ç–‘é—®ï¼Œä¸ºå•¥ç”¨ require çš„æ–¹å¼å¼•å…¥å‘¢ï¼Ÿå› ä¸ºè¿™ç§å½¢å¼çš„æ–‡ä»¶å¼•å…¥importçš„æ–¹å¼å¼•å…¥ä¸äº† äº”ã€æ€»ç»“æœ¬æ¥ä¸€ä¸ªæŒºå¥½çš„åŠŸèƒ½ï¼Œåˆ†åˆ«å†™åœ¨äº† webpackå®˜ç½‘å’Œ react-hot-loader å®˜ç½‘ï¼Œè¿™è¿˜ä¸ç®—å•¥ï¼Œæœ€åè¿˜è¿è¡Œä¸äº†ï¼Œå¤šå‘ï¼Œå¥½äº†å°±è®°å½•åˆ°è¿™é‡Œäº†,å¦‚æœæœ‰é—®é¢˜æˆ–è€…è¡¥å……æ¬¢è¿å›å¤","categories":[],"tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"},{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"},{"name":"HMR","slug":"HMR","permalink":"http://yoursite.com/tags/HMR/"}]},{"title":"reactæœåŠ¡ç«¯æ¸²æŸ“","slug":"reactæœåŠ¡ç«¯æ¸²æŸ“","date":"2017-12-26T09:02:19.000Z","updated":"2021-01-25T10:48:26.378Z","comments":true,"path":"2017/12/26/reactæœåŠ¡ç«¯æ¸²æŸ“/","link":"","permalink":"http://yoursite.com/2017/12/26/reactæœåŠ¡ç«¯æ¸²æŸ“/","excerpt":"","text":"çœ‹äº†reactæœåŠ¡ç«¯æ¸²æŸ“ï¼Œæœ‰ç‚¹è’™åœˆï¼Œå…ˆæŒ–å‘å‡†å¤‡","categories":[],"tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"selectç¦æ­¢æ›´æ”¹å€¼","slug":"selectç¦æ­¢æ›´æ”¹å€¼","date":"2017-11-30T02:31:59.000Z","updated":"2021-01-25T10:48:26.379Z","comments":true,"path":"2017/11/30/selectç¦æ­¢æ›´æ”¹å€¼/","link":"","permalink":"http://yoursite.com/2017/11/30/selectç¦æ­¢æ›´æ”¹å€¼/","excerpt":"","text":"ä¸€ã€æ•ˆæœä»‹ç»selectæ¡†é€‰ä¸­äº†ä¸€ä¸ªå€¼åç¦æ­¢æ›´æ”¹select äºŒã€æ–¹æ³•1.cssåˆ©ç”¨disabled=&quot;true&quot;æ¥ç¦æ­¢é€‰ä¸­ç¼ºç‚¹ï¼šè¿™ç§æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å®ƒç¦æ­¢äº†selectæ¡†è·å¾—ç„¦ç‚¹ï¼Œä¸èƒ½çœ‹åˆ°selectçš„å†…å®¹ä¼˜ç‚¹ï¼šç®€å• 2.js123456&lt;select name=\"selectname\" id=\"selectid\" onfocus=\"this.defaultIndex=this.selectedIndex;\" onchange=\"this.selectedIndex=this.defaultIndex;\"&gt; &lt;option value=\"1\"&gt;dd&lt;/option&gt; &lt;option value=\"2\"&gt;mm&lt;/option&gt; &lt;option value=\"3\" selected=\"selected\"&gt;cc&lt;/option&gt; &lt;option value=\"4\"&gt;ff&lt;/option&gt;&lt;/select&gt; 1.è·å–ç„¦ç‚¹æ—¶ï¼Œå°†å½“å‰çš„å€¼ selectedIndex èµ‹å€¼ç»™ä¸€ä¸ªè‡ªå®šä¹‰çš„å±æ€§ defaultIndex2.changeæ—¶ï¼Œå°†å½“å‰çš„å€¼è®¾ç½®ä¸º defaultIndex ä¼˜ç‚¹ï¼šselectæ¡†ä¾ç„¶å¯ä»¥é€‰æ‹©ï¼Œè¢«ä¸‹æ‹‰","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"}]},{"title":"æ»‘åŠ¨çª—å£ç®—æ³•è§£å†³æŒ‡å®šå­—ç¬¦ä¸²æœ€é•¿å­ä¸²é•¿åº¦é—®é¢˜","slug":"æ»‘åŠ¨çª—å£ç®—æ³•è§£å†³æŒ‡å®šå­—ç¬¦ä¸²æœ€é•¿å­ä¸²é•¿åº¦é—®é¢˜","date":"2017-11-16T07:52:51.000Z","updated":"2021-01-25T10:48:26.381Z","comments":true,"path":"2017/11/16/æ»‘åŠ¨çª—å£ç®—æ³•è§£å†³æŒ‡å®šå­—ç¬¦ä¸²æœ€é•¿å­ä¸²é•¿åº¦é—®é¢˜/","link":"","permalink":"http://yoursite.com/2017/11/16/æ»‘åŠ¨çª—å£ç®—æ³•è§£å†³æŒ‡å®šå­—ç¬¦ä¸²æœ€é•¿å­ä¸²é•¿åº¦é—®é¢˜/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"gitmentè¯„è®ºæ’ä»¶çš„é…ç½®","slug":"Hexoåšå®¢ä¸‹gitmentè¯„è®ºåŠŸèƒ½","date":"2017-11-13T08:11:31.000Z","updated":"2021-01-25T10:48:26.373Z","comments":true,"path":"2017/11/13/Hexoåšå®¢ä¸‹gitmentè¯„è®ºåŠŸèƒ½/","link":"","permalink":"http://yoursite.com/2017/11/13/Hexoåšå®¢ä¸‹gitmentè¯„è®ºåŠŸèƒ½/","excerpt":"","text":"ä»Šå¤©æˆ‘åœ¨ç¬¬Næ¬¡æ­å»ºåšå®¢çš„æ—¶å€™æƒ³åŠ ä¸€ä¸ªè¯„è®ºåŠŸèƒ½ï¼Œæˆ‘ç”¨çš„ä¸»é¢˜æ˜¯indigoï¼Œåœ¨æ ¹ç›®å½•_config.ymlæ–‡ä»¶é‡Œç»è¿‡æµ‹è¯•å‘ç°æœ€ç®€æ´å¥½ç”¨çš„å°±æ˜¯gitmentï¼Œæ‰€ä»¥è¿™é‡Œè®°å½•æˆ‘gitmenté…ç½®è¿‡ç¨‹ï¼š ç¬¬ä¸€æ­¥å…ˆæ³¨å†Œä¸€ä¸ª oAuth Applicationæ³¨å†ŒæˆåŠŸä¼šå¾—åˆ°ä¸€ä¸ªclient idå’Œ client secretä¸¤ä¸ªå‚æ•°ï¼Œå®ƒä»¬å°†è¢«ç”¨äºåé¢çš„ç”¨æˆ·ç™»å½• oAuth Application _config.yml å…¶ä¸­githubIDéœ€è¦https://api.github.com/users/githubè´¦æˆ·å è®¿é—®è¿™ä¸ªé“¾æ¥æ¥è·å– ç¬¬äºŒæ­¥å¦‚æœä½ æƒ³è¦æ­¤åŠŸèƒ½çš„é¡µé¢å­˜åœ¨è¿™ä¸€éƒ¨åˆ†ï¼š gitmenté¡µé¢é…ç½® è¿™æ˜¯ä¸€ä¸ªejsé¡µé¢ï¼Œé‡Œé¢æ˜¯æ¨¡æ¿ï¼Œé€šè¿‡ä½¿ç”¨ä¸»é¢˜çš„_config.ymlæ–‡ä»¶é…ç½®é‚£ä¹ˆä½ å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ï¼Œå¦åˆ™éœ€è¦åœ¨ä½¿ç”¨è¯„è®ºåŠŸèƒ½çš„é¡µé¢æ·»åŠ è¿™å†™ä»£ç ï¼š1234567891011121314&lt;link rel=\"stylesheet\" href=\"https://imsun.github.io/gitment/style/default.css\"&gt;&lt;script src=\"https://imsun.github.io/gitment/dist/gitment.browser.js\"&gt;&lt;/script&gt;&lt;script&gt;var gitment = new Gitment(&#123; id: 'é¡µé¢ ID', // å¯é€‰ã€‚é»˜è®¤ä¸º location.href owner: 'ä½ çš„ GitHub ID', // å¯ä»¥æ˜¯ä½ çš„GitHubç”¨æˆ·åï¼Œä¹Ÿå¯ä»¥æ˜¯github id repo: 'å­˜å‚¨è¯„è®ºçš„ github repo', oauth: &#123; client_id: 'ä½ çš„ client id', client_secret: 'ä½ çš„ client secret', &#125;,&#125;)gitment.render('container')&lt;/script&gt; ç¬¬ä¸‰æ­¥åˆ°è¿™é‡Œå·²ç»é»˜è®¤ä½ æ·»åŠ äº†ä¸Šé¢çš„ä»£ç ï¼Œç°åœ¨æ³¨æ„äº†ï¼Œæˆ‘ç”¨çš„ä¸»é¢˜æœ¬èº«å°±å¸¦ä¸Šé¢çš„ä»£ç çš„ï¼Œåªä¸è¿‡éœ€è¦åœ¨ ä¸»é¢˜çš„ _comfig.ymlæ–‡ä»¶ä¸­é…ç½®å¯¹åº”é¡¹ï¼Œæˆ‘åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¥½åï¼Œå¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œå‘ç°å›å¤æ¨¡å—æŠ¥é”™ï¼Œæ§åˆ¶å°ä¸­å‘ç°ä»–ä¼šè¯·æ±‚ä¸€ä¸ªé“¾æ¥ï¼Œé“¾æ¥ä¸Šå¸¦æœ‰åˆšåˆšé…ç½®å¥½çš„å‚æ•°ï¼Œè¿™é‡Œå‚æ•°å…¨éƒ¨ä¸ºç©ºï¼Œæˆ‘ä»¥ä¸ºæˆ‘é…ç½®æ–‡ä»¶æœ‰é—®é¢˜ï¼ŒæŠ˜è…¾äº†å¥½ä¹…ï¼Œä»ç„¶ä¸è¡Œï¼Œåæ¥å‘ç°æˆ‘è¦æ·»åŠ è¿™ä¸ªåŠŸèƒ½çš„é¡µé¢é‡Œçš„æ¨¡æ¿å¹¶æ²¡æœ‰è·å–åˆ°æˆ‘åœ¨_config.ymlé…ç½®ï¼Œæœ€åé€šè¿‡ä¿®æ”¹è¦æ·»åŠ å›å¤åŠŸèƒ½é¡µé¢çš„æ¨¡æ¿æ–‡ä»¶æ‰æˆåŠŸï¼š ä¿®æ”¹ä¸º ç›´æ¥èµ‹å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ¨¡æ¿ï¼Œä¸çŸ¥é“ä¸ºå•¥ç”¨æ¨¡æ¿è·å–ä¸åˆ°å€¼ï¼Œç°åœ¨å·²ç»é…ç½®æˆåŠŸå¦‚æœé…ç½®å¤±è´¥ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä¸Šé¢çš„å‚æ•°å†™é”™äº†ï¼Œæˆ–è€…åƒæˆ‘è¿™ç§æƒ…å†µæ¨¡æ¿é¡µé¢è·å–ä¸åˆ°å€¼ï¼Œåªéœ€è¦ç›´æ¥èµ‹å€¼å³å¯","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"}]},{"title":"forå¾ªç¯çš„çµæ´»è¿ç”¨","slug":"forå¾ªç¯çš„çµæ´»è¿ç”¨","date":"2017-11-13T08:11:30.000Z","updated":"2021-04-08T09:54:51.334Z","comments":true,"path":"2017/11/13/forå¾ªç¯çš„çµæ´»è¿ç”¨/","link":"","permalink":"http://yoursite.com/2017/11/13/forå¾ªç¯çš„çµæ´»è¿ç”¨/","excerpt":"","text":"ä¸€ã€ä»‹ç»for å¾ªç¯æ˜¯å¹³æ—¶åœ¨å†™ä»£ç è¿‡ç¨‹ä¸­æœ€å¸¸ç”¨çš„ä»£ç äº†ï¼Œä¸€èˆ¬å†™çš„æ—¶å€™éƒ½æ˜¯ä¸­è§„ä¸­çŸ©ï¼Œæ¯”å¦‚è¿™æ ·ï¼š 1234for (var i = 0; i &lt; 4; i++) &#123; console.log(i);&#125;//æ‰“å°å‡ºå››æ¬¡içš„å€¼ ä¸ªäººè§‰å¾—ï¼Œè¦æƒ³ç”¨å¥½ä¸€ä¸ªä¸œè¥¿å°±è¦æ˜ç™½å®ƒçš„å·¥ä½œåŸç†ï¼Œé‚£ä¹ˆforå¾ªç¯çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ äºŒã€å·¥ä½œåŸç†å…¶å®å¯¹äºforå¾ªç¯çš„å·¥ä½œåŸç†ä¹‹å‰ä¹Ÿæ˜¯æœ‰å¤šæ¬¡äº†è§£çš„ï¼Œå¯æ˜¯é•¿æ—¶é—´ä¸å»å›å¿†ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼ŒçŸ¥è¯†ç‚¹å°±ä¼šå˜å¾—æ¨¡ç³Šï¼Œè¿™é‡Œå†æ¬¡è®°å½•ä¸€ä¸‹å®ƒçš„å·¥ä½œæµç¨‹ 123for (var i = 0; i &lt; 4; i++) &#123; console.log(i);&#125; 1.å£°æ˜ä¸€ä¸ªå˜é‡i=02.åˆ¤æ–­iæ˜¯å¦å°äº43.å¦‚æœæ»¡è¶³åˆ¤æ–­æ¡ä»¶ï¼Œæ‰§è¡Œconsole.log(i)ï¼ˆå‡½æ•°ä½“ï¼‰4.i++5.å¾ªç¯æ­¥éª¤ 1-4 å›¾ ä¸‰ã€å»¶ä¼¸ä¸Šé¢çš„å†™æ³•éƒ½æ˜¯ä¸­è§„ä¸­çŸ©çš„ï¼Œfor å¾ªç¯æœ‰ä¸‰ä¸ªå¯¹åº”çš„å‚æ•°ï¼Œä»¥ï¼›åˆ†éš”ï¼Œé‚£ä¹ˆæˆ‘å¯ä¸å¯ä»¥çœç•¥å…¶ä¸­æŸä¸ªå‚æ•°å‘¢ï¼Ÿ çœç•¥ä¹‹å‰è¦æ³¨æ„ï¼Œï¼›æ˜¯ä¸€å®šè¦åŠ çš„ 1.å…¨éƒ½çœç•¥ 123for (;;) &#123; console.log(1);&#125; ç»“æœï¼šè¿™æ ·å†™ç›¸å½“äºæ— é™å¾ªç¯äº†ï¼Œæ ¹æœ¬åœä¸ä¸‹æ¥ 2.çœç•¥ç¬¬ä¸€å‚æ•° 12345var i = 0;for (; i &lt; 2; ) &#123; console.log(i);&#125;// åœ¨å¤–é¢å£°æ˜äº†ä¸€ä¸ª i ï¼Œå¦‚æœä¸å£°æ˜è¿™ä¸ªä¸œè¥¿ï¼Œé‚£åˆ¤æ–­æ¡ä»¶è¯¥åˆ¤æ–­å•¥ï¼Ÿæ‰€ä»¥è¿™å°±ç›¸å½“äºæ²¡æœ‰çœç•¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå½“ç„¶æ­£å¸¸æƒ…å†µä¸‹æˆ‘è¿˜æ²¡è§åˆ°çœç•¥ç¬¬ä¸€ä¸ªå‚æ•°çš„æƒ…å†µï¼Œä¸€èˆ¬æƒ…å†µç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯æœ‰çš„ ç»“æœï¼šè¿™æ ·ä¹Ÿä¼šæ— é™å¾ªç¯ï¼Œå› ä¸ºiçš„å€¼ä¸€ç›´ä¸º0ï¼Œæ‰€ä»¥å®ƒä¼šæ— é™çš„å¾ªç¯ä¸‹å»å»¶ä¼¸ï¼šæ—¢ç„¶ç¬¬ä¸‰ä¸ªå‚æ•°çœç•¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥å†å‡½æ•°ä½“é‡Œé¢å®šä¹‰å®ƒçš„ç´¯åŠ è§„åˆ™å•Šï¼Œæ¯”å¦‚è¿™æ · 1234567for (var i = 0; i &lt; 20; ) &#123; // 6çš„å€æ•° i = i + 6; if (i % 6 === 0 &amp;&amp; i &lt; 20) &#123; console.log(i); &#125;&#125; å¥½å¤„ï¼šå¾ªç¯çš„æ¬¡æ•°å¤§å¤§é™ä½ï¼Œæ€§èƒ½æå‡äº†ï¼Œåœ¨è¿™é‡Œæ­£å¸¸æƒ…å†µä¸‹éœ€è¦å¾ªç¯ 20 æ¬¡è¿›è¡Œåˆ¤æ–­ï¼Œç°åœ¨çš„å†™æ³•ä»…éœ€è¦å¾ªç¯ 4 æ¬¡ï¼ˆç¬¬å››æ¬¡æ²¡æœ‰æ‰“å°ä½†æ˜¯æ‰§è¡Œäº†å‡½æ•°ä½“ï¼‰ ä»”ç»†è§‚å¯Ÿåå‘ç°ï¼Œå…¶å®è¿™ç§æ–¹å¼å°±æ˜¯ä»…ä»…çœç•¥äº†ç¬¬ä¸‰ä¸ªå‚æ•° 3.çœ‹çœ‹çœç•¥ç¬¬ä¸‰ä¸ªå‚æ•°è¿˜èƒ½å¹²å˜›é—®é¢˜ï¼šç»™å®šä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œæ•°ç»„é‡Œé¢æœ‰è®¸å¤šæ•´æ•°ï¼Œç”¨ JavaScript å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè¦æ±‚ï¼šå°†æ•°ç»„ä¸­ä¹‹å’Œä¸º 10 çš„æ¯ä¸€å¯¹æ•°é…å¯¹å¹¶æ‰¾å‡ºï¼Œè¿”å›è¿™äº›æ•°é…å¯¹åçš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼š[11,3,8,9,7,-1,1,2,4â€¦]å¾—åˆ°ï¼š[[11,-1],[3,7],[8,2],[9,1]â€¦] æ€è·¯ï¼šå…¶å®ä¸€èˆ¬çš„å†™æ³•æ˜¯ä¸¤ä¸ª for å¾ªç¯è¿›è¡ŒåµŒå¥—çš„é‚£ç§ï¼Œè¿™é‡Œå°±ä¸å±•ç¤ºäº†ï¼Œè¿™é‡Œå†™çš„æ˜¯ä¼˜åŒ–åçš„å†™æ³• 12345678910111213141516171819202122let list = [1, 2, 3, -5, 9, 45, 6];function map(list) &#123; let ret = []; list = list.sort((a, b) =&gt; a - b); /*çœç•¥çš„ç¬¬ä¸‰ä¸ªå‚æ•°*/ for (let i = 0, j = list.length - 1; i &lt; j; ) &#123; let a = list[i], b = list[j]; if (a + b === 10) &#123; ret.push([a, b]); i++; j--; &#125; else if (a + b &lt; 10) &#123; i++; &#125; else &#123; j--; &#125; &#125; return ret;&#125;console.log(JSON.stringify(map(list)));//ç»“æœï¼š[[1,9]] æ€è·¯ï¼šè¿™é‡Œå½±å“æ€§èƒ½çš„ä¸»è¦æ˜¯å¤ªå¤šæ¬¡çš„forå¾ªç¯ï¼Œæ•°æ®é‡å°è¿˜å¥½ï¼Œå¦‚æœç‰¹åˆ«å¤šæ€ä¹ˆåŠï¼Ÿæ‰€ä»¥è¦å‡å°‘forå¾ªç¯æ¬¡æ•°ï¼Œå…ˆå°†æ•°ç»„ä»å°åˆ°å¤§æ’åºï¼Œç„¶åè¿›è¡Œä»ä¸¤è¾¹åˆ°ä¸­é—´çš„è®¡ç®—ï¼Œç¬¦åˆæ¡ä»¶å°± pushä¸€æ¬¡ å››ã€æ€»ç»“ç®€ç®€å•å•çš„ä¸€ä¸ª for å¾ªç¯å¯ä»¥æœ‰ä¸åŒçš„å†™æ³•ï¼Œæ‰€ä»¥è¯´å†™ä»£ç ç®€å•ï¼Œå†™å‡ºæœ‰è´¨é‡çš„ä»£ç éš¾","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]},{"title":"æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®ç°","slug":"æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®ç°","date":"2017-10-25T09:10:02.000Z","updated":"2021-01-25T10:48:26.381Z","comments":true,"path":"2017/10/25/æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®ç°/","link":"","permalink":"http://yoursite.com/2017/10/25/æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®ç°/","excerpt":"","text":"ä¸€ã€æ‰«ç›²æ–æ³¢é‚£å¥‘æ•°åˆ—ä¹Ÿå«é»„é‡‘åˆ†å‰²æ•°åˆ—ï¼Œä¹Ÿå«å…”å­æ•°åˆ—åŸç†ï¼šå‡å®šä¸€å¯¹å¤§å…”å­æ¯æœˆèƒ½ç”Ÿä¸€å¯¹å°å…”å­ï¼Œä¸”æ¯å¯¹æ–°ç”Ÿçš„å°å…”å­ç»è¿‡ä¸€ä¸ªæœˆå¯ä»¥é•¿æˆä¸€å¯¹å¤§å…”å­ï¼Œå¦‚æœä¸å‘ç”Ÿæ­»äº¡ï¼Œä¸”æ¯æ¬¡å‡ç”Ÿä¸‹ä¸€é›Œä¸€é›„ï¼Œé—®ä¸€å¹´åå…±æœ‰å¤šå°‘å¯¹å…”å­ï¼Ÿ æœˆä»½ å…”å­æƒ…å†µ æ€»æ•° ç¬¬0ä¸ªæœˆ aï¼ˆå°å…”å­ï¼‰ 1 ç¬¬1ä¸ªæœˆ aï¼ˆå…·å¤‡ç¹æ®–èƒ½åŠ›ï¼‰ 1 ç¬¬2ä¸ªæœˆ bï¼ˆç”Ÿå•¦ç”Ÿå•¦ï¼‰+ aï¼ˆä»–çˆ¶æ¯ï¼‰ 2 ç¬¬3ä¸ªæœˆ bï¼ˆ2æœˆä»½å‡ºç”Ÿçš„å…·å¤‡ç¹æ®–èƒ½åŠ›ï¼Œæ­£è·ƒè·ƒæ¬²è¯•ï¼‰ + b2ï¼ˆä»–çˆ¶æ¯åˆç”ŸäºŒèƒäº†ï¼‰ +aï¼ˆä»–çˆ¶æ¯ï¼‰ 3 ç¬¬4ä¸ªæœˆ cï¼ˆ2æœˆä»½çš„å…”å­bå–œå½“çˆ¹ï¼‰+bï¼ˆäºŒæœˆä»½å‡ºç”Ÿçš„å…”å­ï¼‰ + b2ï¼ˆäºŒèƒå…·å¤‡ç¹æ®–èƒ½åŠ›ï¼Œå‡†å¤‡ç”Ÿå¨ƒï¼‰ +aï¼ˆä»–çˆ¶æ¯ï¼‰+d(aç”Ÿä¸‰èƒ) 5 â€¦ â€¦ â€¦ 1ã€1 ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€55ã€89â€¦â€¦æ‰€ä»¥è§„å¾‹å°±æ˜¯ fn(n)=fn(n-1)+fn(n-2) äºŒã€ä»£ç å®ç°1.ç¬¬ä¸€ç§è¿™ç§æ˜¯æœ€å¸¸è§çš„å®ç°ï¼šè¿­ä»£12345678910111213/**i æœˆä»½*/function fn(i)&#123; var a=[]; /*0ä¸ªæœˆä»€ä¹ˆéƒ½ä¸å­˜åœ¨*/ a[0]=0; a[1]=1; for(var o=2;o&lt;=i;o++)&#123; a[o]=a[o-1]+a[o-2]; &#125; return a[i]&#125; 2.ç¬¬äºŒç§é€’å½’1234567/** i æœˆä»½*/function fn(i)&#123; if(i&lt;=1)&#123;return 1&#125; return fn(i-1)+fn(i-2)&#125; æ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆç®€æ´ ä¸‰ã€ç¼ºé™·é’ˆå¯¹è¿™ä¸ªä¾‹å­æ¥è¯´ï¼Œè¿™é‡Œçš„é€’å½’ä¼šè¿›è¡Œå¤ªå¤šæ¬¡çš„è°ƒç”¨ï¼ˆæ¯”è¿­ä»£å¤šï¼‰ï¼Œæ‰€ä»¥ç®€æ´çš„èƒŒåç‰ºç‰²çš„æ˜¯æ€§èƒ½ å››ã€ä¼˜åŒ–ä¸Šé¢çš„é€’å½’éå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œæ‰€ä»¥è¦ä¼˜åŒ–ä¸€ä¸‹ 1. å…³äºä¼˜åŒ–çš„æ€è·¯æ˜¯ä»€ä¹ˆå¯¼è‡´ä¸Šé¢çš„æ€§èƒ½æ¶ˆè€—å¤§çš„ï¼Ÿï¼Œå¯ä»¥çœ‹åˆ°ï¼Œé€’å½’çš„å¾ªç¯æ¬¡æ•°éå¸¸å¤šï¼Œä¸”æ²¡æœ‰å°¾è°ƒç”¨ æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°è°ƒç”¨ä¼šåœ¨å†…å­˜å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨è®°å½•â€ï¼Œåˆç§°â€œè°ƒç”¨å¸§â€ï¼ˆcall frameï¼‰ï¼Œä¿å­˜è°ƒç”¨ä½ç½®å’Œå†…éƒ¨å˜é‡ç­‰ä¿¡æ¯ã€‚å¦‚æœåœ¨å‡½æ•°Açš„å†…éƒ¨è°ƒç”¨å‡½æ•°Bï¼Œé‚£ä¹ˆåœ¨Açš„è°ƒç”¨å¸§ä¸Šæ–¹ï¼Œè¿˜ä¼šå½¢æˆä¸€ä¸ªBçš„è°ƒç”¨å¸§ã€‚ç­‰åˆ°Bè¿è¡Œç»“æŸï¼Œå°†ç»“æœè¿”å›åˆ°Aï¼ŒBçš„è°ƒç”¨å¸§æ‰ä¼šæ¶ˆå¤±ã€‚å¦‚æœå‡½æ•°Bå†…éƒ¨è¿˜è°ƒç”¨å‡½æ•°Cï¼Œé‚£å°±è¿˜æœ‰ä¸€ä¸ªCçš„è°ƒç”¨å¸§ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€æœ‰çš„è°ƒç”¨å¸§ï¼Œå°±å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ï¼ˆcall stackï¼‰ã€‚ æ‰€ä»¥æ¯ä¸€æ¬¡çš„fnæ‰§è¡Œéƒ½ä¼šå¢åŠ ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œå¯¼è‡´å†…å­˜æ¶ˆè€—å˜å¤§ 1234function fn(i,prev=1,current=1)&#123; if(i&lt;=1)&#123;return current&#125; return fn(i-1,current,prev+current)&#125;","categories":[],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://yoursite.com/tags/ç®—æ³•/"}]},{"title":"cssä¸­çš„attr()","slug":"cssä¸­çš„attr","date":"2017-10-11T03:43:15.000Z","updated":"2021-01-25T10:48:26.376Z","comments":true,"path":"2017/10/11/cssä¸­çš„attr/","link":"","permalink":"http://yoursite.com/2017/10/11/cssä¸­çš„attr/","excerpt":"","text":"1.ä»‹ç»attr() ç”¨æ¥è·å–ä¸€ä¸ªhtmlå…ƒç´ çš„å±æ€§å€¼ï¼Œå¯ä»¥ç”¨äºä¼ªå…ƒç´ ï¼Œå¯ä»¥ç”¨äºä»»ä½•csså±æ€§ 2.ç”¨æ³•è¿™ä¸ªä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ä¸”ç®€å•1content:attr(å±æ€§å€¼); attr()å¯ä»¥ä¼ ä¸‰ä¸ªå€¼ï¼Œåˆ†åˆ«æ˜¯å±æ€§å€¼ã€ç±»å‹é™åˆ¶ã€é»˜è®¤å€¼ï¼ˆå¿…é¡»ç¬¦åˆç±»å‹é™åˆ¶ï¼‰ï¼Œä¸è¿‡æˆ‘è¯•äº†åŠå¤©ä¹Ÿæ²¡è°ƒè¯•æˆåŠŸï¼Œè€Œä¸”ä¸€èˆ¬å†™ä¸€ä¸ªå‚æ•°å°±è¡Œï¼Œä¸‰ä¸ªå‚æ•°çš„æƒ…å†µåŸºæœ¬ç”¨ä¸åˆ°ï¼Œæ‰€ä»¥å°±è·³è¿‡äº† 3.ä¾‹å­12345678910111213141516171819&lt;hear&gt; &lt;style type=\"text/css\"&gt; .box&#123; width: 400px; height: 400px; border:1px solid #ccc; &#125; .box:after&#123; content:attr(data-foo); background-color: #ff461d; color: #fff; border-radius: .32rem; padding: .053333rem .133333rem; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=\"box\" data-foo=\"hello\"&gt;&lt;/div&gt;&lt;/body&gt; æ­¤æ—¶ï¼Œåœ¨divä¸­å°†ä¼šå‡ºç°ä¸€ä¸ªçº¢è‰²èƒŒæ™¯çš„hello 4.å®ä¾‹é‚£ä¹ˆè¿™ä¸ªä¸œè¥¿åœ¨ä»€ä¹ˆæƒ…å†µä¸‹èƒ½ç”¨åˆ°å‘¢ï¼Ÿ è´­ç‰©è½¦","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"},{"name":"attr()","slug":"attr","permalink":"http://yoursite.com/tags/attr/"}]},{"title":"reactä¸­çš„this.props.children","slug":"React.Children","date":"2017-09-28T09:34:55.000Z","updated":"2021-01-25T10:48:26.373Z","comments":true,"path":"2017/09/28/React.Children/","link":"","permalink":"http://yoursite.com/2017/09/28/React.Children/","excerpt":"","text":"ä¸€ã€ä»‹ç»React.Children æ˜¯é¡¶å±‚APIä¹‹ä¸€ï¼Œä¸ºå¤„ç† this.props.children æä¾›äº†å‡ ä¸ªæ–¹æ³•this.props.children è¡¨ç¤ºç»„ä»¶æ‰€æœ‰å­èŠ‚ç‚¹ äºŒã€æ‰€æœ‰æ–¹æ³•1.React.Children.map12345678//å¿…é¡»æœ‰è¿”å›å€¼React.Children.map(this.props.children,function(child)&#123; return &lt;li&gt;&#123;child&#125;&lt;/li&gt;&#125;)//æ²¡æœ‰è¿”å›å€¼React.Children.map(this.props.children,function(child)&#123; /*è¿™é‡Œè¿›è¡Œå¤„ç†*/&#125;) è¿™é‡Œçš„ child è¡¨ç¤ºç»„ä»¶çš„æ¯ä¸€ä¸ªå­å…ƒç´ ï¼Œä¹Ÿå¯ä»¥ç”¨ç®­å¤´å‡½æ•°æ¥å†™ï¼Œè¿™æ ·æ–¹ä¾¿thisçš„ä¼ é€’ 2.this.props.childrenè¿™ä¸ªæ˜¯è·å–å½“å‰ç»„ä»¶çš„æ‰€æœ‰å­èŠ‚ç‚¹æ³¨æ„ ï¼š1.å¦‚æœæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¿”å› undefined2.å¦‚æœä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè¿”å› object3.å¦‚æœå¤šä¸ªå­èŠ‚ç‚¹ï¼Œè¿”å› arrayä½†æ˜¯ç”¨ React.Children.map æ¥éå†çš„è¯ä¸ä¼šæœ‰é—®é¢˜ 3.React.Children.countè¿”å›ç»„ä»¶çš„æ‰€æœ‰å­å…ƒç´ ä¸ªæ•° 4.React.Children.only12console.log(React.Children.only(this.props.children[0])); //è¾“å‡ºå¯¹è±¡this.props.children[0] å•ç‹¬ this.props.children[0] è¾“å‡ºä¸å‡ºæ¥ 5.child.keyåœ¨ç”¨ React.Children.map çš„æ—¶å€™å¯èƒ½æƒ³è·å–ä¼ è¿‡æ¥çš„å±æ€§å€¼ï¼Œä¾‹å¦‚123456789101112&lt;Tabs_li data=&#123;data&#125;&gt; &lt;div key=&#123;0&#125;&gt;1&lt;/div&gt; &lt;div key=&#123;1&#125;&gt;2&lt;/div&gt; &lt;div key=&#123;2&#125;&gt;3&lt;/div&gt;&lt;/Tabs_li&gt;/*Tabsç»„ä»¶*/&#123;React.Children.map(this.props.children,(child)=&gt;&#123; console.log(child.key) // åˆ†åˆ«æ‰“å° 0 ï¼Œ 1 ï¼Œ2 return ...&#125;)&#125;","categories":[],"tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"reactä¸­è·¨åŸŸè¯·æ±‚æ•°æ®","slug":"reactä¸­è·¨åŸŸè¯·æ±‚æ•°æ®","date":"2017-09-27T06:03:37.000Z","updated":"2021-01-25T10:48:26.378Z","comments":true,"path":"2017/09/27/reactä¸­è·¨åŸŸè¯·æ±‚æ•°æ®/","link":"","permalink":"http://yoursite.com/2017/09/27/reactä¸­è·¨åŸŸè¯·æ±‚æ•°æ®/","excerpt":"","text":"ä¸€ã€ä»‹ç»åœ¨æˆ‘å†™ react ele é¡¹ç›®çš„æ—¶å€™ï¼Œé‡Œé¢çš„æ‰€æœ‰æ•°æ®éƒ½è¦ä»eleè·å–ï¼Œæ‰€ä»¥æˆ‘ä¹‹å‰çš„æƒ³æ³•æ˜¯å…ˆç”¨æ­»çš„æ•°æ®æ¨¡æ‹Ÿï¼Œç„¶åç”¨ node å†™å‡ ä¸ªæ¥å£è¯·æ±‚eleæ•°æ®å¹¶è¿”å›ç»™æˆ‘çš„reactã€‚çŸ¥é“ä»Šå¤©æ—©ä¸Šï¼Œæˆ‘åœ¨çº³é—· reactå¼€å‘è¿‡ç¨‹ä¸­æ˜¯ç”¨ webpack èµ·æœåŠ¡å™¨çš„ï¼Œé‚£è·Ÿåå°å°±æ˜¯è·¨åŸŸäº†å•Šï¼Œè¿™æ ·ajaxæ˜¯æ²¡æœ‰åŠæ³•è¯·æ±‚çš„ï¼Œæ‰€ä»¥åƒå®Œä¸€ä¸ªé¸¡è›‹åæŸ¥æ‰¾äº†ä¸€ç•ªï¼Œæœç„¶è®©æˆ‘æ‰¾åˆ°äº†ï¼Œçœ‹ä¸‹é¢ ä¼ é€é—¨ â€“ gulpé‡ŒæœåŠ¡ç«¯ä»£ç†é…ç½® äºŒã€é…ç½®webpackä¸­ proxy æ˜¯è®¾ç½®ä»£ç†çš„1234567proxy: &#123; \"/api\": &#123; target: \"http://localhost:3000\", secure: false, changeOrigin : true &#125;&#125;, ç°åœ¨æ¯”å¦‚è¯´æˆ‘ /api/users è¿™ä¹ˆè¯·æ±‚ï¼Œç°åœ¨å°†ä»£ç†è¯·æ±‚http://localhost:3000/api/users æ³¨æ„ ï¼šè¿™é‡Œçš„ secure å‚æ•°è¡¨ç¤ºèƒ½è¯·æ±‚ https çš„æœåŠ¡å™¨changeOrigin è¡¨ç¤ºæ˜¯å¦æ”¯æŒè·¨åŸŸè¯·æ±‚ï¼Œé»˜è®¤ false å®ä¾‹å¥½äº† ç°åœ¨æˆ‘æ¥è¯•éªŒä¸€ä¸‹12345\"/base\": &#123; target: \"http://c.y.qq.com/\", secure: false, changeOrigin : true&#125; è¿™ä¸ªæ˜¯æˆ‘ä»qqéŸ³ä¹æ‰¾äº†ä¸€ä¸ªå€Ÿå£ï¼Œåœ¨reactä¸­é€šè¿‡ fetch è¯·æ±‚12var result = fetch('/base/fcgi-bin/fcg_wxdownload_config.fcg', &#123; credentials: 'include', headers: &#123; 'Accept': 'application/json, text/plain, */*' &#125; &#125;)result.then(res =&gt;&#123;return res.text();&#125;).then(text =&gt; &#123; console.log(text) &#125;) çœ‹çœ‹è¿”å›ç»“æœ æ§åˆ¶å°è¾“å‡º æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿~","categories":[],"tags":[{"name":"webpack proxy","slug":"webpack-proxy","permalink":"http://yoursite.com/tags/webpack-proxy/"},{"name":"reactè·¨åŸŸè¯·æ±‚","slug":"reactè·¨åŸŸè¯·æ±‚","permalink":"http://yoursite.com/tags/reactè·¨åŸŸè¯·æ±‚/"}]},{"title":"è®¤è¯†pushstateã€popstate,æ— åˆ·æ–°æ”¹å˜URL","slug":"è®¤è¯†pushstateã€popstate-æ— åˆ·æ–°æ”¹å˜URL","date":"2017-09-22T06:39:04.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"2017/09/22/è®¤è¯†pushstateã€popstate-æ— åˆ·æ–°æ”¹å˜URL/","link":"","permalink":"http://yoursite.com/2017/09/22/è®¤è¯†pushstateã€popstate-æ— åˆ·æ–°æ”¹å˜URL/","excerpt":"","text":"ä¸€ã€å›é¡¾ window.historyhistoryå¯¹è±¡åŒ…å«ç”¨æˆ·ï¼ˆåœ¨æµè§ˆå™¨çª—å£ä¸­ï¼‰è®¿é—®è¿‡çš„url12345678910//å›é€€history.back();//å‰è¿›history.forward();//è·³è½¬history.go();//å†å²è®°å½•æ¡æ•°ï¼ˆå½“å‰ç½‘é¡µçš„ï¼Œä¸æ˜¯æµè§ˆå™¨çš„ï¼‰history.length//çŠ¶æ€history.state äºŒã€è®¤è¯†æ–°ç‰¹æ€§HTML5æ‰©å±•äº†history,ä½¿å†å²è®°å½•æ›´åŠ çµæ´»ï¼Œå¯ä»¥åœ¨å†å²è®°å½•ä¸­å­˜å‚¨æŒ‡å®šè®°å½•ç‚¹ã€æ›¿æ¢å½“å‰å†å²è®°å½•ç‚¹ï¼Œç›‘å¬å†å²è®°å½•ç‚¹ 2.1.å­˜å‚¨å†å²è®°å½•ç‚¹123456window.history.pushState('æ–°æ·»åŠ çš„','','?page=3');// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè®¾ç½®state// ç¬¬äºŒä¸ªå‚æ•°ï¼šé¡µé¢æ ‡é¢˜ï¼Œä½†æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½å¿½ç•¥äº†ï¼Œä¼ ç©ºå­—ç¬¦ä¸²å°±è¡Œ// ç¬¬ä¸‰ä¸ªåˆ é™¤ï¼šæƒ³è¦æ·»åŠ çš„é“¾æ¥//`æ³¨æ„ï¼Œè¿™ä¸ªapiä¼šæ”¹å˜å½“å‰çš„ç½‘å€ï¼Œä¼šæ·»åŠ ä¸€æ¡å†å²è®°å½•ï¼Œä¸æ˜¯pushåˆ°åé¢ï¼Œè¿™æ ·ä¼šæ·»åŠ ä¸€æ¡å†å²` æ‰§è¡Œåï¼Œé¡µé¢çš„URLä¸ºå½“å‰urlï¼Ÿpage=3 æ‰§è¡Œå‰ æ‰§è¡Œå æ­¤æ—¶çš„history.lengthä¹Ÿä¼š+1ï¼Œæ–°å¢äº†å†å²è®°å½•ç‚¹ 2.2.æ›¿æ¢å†å²è®°å½•ç‚¹12345window.history.replaceState('æ–°æ·»åŠ çš„','','?page=3');//`æ³¨æ„ï¼Œè¿™ä¸ªapiä¼šæ”¹å˜å½“å‰çš„ç½‘å€(ä¸è·³è½¬)ï¼Œä¸ä¼šæ·»åŠ ä¸€æ¡å†å²è®°å½•ï¼Œæ³¨æ„ä¸ä¸Šé¢pushStateåŒºåˆ«`&gt; è¡¥å……ï¼šlocation.replace()ä¹Ÿæ˜¯æ›¿æ¢å½“å‰ç½‘å€ï¼Œä½†æ˜¯é¡µé¢ä¼šè·³è½¬ï¼Œè€Œä¸”ä¸ä¼šæ·»åŠ å†å²è®°å½• åŒºåˆ«ï¼š1.history.lengthä¸ä¼šå˜2.æ›¿æ¢äº†å½“å‰é¡µçš„å†å²è®°å½•ç‚¹ 2.3.ç›‘å¬å†å²è®°å½•ç‚¹1window.onpopstate=function()&#123;&#125; æµè§ˆå™¨å‰è¿›åé€€éƒ½ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶æ¯”å¦‚å¯ä»¥è¿™æ ·ï¼š123window.onpopstate=function(event)&#123; console.log(event.state)&#125; åé€€æ“ä½œæ—¶ï¼Œå°±ä¼šæ‰“å°å‡ºåé€€åˆ°çš„å†å²è®°å½•ç‚¹çš„stateä¿¡æ¯ã€‚ å››ã€ç”¨é€”åœ¨æˆ‘å†™reacté¥¿äº†ä¹ˆçš„é¡¹ç›®æ—¶ï¼Œç‚¹å‡»é¦–é¡µçš„å®šä½ä¿¡æ¯ï¼Œä¼šä»å³æ»‘åŠ¨å‡ºä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œæ­¤æ—¶å†é€šè¿‡æµè§ˆå™¨çš„å‰è¿›åé€€æŒ‰é’®ä¹Ÿå¯ä»¥å®ç°é¡µé¢çš„æ»‘åŠ¨ æµè§ˆå™¨æ§åˆ¶åŠ¨ç”» å…·ä½“åˆ¶ä½œè¿‡ç¨‹çœ‹æˆ‘çš„githubï¼šeleé¡¹ç›® äº”ã€è¡¥å……åœ¨ç”¨ document.referrer åšè¿”å›æŒ‰é’®çš„æ—¶å€™ï¼Œæ˜¯åªæœ‰ aæ ‡ç­¾ æ‰èƒ½æ·»åŠ ä¸€æ¡æ¥æºçš„ã€‚æ¯”å¦‚æˆ‘é€šè¿‡ç‚¹å‡»é¡µé¢çš„ä¸€ä¸ª é“¾æ¥ è°ƒåˆ°äº†å¯¹åº”çš„é¡µé¢ï¼Œé‚£ä¹ˆæ­¤æ—¶ document.referrer æ˜¯æœ‰å€¼çš„ï¼Œé€šè¿‡ history.pushState æ·»åŠ çš„å†å²è®°å½•è·³è½¬çš„é¡µé¢,ä¸ä¼šæ·»åŠ ä¸€æ¡ document.referrer æ¥æº","categories":[],"tags":[{"name":"HTML5","slug":"HTML5","permalink":"http://yoursite.com/tags/HTML5/"}]},{"title":"positionçš„stickyå±æ€§","slug":"positionçš„stickyå±æ€§","date":"2017-09-13T02:25:03.000Z","updated":"2021-01-25T10:48:26.378Z","comments":true,"path":"2017/09/13/positionçš„stickyå±æ€§/","link":"","permalink":"http://yoursite.com/2017/09/13/positionçš„stickyå±æ€§/","excerpt":"","text":"è¡¨å¤´è·Ÿéš å›¾ä¸­å±•ç¤ºçš„æ•ˆæœä½¿æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­å¸¸è§çš„æ•ˆæœã€‚ä»¥å‰æˆ‘éƒ½æ˜¯ç”¨jsåˆ¤æ–­æ˜¯å¦æ»šåŠ¨ä¸€å®šè·ç¦»ç„¶åç»™è¿™ä¸ªå…ƒç´ è®¾ç½®position:fixedè¿™ç§æ–¹å¼æ¥åšçš„ï¼Œä»Šå¤©å°±æ¥è®°å½•ä¸€ä¸‹ç”¨cssæ€ä¹ˆåš ä¸€ã€ä»‹ç»css ä¸­çš„ position å±æ€§çš„å€¼å¸¸ç”¨çš„ä¸»è¦æœ‰ä¸‹é¢å‡ ç§ï¼š1.absolute2.relative3.fixedç°åœ¨ç”¨åˆ°çš„å€¼ä¸º stickyï¼šè®¾ç½®äº†stickyçš„å…ƒç´ ï¼Œä¸è„±ç¦»æ–‡æ¡£æµï¼Œåœ¨å±å¹•èŒƒå›´æ—¶ï¼ˆviewportï¼‰ï¼Œè¯¥å…ƒç´ ä½ç½®ä¸å—åˆ°å®šä½å½±å“ï¼ˆtopã€leftç­‰å€¼æ— æ•ˆï¼‰ï¼Œå½“è¯¥å…ƒç´ çš„è§†å›¾å°†è¦ç¦»å¼€åç§»èŒƒå›´æ—¶ï¼Œå®šä½ä¼šå˜æˆ fixed çš„æ•ˆæœï¼Œå¹¶ä¸”æ ¹æ®è®¾ç½®çš„top ã€leftå€¼è¿›è¡Œå®šä½ äºŒã€ç”¨æ³•ä¸Šé¢çš„gifå›¾é‡Œï¼Œæˆ‘å°†æœç´¢æ¡†çš„å…ƒç´ è®¾ç½®ä¸º123postion:sticky;top:0;left:0 æ‰€ä»¥å½“ç§»å‡ºå±å¹•æ—¶å°±ä¼šè§¦å‘fixedå®šä½ ä¸‰ã€å…¼å®¹æ€§åˆšåˆšæŠŠå®ƒç”¨åœ¨å®é™…é¡¹ç›®ä¸­å»äº†ï¼Œç»“æœå®‰å“è‡ªå¸¦çš„æµè§ˆå™¨ä¸æ”¯æŒï¼Œæ‰€ä»¥é™„åŠ ä¸Šè§£å†³åŠæ³•ï¼š12345678910111213141516171819202122232425262728//åˆ¤æ–­æ˜¯å¦æ”¯æŒif (CSS.supports(\"position\", \"sticky\") || CSS.supports(\"position\", \"-webkit-sticky\")) &#123; // æ”¯æŒ sticky,é¡¶éƒ¨å¸é™„ this.setState(&#123; support:true &#125;)&#125;else&#123; document.addEventListener('scroll',this._scrollTop)&#125;//ä¸æ”¯æŒçš„ä¸»è¦å¤„ç†_scrollTop()&#123; let offsetY=this.searchDOM.offsetTop; let css=null; if(window.scrollY&gt;offsetY)&#123; css=&#123; position:'fixed', top:0, zIndex:999 &#125; &#125;else&#123; css=&#123; position:'static', &#125; &#125; this.setState(&#123; css &#125;)&#125; å››ã€æ€»ç»“ è¯¥å…ƒç´ ä¸è„±ç¦»æ–‡æ¡£æµï¼Œä»ä¿ç•™å…ƒç´ åŸæœ¬åœ¨æ–‡æ¡£æµä¸­çš„ä½ç½® å½“å…ƒç´ åœ¨å®¹å™¨ä¸­è¢«æ»šåŠ¨è¶…è¿‡æŒ‡å®šåç§»å€¼æ—¶ï¼Œå…ƒç´ åœ¨å®¹å™¨å†…å›ºå®šåœ¨æŒ‡å®šä½ç½®ã€‚æ¯”å¦‚ä½ è®¾ç½®äº† top:50px é‚£ä¹ˆstickyå…ƒç´ åˆ°è¾¾è·ç¦»ç›¸å¯¹å®šä½çš„å…ƒç´ é¡¶éƒ¨50pxçš„ä½ç½®æ—¶å›ºå®šï¼Œä¸å†å‘ä¸Šç§»åŠ¨ å…ƒç´ å›ºå®šçš„ç›¸å¯¹åç§»æ˜¯ç›¸å¯¹äºå®ƒæœ€è¿‘çš„å…·æœ‰æ»šåŠ¨æ¡†çš„ç¥–å…ˆå…ƒç´ ï¼Œå¦‚æœç¥–å…ˆå…ƒç´ éƒ½ä¸å¯ä»¥æ»šåŠ¨ï¼Œé‚£ä¹ˆæ˜¯ç›¸å¯¹äº viewport æ¥è®¡ç®—å…ƒç´ çš„åç§»é‡","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://yoursite.com/tags/css/"}]},{"title":"create-react-appé…ç½®webpack","slug":"create-react-appé…ç½®webpack","date":"2017-09-06T08:42:15.000Z","updated":"2021-01-25T10:48:26.376Z","comments":true,"path":"2017/09/06/create-react-appé…ç½®webpack/","link":"","permalink":"http://yoursite.com/2017/09/06/create-react-appé…ç½®webpack/","excerpt":"","text":"åœ¨å­¦ä¹ reactè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡éƒ½è¦é…ç½®webpackï¼Œéå¸¸çš„éº»çƒ¦ï¼Œæˆ‘æ˜¯è¦å†™reactçš„ï¼Œä¸æ˜¯é…ç½®è¿™ä¸œè¥¿å“’ï¼ï¼å¥½åœ¨æœ‰äº†â€™create-react-appâ€™ï¼Œé€šè¿‡npmå®‰è£…åï¼Œåˆ›å»ºé¡¹ç›®å˜å¾—éå¸¸ç®€å•ä½†æ˜¯å®ƒé‡Œé¢æ²¡æœ‰åšlessç­‰ä½ å®é™…é¡¹ç›®éœ€è¦çš„loaderæˆ–è€…pluginsï¼Œæ‰€ä»¥è¿™é‡Œè®°å½•çš„æ˜¯æ€ä¹ˆå®šåˆ¶create-react-appåˆ›å»ºçš„é¡¹ç›®çš„webpack ä¸€ã€å…ˆé…ç½®less1.åˆ›å»ºä¸€ä¸ªé¡¹ç›®æˆ‘åˆ›å»ºçš„å«test testæµ‹è¯•é¡¹ç›® åˆ›å»ºå®Œæ¯•åï¼Œè¿›å…¥åˆ›å»ºçš„é¡¹ç›®ï¼Œè¿è¡Œnpm startå¯åŠ¨æ­¤é¡¹ç›® å¯åŠ¨ 2.æ‰¾åˆ°webpack.config.dev.jså’Œwebpack.config.prod.jsè¿è¡Œnpm run ejectå®‰è£…less-loaderå’Œlessè¿›å…¥configæ–‡ä»¶å¤¹ï¼Œè¿™é‡Œä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶webpack.config.dev.jså’Œwebpack.config.prod.jsåº”è¯¥ä¸€ä¸ªæ˜¯å¼€å‘ç¯å¢ƒä¸€ä¸ªç”Ÿäº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œä¸¤ä¸ªæ–‡ä»¶éƒ½è¦ä¿®æ”¹æ‰“å¼€webpack.config.dev.jsæ‰¾åˆ°module ruleséƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯é…ç½®loaderçš„éƒ¨åˆ†ï¼Œæ‰¾åˆ°é…ç½®cssæ–‡ä»¶çš„testï¼ˆ/\\.(css)$/ï¼‰ä¿®æ”¹ä¸ºtest:/\\.(css|less)$/,æ·»åŠ ä¸€ä¸ªloaderï¼š{ loader: require.resolve(&#39;less-loader&#39;) },æ”¾åœ¨æœ€ä¸‹é¢1234567891011121314151617181920212223242526&#123; test: /\\.css$/, use: [require.resolve('style-loader'), &#123; loader: require.resolve('css-loader'), options: &#123; importLoaders: 1, &#125;, &#125;, &#123; loader: require.resolve('postcss-loader'), options: &#123; // Necessary for external CSS imports to work // https://github.com/facebookincubator/create-react-app/issues/2677 ident: 'postcss', plugins: () = &gt;[require('postcss-flexbugs-fixes'), autoprefixer(&#123; browsers: ['&gt;1%', 'last 4 versions', 'Firefox ESR', 'not ie &lt; 9', // React doesn't support IE8 anyway ], flexbox: 'no-2009', &#125;), ], &#125;, &#125;, &#123; loader: require.resolve('less-loader') &#125;, ],&#125;, 3.æµ‹è¯•ç°åœ¨æˆ‘ä»¬åšä¸€ä¸‹æµ‹è¯•å¯ä»¥éšä¾¿åœ¨cssæ–‡ä»¶ä¸­åŠ å…¥lessè¯­æ³•æˆ‘åœ¨App.cssä¸­è®¾ç½®äº†æ•´ä½“çš„èƒŒæ™¯é¢œè‰²ï¼š1234567@base: pink;.App-header &#123; background-color: @base; height: 150px; padding: 20px; color: white;&#125; å› ä¸ºæˆ‘ä»¬ä¿®æ”¹äº†webpackçš„é…ç½®é¡¹ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼š æ·»åŠ æˆåŠŸ å¯ä»¥çœ‹åˆ°ï¼Œé…ç½®å·²ç»æˆåŠŸ äºŒã€é…ç½®px2rem1.è§£é‡Špx2remæ˜¯åšç§»åŠ¨ç«¯é¡µé¢å¼€å‘çš„æ—¶å€™ï¼Œè‡ªåŠ¨å°†pxå•ä½è½¬æ¢ä¸ºremï¼Œéå¸¸çš„æ–¹ä¾¿è¿™é‡Œè¦ç”¨æ”¯æŒwebpackçš„å¯¹åº”loaderï¼Œæˆ‘ç”¨çš„æ˜¯postcss-px2remé…ç½®è¿™ä¸ªåŠŸèƒ½ç›¸å¯¹æ¥è¯´æœ‰äº›å¤æ‚ 2.å®‰è£…npm install postcss-px2rem postcss-loader --saveæ‰§è¡Œè¿™ä¸ªå‘½ä»¤å®‰è£… 3.é…ç½®è¿˜æ˜¯webpack.config.dev.jsï¼Œå¼•å…¥1const px2rem = require('postcss-px2rem') æ·»åŠ åœ¨çš„autoprefixerä¸‹é¢æ·»åŠ ï¼Œå¥½åƒloadersé‡Œåªèƒ½æœ‰ä¸€ä¸ªpostcssï¼Œå¤šä¸ªçš„è¯ä¸ä¼šæŠ¥é”™ï¼Œå¯¹åº”çš„åŠŸèƒ½ä¼šä¸ç®¡ç”¨12345678910111213141516171819202122&#123; loader: require.resolve('postcss-loader'), options: &#123; // Necessary for external CSS imports to work // https://github.com/facebookincubator/create-react-app/issues/2677 ident: 'postcss', plugins: () =&gt; [ require('postcss-flexbugs-fixes'), autoprefixer(&#123; browsers: [ '&gt;1%', 'last 4 versions', 'Firefox ESR', 'not ie &lt; 9', // React doesn't support IE8 anyway ], flexbox: 'no-2009', &#125;), //è¿™ä¸ªä½ç½® px2rem(&#123;remUnit: 75&#125;) ], &#125;,&#125;, è¿™é‡Œé¢çš„æ•°å€¼å°±æ˜¯1remå¯¹åº”çš„px 4.æµ‹è¯•ç°åœ¨å¯åŠ¨æœåŠ¡å™¨ï¼Œå› ä¸ºåŸæœ‰çš„éƒ½æ˜¯ä»¥pxä¸ºå•ä½ï¼Œæ‰€ä»¥ç°åœ¨é¡µé¢ä¸Šåº”è¯¥å…¨éƒ¨è½¬æ¢ä¸ºäº†rem æ·»åŠ æˆåŠŸ ä¸è¦å¿˜äº†é…ç½®webpack.config.prod.jsè¿™ä¸ªæ–‡ä»¶ï¼Œæœ€ååªéœ€è¦åœ¨ä½ çš„é¡µé¢ä¸Šå¯¹htmlçš„font-sizeåšå˜æ¢å°±å¯ä»¥äº†ï¼Œè¿™é‡Œç•¥è¿‡ 5.æ€»ç»“webpackçš„æ–‡æ¡£å’Œæœ‰äº›npmçš„æ–‡æ¡£å†™çš„èµ°ç‚¹å¿ƒå¥½ä¹ˆï¼Œæå¾—æœ¬æ¥æŒºç®€å•çš„ä¸œè¥¿æŸ¥äº†å¥½ä¹…ï¼","categories":[],"tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"},{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"},{"name":"create-react-app","slug":"create-react-app","permalink":"http://yoursite.com/tags/create-react-app/"},{"name":"px2rem","slug":"px2rem","permalink":"http://yoursite.com/tags/px2rem/"},{"name":"less","slug":"less","permalink":"http://yoursite.com/tags/less/"}]},{"title":"ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘","slug":"ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘","date":"2017-08-25T07:14:31.000Z","updated":"2021-01-25T10:48:26.382Z","comments":true,"path":"2017/08/25/ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘/","link":"","permalink":"http://yoursite.com/2017/08/25/ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘/","excerpt":"","text":"å‰è¨€ es6çš„ç®­å¤´å‡½æ•°éå¸¸ç®€æ´ï¼Œè€Œä¸”è¿˜å¯ä»¥è§£å†³å¾ˆå¤šé—®é¢˜1.è§£å†³ä»¥å‰é€šè¿‡var that=thisæ–¹å¼ä¼ å€¼çš„é—®é¢˜1234567document.body.addEventListener('click',function()&#123; setTimeout(function()&#123; console.log(this) /*window*/ /*å¯¹bodyèŠ‚ç‚¹æ“ä½œä»£ç ...*/ &#125;)&#125;) æ¯”å¦‚ç‚¹å‡»bodyï¼Œè¿‡ä¸€æ®µæ—¶é—´å¯¹bodyè¿™ä¸ªå…ƒç´ è¿›è¡Œå¯¹åº”çš„jsæ“ä½œï¼Œå¦‚ä¸Šä»£ç ï¼Œå¾ˆæ˜æ˜¾æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸ºsetTimeouté‡Œçš„thisæ˜¯å…¨å±€windowæ‰€ä»¥æ˜¯ä¸èƒ½é€šè¿‡å®ƒæ“ä½œbodyå…ƒç´ ï¼Œ ä¸€èˆ¬è¿™ç§æƒ…å†µä»¥å‰éƒ½æ˜¯é€šè¿‡åœ¨å¤–å±‚é€šè¿‡ä¸€ä¸ªå˜é‡å°†thisä¼ é€’è¿›æ¥ï¼Œä½†æ˜¯æœ‰äº†ç®­å¤´å‡½æ•°å°±ä¸ç”¨è¿™ä¹ˆåšäº† es6:1234567document.body.addEventListener('click',function()&#123; setTimeout(()=&gt;&#123; console.log(this) /*body(å½“å‰èŠ‚ç‚¹)*/ /*å¯¹bodyèŠ‚ç‚¹æ“ä½œä»£ç ...*/ &#125;)&#125;) è¿™ç±»çš„é—®é¢˜è¿˜æœ‰å¾ˆå¤šï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°èƒ½è½»æ˜“åœ°è§£å†³è¿™äº›é—®é¢˜å‘¢ï¼Ÿæ‰€ä»¥è¦æ¸…æ¥šèƒ½è¿™ä¹ˆå†™çš„åŸå› å°±è¦æ¸…æ¥šç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘ ä¸€ã€å†™ç®­å¤´å‡½æ•°çš„å°æç¤º1.å½“ä½¿ç”¨ç®­å¤´å‡½æ•°åˆ›å»ºæ™®é€šå¯¹è±¡æ—¶ï¼Œä½ æ€»æ˜¯éœ€è¦å°†å¯¹è±¡åŒ…è£¹åœ¨å°æ‹¬å·é‡Œã€‚1234/*é”™è¯¯*/()=&gt;&#123;&#125;/*æ­£ç¡®*/()=&gt;(&#123;&#125;) å› ä¸ºJavaScriptå¼•æ“ä¼šå°†{x}ç†è§£æˆä¸€ä¸ªä»£ç å—ï¼Œç©ºå¯¹è±¡å’Œå—åœ¨è¿™é‡Œéƒ½æ˜¯{}è¿™æ ·è¡¨ç¤ºï¼Œæ‰€ä»¥å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦åŠ ä¸€ä¸ªå°æ‹¬å· ç®­å¤´å‡½æ•°çš„thisç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this!!!!!!!!!,å®ƒå†…éƒ¨çš„thiså€¼é›†æˆè‡ªå¤–å›´ä½œç”¨åŸŸ123456789101112131415function foo() &#123; return () =&gt; &#123; return () =&gt; &#123; return () =&gt; &#123; console.log('id:', this.id); &#125;; &#125;; &#125;;&#125;var f = foo.call(&#123;id: 1&#125;);var t1 = f.call(&#123;id: 2&#125;)()(); // id: 1var t2 = f().call(&#123;id: 3&#125;)(); // id: 1var t3 = f()().call(&#123;id: 4&#125;); // id: 1 t1ã€t2ã€t3éƒ½è¾“å‡º1å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisæ‰€ä»¥this.idä¼šé¡ºç€ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ä¸€ç›´æ‰¾åˆ°foo()å‡½æ•° ç®­å¤´å‡½æ•°çš„çš„ç‰¹ç‚¹å®ƒæ²¡æœ‰argumentså˜é‡12345678function foo() &#123; setTimeout(() =&gt; &#123; console.log('args:', arguments); &#125;, 100);&#125;foo(2, 4, 6, 8)// args: [2, 4, 6, 8] ä¸Šé¢ä»£ç ä¸­ï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„å˜é‡argumentsï¼Œå…¶å®æ˜¯å‡½æ•°fooçš„argumentså˜é‡ã€‚ å¦‚æœæœ‰äº†æ–°å‘ç°ï¼Œä¼šå›æ¥è¡¥å……","categories":[],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://yoursite.com/tags/ES6/"}]},{"title":"reactä¸­çš„context","slug":"reactä¸­çš„context","date":"2017-08-21T03:29:02.000Z","updated":"2021-01-25T10:48:26.378Z","comments":true,"path":"2017/08/21/reactä¸­çš„context/","link":"","permalink":"http://yoursite.com/2017/08/21/reactä¸­çš„context/","excerpt":"","text":"ä¸€ã€ä¸ºä»€ä¹ˆç”¨contextï¼Ÿç°åœ¨æˆ‘ä»¬æœ‰ä¸€é¢—ç»„ä»¶æ ‘ï¼š ç»„ä»¶æ ‘ å‡å¦‚è¿™ä¸ªç»„ä»¶æ ‘ä»£è¡¨çš„åº”ç”¨æ˜¯ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰ä¸»é¢˜çš„ï¼Œæ¯ä¸ªå­ç»„ä»¶éƒ½ä¼šæ ¹æ®ä¸»é¢˜çš„ä¸åŒæ¥è°ƒæ•´è‡ªå·±çš„æ ·å¼ï¼Œæ‰€ä»¥â€˜ä¸»é¢˜è‰²â€™è¿™ä¸ªä¸œè¥¿å°±åº”è¯¥æ˜¯ç»„ä»¶ä¹‹é—´å…±äº«çš„ä¸€ä¸ªçŠ¶æ€ï¼Œæ‰€ä»¥åº”è¯¥æ”¾åˆ°Indexç»„ä»¶ä¸­ã€‚ä½†æ˜¯åœ¨æ­¤ä¹‹å‰èƒ½æƒ³åˆ°çš„åŠæ³•åªèƒ½æ˜¯this.props.ä¸»é¢˜è‰² ä¸»é¢˜è‰²çš„ä¼ é€’ è¿™ç§å½¢å¼ï¼Œè¿™ç§å½¢å¼å®åœ¨æ˜¯éº»çƒ¦ï¼Œå¦‚æœç»„ä»¶åµŒå¥—è¿‡æ·±ï¼Œå°±ä¸å¾—ä¸ä¸€å±‚å±‚ä¼ é€’åˆ°æœ€åº•å±‚ï¼Œæ‰€ä»¥å°±å‡ºç°äº†ç®€å•çš„åŠæ³•â€”â€”é€šè¿‡contextä¼ é€’contextè¿™ç§æ–¹æ³•æ˜¯å…¨å±€éƒ½èƒ½å…±äº«çš„çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦çš„æ—¶å€™å°±å»å–è¿™ä¸ªçŠ¶æ€ï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¼ é€’ contextå…±äº«çŠ¶æ€ äºŒã€å®è·µï¼Œçœ‹çœ‹ä»£ç æ€ä¹ˆå†™å…ˆåˆ›å»ºä¸€ä¸ªæ•´ä½“ç»“æ„12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455class Index extends Component &#123; render () &#123; return ( &lt;div&gt; &lt;Header /&gt; &lt;Main /&gt; &lt;/div&gt; ) &#125;&#125;class Header extends Component &#123; render () &#123; return ( &lt;div&gt; &lt;h2&gt;This is header&lt;/h2&gt; &lt;Title /&gt; &lt;/div&gt; ) &#125;&#125;class Main extends Component &#123; render () &#123; return ( &lt;div&gt; &lt;h2&gt;This is main&lt;/h2&gt; &lt;Content /&gt; &lt;/div&gt; ) &#125;&#125;class Title extends Component &#123; render () &#123; return ( &lt;h1&gt;React.js å°ä¹¦æ ‡é¢˜&lt;/h1&gt; ) &#125;&#125;class Content extends Component &#123; render () &#123; return ( &lt;div&gt; &lt;h2&gt;React.js å°ä¹¦å†…å®¹&lt;/h2&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( &lt;Index /&gt;, document.getElementById('root')) ä¿®æ”¹Indexç»„ä»¶ä¿®æ”¹Indexç»„ä»¶ï¼Œè®©ä»–å¾€è‡ªå·±çš„contextä¸­æ”¾ä¸€ä¸ªthemeColorï¼š1234567891011121314151617181920212223class Index extends Component &#123; static childContextTypes = &#123; themeColor: PropTypes.string &#125; constructor () &#123; super() this.state = &#123; themeColor: 'red' &#125; &#125; getChildContext () &#123; return &#123; themeColor: this.state.themeColor &#125; &#125; render () &#123; return ( &lt;div&gt; &lt;Header /&gt; &lt;Main /&gt; &lt;/div&gt; ) &#125;&#125; ä»£ç è¯´æ˜1.stateåˆå§‹åŒ–ä¸€ä¸ªthemeColorçŠ¶æ€ï¼Œæ–¹ä¾¿ä»¥åçš„ä¿®æ”¹2.getChildContextæ–¹æ³•è®¾ç½®contextï¼Œè¿”å›ä¸€ä¸ªçš„å¯¹è±¡å°±æ˜¯contextï¼Œæ‰€æœ‰å­ç»„ä»¶åŠ¨èƒ½è®¿é—®åˆ°ï¼Œä¸”ç”¨this.state.themeColoræ¥è®¾ç½®contexté‡Œé¢çš„themeColor3.æ³¨æ„ï¼Œè¿˜éœ€è¦åŠ ä¸Šä¸€æ®µå‚æ•°çš„éªŒè¯ childContextTypes,éœ€è¦ä½¿ç”¨prop-typesè¿™ä¸ªåŒ…ï¼ŒéªŒè¯çš„æ˜¯getChildContextè¿”å›çš„å¯¹è±¡ä»¥ä¸Šè¿™äº›éƒ½æ˜¯å¿…é¡»çš„,è¿™é‡Œè¦æåŠä¸€ä¸‹ä¸ºå•¥è¦éªŒè¯contextï¼Œè¿™ä¹ˆå¤šæ­¥éª¤å¤šéº»çƒ¦ï¼Œæ®è¯´contextæ˜¯ä¸€ä¸ªå±é™©çš„å±æ€§(context é‡Œé¢çš„æ•°æ®èƒ½è¢«éšæ„æ¥è§¦å°±èƒ½è¢«éšæ„ä¿®æ”¹ï¼Œæ¯ä¸ªç»„ä»¶éƒ½èƒ½å¤Ÿæ”¹ context é‡Œé¢çš„å†…å®¹ä¼šå¯¼è‡´ç¨‹åºçš„è¿è¡Œä¸å¯é¢„æ–™),æ‰€ä»¥æŒ‰ç…§react.jså›¢é˜Ÿçš„æƒ³æ³•å°±æ˜¯ï¼ŒæŠŠå±é™©çš„äº‹æƒ…æå¤æ‚ä¸€äº›ï¼Œæé«˜ä½¿ç”¨é—¨æ äººä»¬å°±ä¸å»ç”¨äº† å­ç»„ä»¶çš„è®¾ç½®class Title extends Component { static contextTypes = { themeColor: PropTypes.string } render () { return ( &lt;h1 style=&lt;!--ï¿¼7--&gt;&gt;React.js å°ä¹¦æ ‡é¢˜&lt;/h1&gt; ) } } 1.åˆ©ç”¨contextTypesè¿›è¡ŒéªŒè¯ï¼Œå¿…å†™çš„ï¼Œä¸å†™å°±æ— æ³•è·å–contextçš„çŠ¶æ€ï¼Œ2.ä½¿ç”¨çš„è¯æ˜¯é€šè¿‡this.context.themeColoræ¥è·å–å€¼çš„ ä¿®æ”¹contextåœ¨Indexé‡Œé¢ï¼Œæˆ‘ä»¬å·²ç»åˆå§‹åŒ–ä¸€ä¸ªstateçŠ¶æ€äº†ï¼Œå«ï¼šthis.state.themeColor,æ‰€ä»¥ä½¿ç”¨setStateå°±å¯ä»¥äº† å››ã€æˆ‘çš„ä¾‹å­: ç‚¹å‡»å˜è‰²æŒ‰é’®å‰ ç‚¹å‡»å˜è‰²æŒ‰é’®å","categories":[],"tags":[{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"javascriptæ—¶é—´å¤„ç†å°æŠ€å·§","slug":"jsæ—¶é—´","date":"2017-08-18T07:41:37.000Z","updated":"2021-01-25T10:48:26.377Z","comments":true,"path":"2017/08/18/jsæ—¶é—´/","link":"","permalink":"http://yoursite.com/2017/08/18/jsæ—¶é—´/","excerpt":"","text":"è·å–å½“å‰æ—¶é—´1new Date() è·å–å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°12345678new Date().getTime()/*è¿”å›1970å¹´1æœˆ1æ—¥è‡³ä»Šçš„æ¯«ç§’æ•°*//*ä¸‹é¢æ˜¯ä½œç”¨ç›¸åŒï¼Œå†™æ³•ä¸åŒ*/Date.now()/*è¿™ä¸ªä¹Ÿè¿”å›å€¼ç›¸åŒ*/+new Date() +â€æ“ä½œç¬¦123456789/*å°†å…ƒç´ è½¬æ¢æˆnumberç±»å‹*/+'123'/*è¿”å›123*/+'www'/*è¿”å›NaN*//*åŒç†*/+Date.now() toLocaleDateString() å’Œ toLocaleTimeString() åŒºåˆ«123456789new Date().toLocaleDateString()/*2017/8/18 è·å–çš„å¹´æœˆæ—¥*/new Date().toLocaleTimeString()/*ä¸‹åˆ3:56:16 è·å–çš„æ—¶åˆ†ç§’*//*æ³¨æ„å¿…é¡»è¦ç”¨æ—¶é—´å¯¹è±¡è°ƒç”¨æ‰è¡Œ æ¯”å¦‚ Date.now().toLocaleDateString()ä¼šæŠ¥é”™ï¼Œå› ä¸ºDate.now()è¿”å›çš„æ˜¯æ¯«ç§’æ•°*/ æ—¶é—´æ ¼å¼å¤„ç†æŠ€å·§å¦‚æœæƒ³æ ¼å¼å¤„ç† å½“å‰æ—¶é—´ä¸ä¹‹å‰æŸä¸ªç‰¹å®šæ—¶é—´çš„æ—¶å·® å¯ä»¥ç”¨è¿™æ ·çš„æ–¹å¼123456789/*durationä¸ºå·®å€¼*/duration&gt;60 ?`$&#123;Math.round(duration/60)&#125;åˆ†é’Ÿå‰` : `$&#123;Math.round(Math.max(duration , 1))&#125;ç§’å‰`/*1.åˆ©ç”¨äº†ES6çš„æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œç»“æ„æ›´æ¸…æ™°2.åˆ©ç”¨ä¸‰ç›®è¿ç®—ç¬¦(ä¸‰å…ƒè¿ç®—ç¬¦)è¿›è¡Œåˆ¤æ–­ï¼Œé¿å…å„ç§if3.Math.max å¦‚æœå·®å€¼å°äº1sï¼Œåˆ™æŒ‰1sè®¡ç®—ï¼Œé¿å…åˆä¸€æ¬¡çš„ifåˆ¤æ–­*/","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"}]}]}